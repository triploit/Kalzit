<<<<<<< Updated upstream
<html><head>
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="referrer" content="no-referrer">
<meta charset="UTF-8"><script>var GLANG_DEBUG=false;this.GLang={returnFalse:function(){return false}};GLang.categorize=function(e,a){var n=true;function uniqueCategory(){n=!n;return n?"_":""}function findCategory(e){for(var n=0;n<a.length;n++){var t=a[n];if(t[1](e)){return t[0]}}return uniqueCategory()}var t=null;var r=[];var o=[];for(var l=0;l<e.length;l++){var u=e[l];var s=findCategory(u);if(s===t){r.push(u)}else{o.push([t,r]);r=[u];t=s}}if(r.length>0){o.push([t,r])}return o.slice(1)};GLang.tokenize=function(e){return GLang.categorize(e,[["Word",function(e){return e.match("[a-zA-Z_]")}],["Digit",function(e){return e.match("\\d")}],["Space",function(e){return e.match("\\s")}]]).map((function(e){return{textValue:e[1].join(""),category:e[0]}}))};(function(){var e=false;const a={next:function(e){switch(e.category){case"Word":return name(e);case"Digit":return integer(parseInt(e.textValue));case"Space":return a}switch(e.textValue){case"/":return n;case"}":case"]":case")":throw new Error("Found block closing character without an opener: "+e.textValue);case"?":throw new Error("The question mark (?) is only allowed after strings");case",":throw new Error("The comma (,) is only allowed as part of a number; it is used as the decimal point.");case"{":return s(1);case"[":return c(1);case"(":return g(1);case"'":case'"':return quoteBlock(e.textValue);case"$":return f;case"@":return annotationStart("calcitSetAnnotation");case"#":return annotationStart("calcitAddComment",true);case"\\":return h;case"`":case"´":return v;case"-":return o;case"=":return l}return group([special(e),a])},waiting:true,kind:"waiting"};const n={next:function(e){if(e.textValue==="*"){return t}else{return group([this,a.next(e)])}},waiting:false,kind:"special",special:"/"};const t={next:function(e){if(e.textValue==="*"){return r}else{return this}},waiting:true,getReasonForWaiting:function(){return"Block comments need to end with '*/"},kind:"blockComment"};const r={next:function(e){if(e.textValue==="/"){return a}else if(e.textValue==="*"){return this}else{return t}},waiting:true,getReasonForWaiting:function(){return"Block comments need to end with '*/"},kind:"blockComment"};const o={next:function(e){if(e.textValue===">"){return group([u,a])}else{return group([this,a.next(e)])}},special:"-",kind:"special",waiting:false};const l={next:function(e){if(e.textValue===">"){return group([u,a])}else{return group([this,a.next(e)])}},special:"=",kind:"special",waiting:false};const u={kind:"arrow",waiting:true};function isFinishedTree(e){if(e===a){return true}else{if(typeof e.waiting!=="boolean")throw new Error("Tree generator error: each tree item has to have a 'waiting' property of type 'boolean'. "+JSON.stringify(e));return!e.waiting}}function annotationStart(n,t){return{kind:"annotationStart",annotationTree:a,waiting:true,getReasonForWaiting:function(){return"You have started an annotation, but a valid piece of code for the value is missing."+(this.annotationTree.getReasonForWaiting?" The reason why the annotation value is unfinished is this: "+this.annotationTree.getReasonForWaiting():"")},next:function(r){if(this.annotationTree===a&&r.category==="Space")return this;this.annotationTree=this.annotationTree.next(r);if(isFinishedTree(this.annotationTree)){if(e&&t)return a;if(this.annotationTree.group){this.annotationTree.group.pop();return group(this.annotationTree.group.concat([{name:n,kind:"name"},a]))}else{return group([this.annotationTree,{name:n,kind:"name"},a])}}else{return this}}}}function special(e){return{special:e.textValue,kind:"special",waiting:false}}function depthBlock(e,a,n){return function(t){return{next:function(r){if(r.textValue===a){if(t===1){return n(this.text)}t-=1;if(t<0)throw new Error("Block depth is smaller than zero - caused by this character: "+a)}else if(r.textValue===e){t+=1}this.text+=r.textValue;return this},text:"",waiting:true,kind:"depthBlock",getReasonForWaiting:function(){return"You have opened a block with the character '"+e+"' , so you have to close it with '"+a+"'"}}}}var s=depthBlock("{","}",(function(e){return string(e)}));var c=depthBlock("[","]",(function(e){return group([{kind:"array",array:GLang.generateTree(e)},a])}));var g=depthBlock("(",")",(function(n){var t=GLang.generateTree(n,e);if(t.length==1){return group([t[0],a])}return group([{kind:"parentheses",parentheses:t,waiting:false},a])}));function quoteBlock(e){return{next:function(a){if(a.textValue===e)return string(this.text);this.text+=a.textValue;return this},text:"",waiting:true,kind:"quoteBlock"}}const v={next:function(e){if(e.textValue==="´"||e.textValue==="`")return a;return this},waiting:true,kind:"commentBlock"};function name(e){return{next:function(e){return group([this,a]).next(e)},name:e.textValue,kind:"name",waiting:false}}const f={next:function(e){if(e.category==="Word")return string(e.textValue);throw new Error("The dollar sign ($) has to be followed by a 'Word' token - but is followed by: "+e.textValue)},waiting:true,kind:"dollarString"};const h={next:function(e){if(e.category==="Digit")return group([integer(-parseInt(e.textValue)),a]);throw new Error("The minus sign (\\) has to be followed by a 'Digit' token - but is followed by: "+e.textValue)},kind:"negativeSign",waiting:true};function integer(e){return{next:function(n){if(n.textValue===",")return commaNumber(e);return group([this,a]).next(n)},num:e,kind:"num",waiting:false}}function commaNumber(e){return{next:function(n){if(n.category==="Digit")return group([float(e,n),a]);return error(n)},kind:"commaNumber",waiting:true}}function float(e,n){return{next:function(e){return group([this,a]).next(e)},num:parseFloat(e+"."+n.textValue),kind:"num",waiting:false}}function string(e){return{string:e,kind:"string",waiting:false,next:function(n){if(n.textValue==="?"){return stringWithQuestionMark(e)}else if(n.category==="Space"){return this}else{return new group([this,a]).next(n)}}}}function stringWithQuestionMark(e){return{kind:"stringWithQuestionMark",waiting:true,stringValue:e,typeTree:a,next:function(e){this.typeTree=this.typeTree.next(e);if(isFinishedTree(this.typeTree)&&this.typeTree!==a){return group([{kind:"parentheses",parentheses:[this.typeTree.group?this.typeTree.group[0]:this.typeTree,{name:"calcitSetType",kind:"name"},string(this.stringValue)],waiting:false},a])}else{return this}}}}function group(e){var n=null;if(e.length===0)throw new Error("Tree generator error: The 'group' function should never be called with an empty state list");if(e[e.length-1]===a){n=false}else{isFinishedTree(e[e.length-1]);n=e[e.length-1].waiting}return{next:function(a){var n=e.pop().next(a);if(n.group){return group(e.concat(n.group))}return group(e.concat([n]))},group:e,kind:"group",waiting:n}}function makeSentences(e){var a=[];var n=[];for(var t=0;t<e.length;t++){if(e[t].special=="."){a.push(finishSentenceAndCheckForExclamationMarks(n));n=[]}else n.push(e[t])}if(n.length)a.push(finishSentenceAndCheckForExclamationMarks(n));var r=[];for(var t=0;t<a.length;t++){r=r.concat(a[t]);if(t<a.length-1)r.push({kind:"dot",dot:1,waiting:false})}return r}function finishSentenceAndCheckForExclamationMarks(e){if(!e.length)return e;if(e[e.length-1]===a)e.pop();e:for(var n=0;n<e.length;n++){if(e[n].special==="!"){switch(n){case e.length-2:var t=finishSentenceAndCheckForExclamationMarks(e.splice(n+1,1));e=e.slice(0,n).concat([{kind:"name",name:"do",waiting:false},{kind:"name",name:":",waiting:false}],t);break e;case e.length-3:var t=finishSentenceAndCheckForExclamationMarks(e.splice(n+1,1));var r=finishSentenceAndCheckForExclamationMarks(e.splice(n+1,1));e=e.slice(0,n).concat(t,{kind:"name",name:":",waiting:false},r);break e}if(n>e.length-2){throw new Error("The character ! is not allowed here. It can be used as follows: !operator firstOperand secondOperand.")}var t=finishSentenceAndCheckForExclamationMarks(e.splice(n+1,1));var o=e.slice(n+1);var l=o.indexOf(u);if(l!==-1){if(l==0||l==o.length-1){throw new Error("You almost got the arrow syntax right! Just put something before and after the arrow.")}var s=finishSentenceAndCheckForExclamationMarks({kind:"parentheses",parentheses:o.splice(0,l),waiting:false});var c=finishSentenceAndCheckForExclamationMarks({kind:"parentheses",parentheses:o.slice(1),waiting:false});e=e.slice(0,n).concat(c,t,s)}else{var c=finishSentenceAndCheckForExclamationMarks(e.splice(n+1,1));var s=finishSentenceAndCheckForExclamationMarks(e.splice(n+1,e.length-n-1));e=e.slice(0,n).concat(c,t,s)}break}}return e}GLang.generateTree=function(n,t){e=t;var r=a;var o=GLang.tokenize(n);for(var l=0;l<o.length;l++){r=r.next(o[l])}if(!isFinishedTree(r)){if(!r.getReasonForWaiting){throw new Error("Your code is not finished. Relevant syntax tree: "+JSON.stringify(r.group?r.group[r.group.length-1]:r))}else{throw new Error("Unfinished code error. "+r.getReasonForWaiting()+". Relevant syntax tree: "+JSON.stringify(r.group?r.group[r.group.length-1]:r))}}var u=makeSentences(r.group||[r]);return u}})();GLang.scopePrototype={notifyVariableChange:function(e){if(GLang.disableRuntimeUpdates)return;for(var a=0;a<this.variableUpdateFunctions.length;a++){var n=this.variableUpdateFunctions[a];if(n.varName===e){n.update()}}},registerVariableListener:function(e,a){this.variableUpdateFunctions.push({varName:this.unifyStringName(e),update:a})},resolveUnknownName:"calcit_resolve_unknown",resolveName:function(e){var a=this.unifyStringName(e);var n=this["kv_"+a];var t=null;if(n){t=n.varValue}else if(GLang.packageManager.installPackage(a)){t=GLang.defaultRuntimeEnvironment["kv_"+a].varValue}else{throw new Error("You used this non-existent variable: "+e)}if(t==null){throw new Error("Variable resolve about to return null or undefined - this is a serious language implementation problem and should be addressed. Attempted to resolve '"+e+"'")}try{t.varName=e}catch(a){console.warn("There was a non-critical problem with adding a variable name to a resolved value: ("+e+")");console.warn(a)}return t},unifyStringName:function(e){if("string"!==typeof e)throw new Error("unifyStringName only accepts strings - "+JSON.stringify(e)+" does not fit this rule");if(e===""){return""}if(e.includes("_")||e===e.toUpperCase()){return e.toLowerCase()}var a=e.replace(/[A-Z]/g,(e=>"_"+e.toLowerCase()));if(a.startsWith("_")){return a.slice(1)}else{return a}},setInnerVariable:function(e,a,n,t){if(!e.match("[a-zA-Z_]+")){throw new Error(e+" is not a valid variable name!")}e=this.unifyStringName(e);if(GLANG_DEBUG&&e.length<=1){console.warn("You should probably give this variable a more meaningful name: "+e);console.log("Kalzit call stack:");console.log([...GLang.callStack]);if(GLang.callStack.length){console.log("This is probably the most important value in the stack (the last one):");console.log(GLang.callStack[GLang.callStack.length-1].obj)}console.log("---")}if(this.hasOwnProperty("kv_"+e)){var r=this["kv_"+e];if(n){var o=a;var l=r.varValue;if(r.varType){o=GLang.callObject(r.varType,this,[a]);GLang.logTypeHint({message:"The following variable was automatically changed by its type",oldValue:a,newValue:o,typeName:GLang.getValueVarName(r.varType),varName:e})}if(l!==o){r.varValue=o;this.notifyVariableChange(e)}return o}else{throw new Error("Not allowed to change variable $"+e)}}if(GLANG_DEBUG&&this["kv_"+e]!=undefined){console.warn("You attempted to define a variable that already exists in a higher scope: "+e);console.log("Kalzit call stack:");console.log([...GLang.callStack]);console.log(new Error("JS call stack:"));console.log("This is probably the most important value in that stack (the second-to-last one):");console.log(GLang.callStack[GLang.callStack.length-2].obj);console.log("---")}var u=a;if(t){u=GLang.callObject(t,this,[a],t)}this["kv_"+e]={varName:e,varValue:u,varType:t};this.notifyVariableChange(e);return u},setInnerWithoutListeners:function(e,a){e=this.unifyStringName(e);this["kv_"+e]={varName:e,varValue:a}},hasInnerVariable:function(e){return this.hasOwnProperty("kv_"+this.unifyStringName(e))}};GLang.RuntimeEnvironment=function(e){if(!this instanceof GLang.RuntimeEnvironment)throw new Error("GLang.RuntimeEnvironment not called with 'new' keyword");var a=Object.create(e||GLang.scopePrototype);a.variableUpdateFunctions=[];return a};GLang.createFunctionScope=function(e,a,n){var t=new GLang.RuntimeEnvironment(e);a=a.value||[];for(var r=0;r<a.length;r++){if("string"!==typeof a[r].value)throw new Error("Every entry of an argument list needs to be a string value - "+JSON.stringify(a[r])+" does not fit this rule");var o=n.length>r?n[r]:GLang.voidValue;var l=a[r].value;var u=GLang.getType(a[r]);var s=o;if(u){s=GLang.callObject(u,e,[o])}t.setInnerWithoutListeners(l,s)}return t};GLang.callStack=[];GLang.getValueVarName=function(e){try{if(e.varName)return e.varName;return"unnamed value (JS "+typeof e.value+")"}catch(e){return"unknown value"}};GLang.logTypeHint=function(e){if(GLANG_DEBUG&&!GLang.eq(e.oldValue.value,e.newValue.value)){console.warn(e.message+": "+e.varName+" (type "+e.typeName+")");console.log("The type changed the assigned value from this:");console.log(e.oldValue);console.log("... to that:");console.log(e.newValue);console.log("Kalzit call stack:");console.log([...GLang.callStack]);console.log("This is probably the most important value in that stack (the second-to-last one):");console.log(GLang.callStack[GLang.callStack.length-2].obj);console.log("---")}};GLang.getSimplifiedCallStack=function(){return GLang.callStack.map((e=>GLang.getValueVarName(e.obj)))};GLang.callObject=function(e,a,n){GLang.callStack.push({obj:e,args:n});if(GLANG_DEBUG&&GLang.getFirstAnnotation(e,GLang.stringValue("deprecated"))!=undefined){console.warn("You called a deprecated value: "+(e.varName?e.varName:"unnamed value")+". This is OK, just for you to consider.");console.log("Kalzit call stack:");console.log([...GLang.callStack]);console.log("---")}try{if(typeof e!=="object"){throw new Error("Values have to be 'normal' objects, not functions. Trying to call: "+e)}else{var t=e.value;var r=null;switch(typeof t){case"function":r=t(a,n);if(r==null)throw new Error("Calling the following function lead to a result of null or undefined: "+t);break;case"string":r=GLang.functionFromString(t,e.environment||a).value(a,n);break;default:r=e;break}if(r==null){throw new Error("A function call lead to a return value of null or undefined. This probably indicates a problem with the implementation of a JS function - all JS functions written for Kalzit libraries should return GLang.voidValue instead of undefined.")}GLang.callStack.pop();if(!(r.varName&&":"===GLang.getValueVarName(e))){r.varName="return-value of "+GLang.getValueVarName(e)}return r}}catch(e){GLang.print("Error: "+(e.message||e)+"; (oldest call first, ':' and 'do' excluded)");GLang.getSimplifiedCallStack().forEach((e=>{if(!(e==="do"||e===":")){GLang.error("at "+e)}}));console.log("JS call stack for console use:");console.log(e);console.log("Kalzit call stack for console use:");console.log([...GLang.callStack]);console.log("This is probably the most important value in that stack (the last one):");console.log(GLang.callStack[GLang.callStack.length-1].obj);console.log("---");GLang.callStack.pop();return{value:[],error:e,callStackCopy:[...GLang.callStack],annotations:[{value:[GLang.stringValue("error"),GLang.stringValue(e.message)]}]}}};GLang.getAnnotationType=function(e){var a=e.display;if(a==="string"||a==="function"){return"function"}if(!(e.value instanceof Array&&e.value.length===2)){return"invalid"}return"array"};GLang.applyArrayAnnotation=function(e,a,n){n(e,a)};GLang.applyAnnotation=function(e,a,n){switch(GLang.getAnnotationType(a)){case"function":GLang.callObject(a,GLang.defaultRuntimeEnvironment,[e]);break;case"array":n(e,a);break;default:throw new Error("An annotation needs to be an array with two values, or a function - "+GLang.stringify(a)+" does not fit this rule")}};GLang.addAnnotation=function(e,a){GLang.applyAnnotation(e,a,(function(){e.annotations=e.annotations||[];e.annotations.push(a)}))};GLang.setAnnotation=function(e,a){GLang.applyAnnotation(e,a,(function(){e.annotations=e.annotations||[];for(var n=0;n<e.annotations.length;n++){if(GLang.eq(e.annotations[n].value[0].value,a.value[0].value)){e.annotations[n]=a;return}}e.annotations.push(a)}))};GLang.getFirstAnnotation=function(e,a){if(!e.annotations)return undefined;for(var n=0;n<e.annotations.length;n++){if(GLang.eq(e.annotations[n].value[0].value,a.value)){return e.annotations[n].value[1]}}};GLang.getNamedAnnotations=function(e,a){if(!e.annotations)return[];var n=[];for(var t=0;t<e.annotations.length;t++){if(GLang.eq(e.annotations[t].value[0].value,a.value)){n.push(e.annotations[t].value[1])}}return n};GLang.getType=function(e){if(e.annotations){for(var a=0;a<e.annotations.length;a++){if(e.annotations[a].value[0].value==="type"){return e.annotations[a].value[1]}}}};GLang.functionFromString=function(e,a){return GLang.functionFromTree(GLang.generateTree(e),a,{value:[{value:"x"},{value:"y"}]})};GLang.functionFromTree=function(e,a,n,t){var r={value:function(r,o){var l=GLang.createFunctionScope(a,n,o);var u=GLang.evaluateTree(e,l);if(t){return GLang.callObject(t,r,[u])}else{return u}},display:"function"};GLang.setAnnotation(r,{value:[GLang.stringValue("argumentList"),n]});return r};GLang.evaluateTree=function evaluateTree(e,a){var n=[];var t=GLang.voidValue;for(var r=0;r<e.length;r++){if(e[r].dot){t=GLang.evaluateSentence(n,a);n=[]}else{n.push(e[r])}}if(n.length){t=GLang.evaluateSentence(n,a)}return t};GLang.evaluateSentence=function evaluateSentence(e,a){var n=e.length;if(n===0)return GLang.voidValue;if(0===n%2){e=e.splice(0,1).concat([{kind:"special",special:":"}]).concat(e);n++}if(n===1)return GLang.evaluateSentenceFragment(e[0],a);return GLang.evaluateOperation([e[0]],[e[1]],e.slice(2),a)};GLang.evaluateOperation=function evaluateOperation(e,a,n,t){var r=GLang.evaluateTree(e,t);var o=GLang.evaluateTree(n,t);var l=GLang.evaluateTree(a,t);return GLang.callObject(l,t,[r,o])};GLang.evaluateSentenceFragment=function evaluateSentenceFragment(e,a){switch(e.kind){case"string":var n=GLang.stringValue(e.string);n.environment=a;return n;case"num":return{value:e.num};case"name":return a.resolveName(e.name);case"parentheses":return GLang.evaluateTree(e.parentheses,a);case"array":return{value:[GLang.evaluateTree(e.array,a)]};case"special":return a.resolveName(e.special);default:console.error(e)}};(function(e){GLang.defaultRuntimeEnvironment=new GLang.RuntimeEnvironment;function stringValue(e){if(e===undefined||e===null){return GLang.voidValue}return{value:e,display:"string"}}GLang.stringValue=stringValue;GLang.voidValue={value:[],display:"none"};function arrayFun(e){if(!e.value){e={value:e}}function arrayFunWrapper(a,n){var t=n.length;if(t===0){return GLang.callObject(e,a,[])}if(t>2){throw new Error("You can not call an array function with more than two parameters. (You should never call a function with more than two parameters)")}var n=n.slice(0,n.length);if(t===1){n.push({value:0})}var r=n[0];if(GLang.eq(r.value,[]))return{value:[]};var o=n[1];if(GLang.eq(o.value,[]))return{value:[]};var l=[];if(r.value instanceof Array||o.value instanceof Array){r=r.value instanceof Array?r:{value:[r]};o=o.value instanceof Array?o:{value:[o]};var u=r.value.length,s=o.value.length;var c=Math.max(u,s);for(var g=0;g<c;g++){if(!o.value.length){l.push(arrayFunWrapper(a,[r.value[g%u]]))}else{l.push(arrayFunWrapper(a,[r.value[g%u],o.value[g%s]]))}}return{value:l,display:o.display||r.display}}if(t==1){return GLang.callObject(e,a,[r])}else{return GLang.callObject(e,a,[r,o])}}return arrayFunWrapper}GLang.arrayFun=arrayFun;function atFunction(e,a){var n=a.value;if(n instanceof Array&&n.length===0)return{value:[]};if(e instanceof Array){var t=[];for(var r=0;r<e.length;r++){t.push(atFunction(e[r].value,a))}return{value:t}}if(!(n instanceof Array)){n=[{value:n}]}return n[e%n.length]}GLang.at=atFunction;GLang.printValue=GLang.printValue||function(e){GLang.print(e.value)};GLang.eq=function eq(e,a){if(e instanceof Array&&a instanceof Array){if(e.length!==a.length)return false;for(var n=0;n<e.length;n++){if(!GLang.eq(e[n].value,a[n].value))return false}return true}return e===a};var a=[{varName:"+",varValue:{value:arrayFun((function(e,a){return{value:a[0].value+a[1].value,display:a[0].display||a[1].display}}))}},{varName:"-",varValue:{value:arrayFun((function(e,a){if(a.length===1){return{value:-a[0].value}}return{value:a[0].value-a[1].value}}))}},{varName:"%",varValue:{value:arrayFun((function(e,a){return{value:a[0].value/a[1].value}}))}},{varName:"*",varValue:{value:arrayFun((function(e,a){return{value:a[0].value*a[1].value}}))}},{varName:"/",varValue:{value:function(e,a){if(!(a[1].value instanceof Array)){a[1]={value:[a[1]]}}if(a[1].value.length===0)return{value:[]};var n=a[1].value[a[1].value.length-1];if(a[1].value.length===1)return n;for(var t=a[1].value.length-2;t>=0;t--){n=GLang.callObject(a[0],e,[a[1].value[t],n])}return n}}},{varName:"print",varValue:{value:function(e,a){GLang.printValue(a[0]);return a[0]}}},{varName:"array",varValue:{value:function(e,a){return{value:a}}}},{varName:"fun",varValue:{value:function(e,a){var n=a[0];if(!(n.value instanceof Array)){n=[n]}else{n=n.value}if(n.length>2){throw new Error("Functions can not have more than two parameters")}var t=GLang.generateTree(a[1].value);var r=GLang.getType(a[1]);return result=GLang.functionFromTree(t,e,{value:n},r)}}},{varName:";",varValue:{value:function(e,a){var n=a[0];if(!(n.value instanceof Array)){n={value:[n]}}var t=a[1];if(!(t.value instanceof Array)){t={value:[t]}}return{value:[].concat(n.value,t.value)}}}},{varName:":",varValue:{value:function(e,a){return GLang.callObject(a[0],e,[a[1]])}}},{varName:"=",varValue:{value:function(e,a){var n=a[0].value,t=e,r=false;if("string"!==typeof n)throw new Error("First argument of = has to be a string or reference - "+JSON.stringify(n)+" does not fit this rule");if(a[0].display==="reference"){t=a[0].environment;r=true}return t.setInnerVariable(n,a[1],r,GLang.getType(a[0]))}}},{varName:"range",varValue:{value:arrayFun((function(e,a){var n=[];if(a[0].value<=a[1].value){for(var t=a[0].value;t<=a[1].value;t++){n.push({value:t})}}else{for(var t=a[0].value;t>=a[1].value;t--){n.push({value:t})}}return{value:n}}))}},{varName:"void",varValue:GLang.voidValue},{varName:"eq",varValue:{value:function(e,a){return{value:GLang.eq(a[0].value,a[1].value)?1:0}}}},{varName:"<",varValue:{value:arrayFun((function(e,a){return{value:a[0].value<a[1].value?1:0}}))}},{varName:">",varValue:{value:arrayFun((function(e,a){return{value:a[0].value>a[1].value?1:0}}))}},{varName:"^",varValue:{value:arrayFun((function(e,a){return{value:a[0].value**a[1].value}}))}},{varName:"mod",varValue:{value:arrayFun((function(e,a){return{value:a[0].value%a[1].value}}))}},{varName:"|",varValue:{value:arrayFun((function(e,a){return a[0].value<a[1].value?a[1]:a[0]}))}},{varName:"&",varValue:{value:arrayFun((function(e,a){return a[0].value<a[1].value?a[0]:a[1]}))}},{varName:"at",varValue:{value:function(e,a){return atFunction(a[0].value,a[1])}}},{varName:"reference",varValue:{value:function(e,a){if(a[0].display==="reference"){return a[0]}return{value:a[0].value,display:"reference",environment:e,name:a[0].value}}}},{varName:"display_type",varValue:{value:function(e,a){return GLang.stringValue(a[0].display||"default")}}},{varName:"resolve_reference",varValue:{value:function(e,a){var n=a[0];return n.environment.resolveName(n.name)}}},{varName:"is_defined",varValue:{value:function(e,a){var n=a[0].value+"";try{e.resolveName(n);return{value:1}}catch(e){return{value:0}}}}}];for(var n=0;n<a.length;n++){GLang.defaultRuntimeEnvironment["kv_"+a[n].varName]=a[n]}})(this);GLang.wrapJsToValue=function wrapJsToValue(e){if(e===null||e===undefined||e!==e)return GLang.voidValue;switch(typeof e){case"string":return GLang.stringValue(e);case"boolean":return{value:e?1:0}}if(e instanceof Function){var a=e;var calcitFunction=function(e,n){var t=n.map((e=>e.value));return wrapJsToValue(a(...t))};var n=a.toString().replace(/((\/\/.*$)|(\/\*[\s\S]*?\*\/)|(\s))/gm,"").match(/^function\s*[^\(]*\(\s*([^\)]*)\)/m)[1].split(/,/);var t=true;for(var r=0;r<n.length;r++){if(n[r].startsWith("_")){t=false;break}}if(t)calcitFunction=GLang.arrayFun(calcitFunction);return{value:calcitFunction,display:"function",argumentList:n}}if(e instanceof Array){return{value:e.map((e=>GLang.wrapJsToValue(e)))}}if(e instanceof Object){var o=[];for(prop in e){o.push({value:[GLang.stringValue(prop),GLang.wrapJsToValue(e[prop])]})}return{value:o}}return{value:e}};GLang.wrapValueToJsObject=function(e){e=e.value;if(e instanceof Array){var a={};for(var n=0;n<e.length;n++){if(e[n].value.length===2&&"string"===typeof GLang.at(0,e[n]).value){var t=GLang.at(0,e[n]).value;if(!a.hasOwnProperty(t)){a[t]=GLang.wrapValueToJsObject(GLang.at(1,e[n]))}}else{var r=[];for(var n=0;n<e.length;n++){r[n]=GLang.wrapValueToJsObject(e[n])}return r}}return a}else{return e}};(function(global){function loadPackageSync(e){var a=e.split(".");var n=a[a.length-1];var t=this.supportedLanguages["lang_"+n];if(t){try{t(e,this.loadUrl(e))}catch(e){GLang.error(e)}return}GLang.error("Unsupported language for packages: "+n)}function register(e,a){if(e instanceof Array){for(var n=0;n<e.length;n++){this.register(e[n],a)}return}for(var t=0;t<this.registeredPackages.length;t++){var r=this.registeredPackages[t];if(r.provides===e.provides){GLang.error("The name "+r.provides+" is already provided by "+r)}}if(a){e.scriptUrl=a+e.scriptUrl}this.registeredPackages.push(e)}function validatePackageVariables(e){for(var a=0;a<e.length;a++){if(!GLang.defaultRuntimeEnvironment.hasInnerVariable(e[a])){throw new Error("A package has claimed to provide the variable "+e[a]+" - but it does not")}}}function installPackage(e){if(GLANG_DEBUG)console.log("Looking for name "+e);for(var a=0;a<this.registeredPrecompiledPackages.length;a++){var n=this.registeredPrecompiledPackages[a];if(n[0].includes(e)){GLang.evaluateTree(n[1],GLang.defaultRuntimeEnvironment);validatePackageVariables(n[0]);return true}}for(var a=0;a<this.registeredPackages.length;a++){var n=this.registeredPackages[a];for(var t=0;t<n.provides.length;t++){if(n.provides[t]===e){this.loadPackageSync(n.scriptUrl,n.scriptType);validatePackageVariables(n.provides,n.scriptUrl);return true}}}return false}function initialize(e){for(var a=0;a<e.length;a++){this.loadPackageSync(e[a])}}GLang.PackageManager=function(){this.loadPackageSync=loadPackageSync;this.registeredPackages=[];this.hiddenRegisteredPackages=[];this.installedUrls=[];this.register=register;this.installPackage=installPackage;this.registeredPrecompiledPackages=[];this.registerPrecompiledPackage=function(e,a){this.registeredPrecompiledPackages.push([e,a]);this.registeredPackages.push({provides:e,scriptUrl:null})};function installJs(e){var a={};e.call(a);for(property in a){GLang.defaultRuntimeEnvironment.setInnerVariable(GLang.defaultRuntimeEnvironment.unifyStringName(property),GLang.wrapJsToValue(a[property]))}}this.installJs=installJs;this.supportedLanguages={lang_js:function(e,a){try{installJs(Function(a))}catch(e){console.log(e.stack)}},lang_txt:function(e,a){GLang.eval(a,true)},lang_json:function(url,x){var packageInfo=eval("("+x+")");if(packageInfo.requirements){for(var i=0;i<packageInfo.requirements.length;i++){if(GLang.packageManager.registeredPackages.indexOf(packageInfo.requirements[i])!==-1)continue;GLang.packageManager.loadPackageSync(packageInfo.requirements[i])}}GLang.packageManager.register(packageInfo.libraries,url.replace("/platform-packages.json","/packages/"))},lang_k:function(e,a){GLang.eval(a,true)}};this.initialize=initialize}})(this);GLang.eval=function(e,a){var n=a?1:0;GLang.disableRuntimeUpdates+=n;try{var t=GLang.evaluateTree(GLang.generateTree(e),GLang.defaultRuntimeEnvironment);GLang.disableRuntimeUpdates-=n;if(GLang.disableRuntimeUpdates<0){GLang.error("GLang.disableRuntimeUpdates is "+GLang.disableRuntimeUpdates)}return t}catch(e){GLang.disableRuntimeUpdates-=n;console.error(e);throw e}};GLang.stringify=function(e){try{return JSON.stringify(e)}catch(n){var a=[GLang.defaultRuntimeEnvironment];return JSON.stringify(e,(function(e,n){if(n!=null&&typeof n=="object"){if(a.indexOf(n)>=0){return}a.push(n)}return n}))}};(function(){GLang.notifyVariableChange=GLang.defaultRuntimeEnvironment.notifyVariableChange;GLang.registerVariableListener=function(e,a){console.warn("GLang.registerVariableListener should not be used anymore - use GLang.defaultRuntimeEnvironment.registerVariableListener instead");GLang.defaultRuntimeEnvironment.registerVariableListener(e,a)};GLang.disableRuntimeUpdates=0})();GLang.listCookies=function(e){var a=[];var n=e.split(";");for(var t=0;t<n.length;t++){var r=n[t];while(r.charAt(0)==" ")r=r.substring(1,r.length);var o=r.split("=")[0];if(o!=="")a.push(o)}return a};GLang.getCookie=function(e,a){var n=encodeURIComponent(a)+"=";var t=e.split(";");for(var r=0;r<t.length;r++){var o=t[r];while(o.charAt(0)==" ")o=o.substring(1,o.length);if(o.indexOf(n)==0)return decodeURIComponent(o.substring(n.length,o.length))}return null};const KLoad={};(function(global){function headersValuesToStringsArray(_headers){if(_headers){var headerArray=[];for(var i=0;i<_headers.length;i++){headerArray[i]=[_headers[i].value[0].value,_headers[i].value[1].value]}return headerArray}}GLang.headersArrayToJson=function(_headers){return _headers?JSON.stringify(_headers):"[]"};function loadUrl(url,_headers){var xhrObj=new XMLHttpRequest;xhrObj.open("GET",url,false);if(_headers){for(var i=0;i<_headers.length;i++){xhrObj.setRequestHeader(_headers[i][0],_headers[i][1])}}xhrObj.send("");var result=xhrObj.responseText;if(xhrObj.status===200){return result}else{return null}}global.loadUrl=loadUrl;global.loadGlobal=function(url,_headers){try{return loadUrl("/api/loadUrl?query="+encodeURIComponent(url+""),headersValuesToStringsArray(_headers))}catch(e){}};global.loadLocal=function(url,_headers){try{return loadUrl(url,headersValuesToStringsArray(_headers))}catch(e){}}})(KLoad);GLang.domPackageManager=Object.create(new GLang.PackageManager);GLang.domPackageManager.loadUrl=KLoad.loadUrl;(function(){function showMessageOnPage(message,type){try{var paragraph=document.createElement("p");paragraph.innerHTML=GLang.stringify(message);switch(type){case"error":paragraph.style.color="red";break;case"print":paragraph.style.color="gray";break}document.getElementById("playground").appendChild(paragraph)}catch(e){}}GLang.error=function(error){console.error(error);showMessageOnPage(error,"error")};GLang.log=function(data){console.log(data)};GLang.print=function(data){console.warn(data);showMessageOnPage(data,"print")};GLang.stringDisplay=function(stringProducer){return function(value){var paragraph=document.createElement("p");paragraph.appendChild(document.createTextNode(stringProducer(value)));return paragraph}};GLang.printValue=function(container){document.getElementById("playground").appendChild(GLang.displayValue(container))};GLang.packageManager=GLang.domPackageManager})();GLang.displayDefinitions={default:GLang.stringDisplay((function(x){var val=x.value;if(val instanceof Array){if(val.length===0){return"()"}var string="";for(var i=0;i<val.length;i++){string+="["+GLang.displayValue(val[i]).innerHTML+"]";if(i<val.length-1){string+="; "}}return string}return JSON.stringify(val)})),string:GLang.stringDisplay((function(x){return x.value})),variable:GLang.stringDisplay((function(x){return"$"+x.value})),none:GLang.stringDisplay((function(x){return""})),function:GLang.stringDisplay((function(x){var result=x.value.codeString?"{"+x.value.codeString+"}":"{{function}. void}";if(GLang.getFirstAnnotation(x,GLang.stringValue("argumentList"))){var argumentValues=GLang.getFirstAnnotation(x,GLang.stringValue("argumentList")).value;var argList="(";for(var i=0;i<argumentValues.length;i++){argList+="$"+(argumentValues[i].value||argumentValues[i]);if(i<argumentValues.length-1){argList+="; "}}argList+=")";result=argList+" fun "+result}return result})),dom:function(x){return x.value},reference:GLang.stringDisplay((function(x){return"reference: $"+x.value}))};GLang.displayValue=function displayValue(container){var displayType=container.display||"default";if(GLang.displayDefinitions.hasOwnProperty(displayType)){return GLang.displayDefinitions[displayType](container)}};(function(global){function removeFromArray(array,item){array.splice(array.indexOf(item),1)}var currentAbortController=new AbortController;function unimportantFetch(request,options,resolveFunction,rejectFunction){if(activeImportantFetches.length){queuedUnimportantFetches.push({request:request,options:options,resolve:resolveFunction,reject:rejectFunction});return}options=options||{};options.signal=currentAbortController.signal;return new Promise(((resolve,reject)=>{var actualResolveFunction=resolveFunction||resolve;var actualRejectFunction=rejectFunction||reject;fetch(request,options).then((response=>{actualResolveFunction(response);if(actualResolveFunction!==resolve){resolve(response)}})).catch((error=>{if(error.name=="AbortError"){console.warn("Unimported fetch was interrupted; should be restarted soon");queuedUnimportantFetches.push({request:request,options:options,resolve:actualResolveFunction,reject:actualRejectFunction})}else{actualRejectFunction(error)}if(actualRejectFunction!==reject){reject(error)}}))}))}function importantFetch(request,options){return new Promise(((resolve,reject)=>{startImportantFetch();fetch(request,options).then((response=>{finishImportantFetch();resolve(response)})).catch((error=>{finishImportantFetch();reject(error)}))}))}var activeImportantFetches=0;var queuedUnimportantFetches=[];function startImportantFetch(){currentAbortController.abort();currentAbortController=new AbortController;activeImportantFetches++;console.log("Making loading indicator visible");document.body.classList.add("k-loading_indicator_visible")}function finishImportantFetch(){activeImportantFetches--;if(activeImportantFetches<0)console.error("Error: activeImportantFetches in KFetch is negative, indicating an implementation error: "+activeImportantFetches);if(activeImportantFetches==0){console.log("Making loading indicator invisible");document.body.classList.remove("k-loading_indicator_visible");while(queuedUnimportantFetches.length){var fetchParameters=queuedUnimportantFetches.pop();unimportantFetch(fetchParameters.request,fetchParameters.options,fetchParameters.resolve||null,fetchParameters.reject||null).then((result=>{})).catch((error=>{}))}}}global.KFetch={important:importantFetch,unimportant:unimportantFetch}})(this);const KStorage={};(function(thiz){function withLocalStorage(onSuccess,onError){try{if(localStorage){onSuccess(localStorage)}else{throw new Error("The localStorage API is not available")}}catch(e){if(onError)onError(e)}}var native_loadString=function(name){var result;withLocalStorage((function(storage){result=storage.getItem(name)}));return result};var native_saveString=function(name,value){withLocalStorage((function(storage){storage.setItem(name,value)}))};function getServerCookies(){var token=native_loadString("calcitSession");if(!token)return;try{return JSON.parse(GLang.packageManager.loadUrl("/api/cookieJson/v2",[["kalzit-session",token]]))}catch(e){}}function dealWithInvalidSession(){var session=native_loadString("calcitSession");thiz.storageRemove("calcitSession");thiz.storageClear();setTimeout((function(){GLang.eval("!showMessageAsync strings: $loginDetailsInvalid -> reload")}),0)}var serverCookies=null;function pullAllCookies(){var response=getServerCookies();if(response==null){location.reload()}if(!response.sessionValid){dealWithInvalidSession();return}else{serverCookies=response.keys||{};console.log(serverCookies);for(var key in serverCookies){var value=serverCookies[key];if("string"===typeof value)native_saveString(key,value)}}}var toPush=[];var deletedKeys=[];function pushCookie(name,undelete){pushCookies([name],undelete)}function pushCookies(nameList,undelete){var pushedObject={};var pushCount=0;for(var i=0;i<nameList.length;i++){var name=nameList[i];if(deletedKeys.includes(name))continue;pushedObject[name]=native_loadString(name);pushCount++}if(pushCount===0)return;console.log("Trying to push this (as JSON):");console.log(pushedObject);try{var xhr=new XMLHttpRequest;xhr.open("GET","/api/updateCookieJson/v4?session="+encodeURIComponent(native_loadString("calcitSession"))+"&time="+encodeURIComponent((new Date).getTime()+"")+"&push="+encodeURIComponent(JSON.stringify(pushedObject)));if(undelete){xhr.setRequestHeader("kalzit-undelete","true")}xhr.onload=function(){if(this.status>=200&&this.status<300){var jsonResponse=JSON.parse(this.responseText);console.log(jsonResponse);console.log("(Deleted values are):");console.log(deletedKeys);if(jsonResponse.logout){dealWithInvalidSession();return}var deleted=jsonResponse.deleted;for(var i=0;i<deleted.length;i++){thiz.storageRemove(deleted[i])}}else{toPush.push(...nameList)}};xhr.onerror=function(){toPush.push(...nameList)};xhr.send()}catch(error){console.log(error);toPush.push(...nameList)}}function pushNewCookies(){var toPushCopy=[...toPush];toPush=[];pushCookies(toPushCopy,true)}function pushAllCookies(){if(!native_loadString("calcitSession"))return;var allExistingKeys=thiz.storageListKeys();var allNewKeys=allExistingKeys.filter((key=>serverCookies[key]!==native_loadString(key)));console.log("Trying to push these keys: "+JSON.stringify(allNewKeys));pushCookies(allNewKeys,true)}function startCookieRefreshLoop(){setInterval(pushNewCookies,3*1e3)}function deleteCookie(name){console.log("Trying to delete cookie "+name);deletedKeys.push(name);KFetch.important("/api/deleteCookie",{headers:new Headers({"kalzit-cookie-name":name,"kalzit-session":native_loadString("calcitSession")})});withLocalStorage((function(storage){storage.removeItem(name)}))}thiz.storageSaveString=function(name,value){if(native_loadString(name)===value)return;native_saveString(name,value);if(deletedKeys.includes(name)){deletedKeys.splice(deletedKeys.indexOf(name),1)}toPush.push(name)};thiz.storageRemove=deleteCookie;thiz.storageLoadString=native_loadString;thiz.storageListKeys=function(){var list=[];withLocalStorage((function(storage){var length=storage.getLength?storage.getLength():storage.length;for(var i=0;i<length;i++){list.push(storage.key(i))}}));console.log(list);return list};thiz.storageClear=function(){withLocalStorage((function(storage){storage.clear()}))};var token=native_loadString("calcitSession");console.log("calcitSession is "+token);if(token===undefined){alert("Your browser does not support or allow storing data locally. The functionality of this app might be limited by that.")}else if(token!==null){token=""+token;var tokenAsNumber=parseFloat(token);if(tokenAsNumber!==tokenAsNumber||tokenAsNumber>1||tokenAsNumber<0){dealWithInvalidSession();return}else{console.log("Session seems valid")}}if(token){pullAllCookies();pushAllCookies();startCookieRefreshLoop();window.addEventListener("beforeunload",(function(event){pushNewCookies()}))}})(KStorage);const Timeout={timeoutAfter:30,warnWhenTimeLeft:5,onTimeout(){GLang.eval("'kalzit.timeoutSince' storageSaveString String: !getCurrentDate."+"'kalzit.timeoutMinutes' storageSaveString '0'");setTimeout((()=>{history.go();GLang.eval("!relaunchApp")}),30*1e3)},onBeforeTimeout(minutes){GLang.eval("!showTimeoutMessage")},onTick(minutes){GLang.eval("'kalzit.timeoutMinutes' storageSaveString String: "+minutes)},paused:false,runEveryMinute(callback){var stopped=false;function getsRepeated(preventTick){if(stopped)return;if(!preventTick)callback();setTimeout(getsRepeated,1e3*60)}getsRepeated(true);return{stop(){stopped=false}}},startTimer(goneMinutes){goneMinutes=goneMinutes||0;var minutesLeft=this.timeoutAfter-goneMinutes;if(minutesLeft<=5){setTimeout((()=>{GLang.eval("!showTimeoutMessage "+minutesLeft)}),0)}this.activeTimer=this.runEveryMinute((()=>{if(this.paused)return;goneMinutes++;this.onTick(goneMinutes);if(this.timeoutAfter-goneMinutes===this.warnWhenTimeLeft)this.onBeforeTimeout(goneMinutes);if(goneMinutes>=this.timeoutAfter){this.onTimeout();this.stopTimer()}}))},stopTimer(){if(this.activeTimer)this.activeTimer.stop()},pauseTimer(){this.paused=true},continueTimer(){this.paused=false}};
</script><script>GLANG_DEBUG = true; GLang.packageManager.installJs((function(){function applyAnimation(env,args){var _originalConfig=args[0];var _config=GLang.wrapValueToJsObject(_originalConfig);var element=_config.element;var duration=_config.duration;var name=_config.name;element.style.animationDuration=duration+"ms";element.style.animationFillMode="both";if(_config.reverse){element.style.animationDirection="reverse"}else{element.style.animationDirection=null}if(_config.onEnd){element.onanimationend=function(){var onEnd=GLang.callObject(GLang.eval("propOf"),env,[GLang.stringValue("onEnd"),_originalConfig]);GLang.callObject(onEnd,env,[])}}else{element.onanimationend=null}element.style.animationName=name}GLang.defaultRuntimeEnvironment.setInnerVariable("applyAnimation",{value:function(env,args){applyAnimation(env,args);return GLang.voidValue}})}));GLang.packageManager.registerPrecompiledPackage(["apply_transition"],[{string:"applyTransition",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$firstAnimationBase = $firstAnimation propOf config.\n\t$secondAnimationBase = $secondAnimation propOf config.\n\t`This is called between the animations`\n\t$onSwitch = $onSwitch propOf config.\n\t$onEnd ? (default: () fun {}) = $onEnd propOf config.\n\t\n\t`Construct the animations`\n\t$secondAnimation =\n\t\tsecondAnimationBase;\n\t\t[$onEnd; onEnd].\n\t\t\n\t$firstAnimation =\n\t\tfirstAnimationBase;\n\t\t[$onEnd; () fun {\n\t\t\tdo: onSwitch.\n\t\t\tapplyAnimation: secondAnimation\n\t\t}].\n\t\t\n\t`Start the transition`\n\tapplyAnimation: firstAnimation\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["named_transition"],[{string:"namedTransition",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"name",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$firstElement ? (default: $element propOf config) = $firstElement propOf config.\n\t$secondElement ? (default: $element propOf config) = $secondElement propOf config.\n\t$duration ? (2000 default Int) = $duration propOf config.\n\t\n\t`Construct and return the transition`\n\t[$firstAnimation; [\n\t\t["name";name];[$duration; duration % 2];[$element; firstElement]\n\t]];\n\t[$secondAnimation; [\n\t\t["name";name + "_reverse"];[$duration; duration % 2];[$element; secondElement]\n\t]]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["fade_transition","scale_transition"],[{string:"fadeTransition",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"namedTransition",kind:"name",waiting:false},{name:"bind",kind:"name",waiting:false},{string:"k-animation_fade",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"scaleTransition",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"namedTransition",kind:"name",waiting:false},{name:"bind",kind:"name",waiting:false},{string:"k-animation_scale",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["show_copy_message"],[{string:"showCopyMessage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{string:"https://",kind:"string",waiting:false},{name:"strStartsWith",kind:"name",waiting:false},{name:"appUrl",kind:"name",waiting:false}],waiting:false},{special:"|",kind:"special",waiting:false},{string:"http://localhost:",kind:"string",waiting:false},{name:"strStartsWith",kind:"name",waiting:false},{name:"appUrl",kind:"name",waiting:false}],waiting:false},{name:"ifElse",kind:"name",waiting:false},{string:'\n\t\t`We can show the message with a copy button!`\n\t\t!fun $message {\n\t\t\t\t!showMultiButtonMessage message\n\t\t\t\t\t[(strings: "ok"); [void]];\n\t\t\t\t\t[(strings: "copy"); {\n\t\t\t\t\t\tcopyText: message.\n\t\t\t\t\t}].\n\t\t}.\n',kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"\n\t\t`Copying is not supported without HTTPS - we have to show the normal dialog box`\n\t\t!fun $message {\n\t\t\t{} showMessageAsync message\n\t\t}\n",kind:"string",waiting:false}]);GLang.packageManager.installJs((function(){this.copyText=function(text){navigator.clipboard.writeText(text)}}));
;GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("each",{value:function(env,args){return{value:args[1].value.map((entry=>GLang.callObject(args[0],env,[entry])))}}});GLang.defaultRuntimeEnvironment.setInnerVariable("loop_each",{value:function(env,args){var array=args[1].value;for(var i=0;i<array.length;i++){GLang.callObject(args[0],env,[array[i]])}return GLang.voidValue}});GLang.defaultRuntimeEnvironment.setInnerVariable("loop_each_async",{value:function(env,args){var array=args[1].value;var callback=args[0];var counter=0;function runNext(){if(counter<array.length){GLang.callObject(callback,env,[array[counter]]);counter++;setTimeout(runNext,0)}}runNext();return GLang.voidValue}});GLang.defaultRuntimeEnvironment.setInnerVariable("do",{value:function(env,args){var params=[];if(args.length>=2){params=args[1].value;if(!(params instanceof Array)){params=[args[1]]}}return GLang.callObject(args[0],env,params)}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("str_starts_with",{value:GLang.arrayFun((function(env,args){return{value:args[1].value.startsWith(args[0].value)?1:0}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("str_ends_with",{value:GLang.arrayFun((function(env,args){return{value:args[1].value.endsWith(args[0].value)?1:0}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("str_split",{value:GLang.arrayFun((function(env,args){var results=args[1].value.split(args[0].value);for(var i=0;i<results.length;i++){results[i]=GLang.stringValue(results[i])}return{value:results}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("str_sub",{value:function(env,args){var from=GLang.at(0,args[0]).value;var to=args[1].value.length;if(args[0].value.length===2){to=args[0].value[1].value}return GLang.stringValue(args[1].value.substring(from,to))}});this.strToLowerCase=function(string){return string.toLowerCase()};this.strToUpperCase=function(string){return string.toUpperCase()};this.strTrim=function(string){return string.trim()}}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("filter",{value:function(env,args){if(undefined==args[1].value.filter)return GLang.voidValue;return{value:args[1].value.filter((entry=>GLang.callObject(args[0],env,[entry]).value))}}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("firstConditionMatch",{value:function(env,args){var array=args[1].value;if(0===array.length)return GLang.voidValue;var condition=args[0];for(var i=0;i<array.length;i++){if(GLang.callObject(args[0],env,[array[i]]).value){return array[i]}}return GLang.voidValue}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("length",{value:function(env,args){var array=args[0];var lengthAnnotation=GLang.getFirstAnnotation(array,GLang.stringValue("length"));if(lengthAnnotation){return lengthAnnotation}else if(array.value instanceof Array){return{value:array.value.length}}else{return{value:1}}}});GLang.defaultRuntimeEnvironment.setInnerVariable("listContains",{value:function(env,args){var array=args[1];var entry=args[0];return array.value.some((value=>GLang.eq(value.value,entry.value)))?{value:1}:{value:0}}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("pmListRegisteredPackages",{value:function(){return GLang.wrapJsToValue(GLang.packageManager.registeredPackages)}});GLang.defaultRuntimeEnvironment.setInnerVariable("pmListInstalledNames",{value:function(){var result=[];for(entry in GLang.defaultRuntimeEnvironment){if(entry.startsWith("kv_"))result.push(entry.substring(3))}return GLang.wrapJsToValue(result)}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("listenVariable",{value:GLang.arrayFun((function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("listenVariable needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;varEnv.registerVariableListener(varName,(function(){GLang.callObject(args[1],env,[varEnv.resolveName(varName)])}));return{value:0,display:"none"}})),display:"function"})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("calcitUnifyName",{value:function(env,args){return GLang.stringValue(GLang.defaultRuntimeEnvironment.unifyStringName(args[0].value+""))},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("calcitAnnotations",{value:function(env,args){return{value:args[0].annotations||[]}},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("calcitAddAnnotation",{value:function(env,args){GLang.addAnnotation(args[1],args[0]);return args[1]},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("calcitSetAnnotation",{value:function(env,args){GLang.setAnnotation(args[1],args[0]);return args[1]},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("calcitAddComment",{value:function(env,args){GLang.addAnnotation(args[1],{value:[GLang.stringValue("comment"),args[0]]});return args[1]},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("calcitSetType",{value:function(env,args){GLang.addAnnotation(args[1],{value:[GLang.stringValue("type"),args[0]]});return args[1]},display:"function"})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("parseJson",{value:function(env,args){try{return GLang.wrapJsToValue(JSON.parse(args[0].value+""))}catch(e){return GLang.voidValue}}});GLang.defaultRuntimeEnvironment.setInnerVariable("objToJson",{value:function(env,args){return GLang.stringValue(JSON.stringify(GLang.wrapValueToJsObject(args[0])))}})}));GLang.packageManager.installJs((function(){(function(){function uniques(array){var result=[],val,ridx;outer:for(var i=0,length=array.length;i<length;i++){val=array[i];ridx=result.length;while(ridx--){if(GLang.eq(val.value,result[ridx].value))continue outer}result.push(val)}return result}GLang.defaultRuntimeEnvironment.setInnerVariable("removeDuplicates",{value:function(env,args){return{value:uniques(args[0].value)}}})})()}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("parseCookieNames",GLang.wrapJsToValue(GLang.listCookies));GLang.defaultRuntimeEnvironment.setInnerVariable("parseCookieValue",GLang.wrapJsToValue(GLang.getCookie))}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("generateGuid",{value:function(){var S4=function(){return((1+Math.random())*65536|0).toString(16).substring(1)};return GLang.stringValue(S4()+S4()+"-"+S4()+"-"+S4()+"-"+S4()+"-"+S4()+S4()+S4())}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("getCurrentDate",{value:function(){return{value:(new Date).getTime()}}});GLang.defaultRuntimeEnvironment.setInnerVariable("dateToUtc",{value:function(env,args){return GLang.stringValue(new Date(args[0].value).toUTCString())}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("runLater",{value:function(env,args){setTimeout((function(){GLang.callObject(args[0],env,[])}),args.length==2?args[1].value:10);return GLang.voidValue}})}));
;GLang.packageManager.registerPrecompiledPackage(["credit_actions"],[{string:"creditActions",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"creditsList",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t["Credits"; {\n\t\t\t\t\t$container = @verticalScroller uiContainer:\n\t\t\t\t\t\t[uiContainer: "The following amazing projects were used to make this app:"];\n\t\t\t\t\t\t`For each entry in the credits list, produce a visual representation`\n\t\t\t\t\t\t(!each creditsList -> $item fun {\n\t\t\t\t\t\t\tuiContainer: @dynamicWidth\n\t\t\t\t\t\t\t\t[uiContainer: ($link propOf item) uiLink ($name propOf item)];\n\t\t\t\t\t\t\t\t(!ifNot (void eq $licenseName propOf item) {\n\t\t\t\t\t\t\t\t\t[uiHorizontalPxSpace: 7];\n\t\t\t\t\t\t\t\t\t[uiContainer: uiText: "("];\n\t\t\t\t\t\t\t\t\t[uiContainer: ($licenseLink propOf item) uiLink ($licenseName propOf item)];\n\t\t\t\t\t\t\t\t\t[uiContainer: uiText: ")"]\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t});\n\t\t\t\t\t\t[@center !uiButton "OK" -> {uiHide: popup}].\n\t\t\t\t\t\t\n\t\t\t\t\tprint: $popup = container uiSmallPopup {uiHide: popup}\n\t}]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["debug_auto_refresh"],[{string:"debugAutoRefresh",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{num:2e3,kind:"num",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"pauseMillis",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t!if (("localhost" eq urlGetHostName: appUrl) | not: void eq appParameter: "kalzit.refresh") {\n\t\t$checksum = loadLocal: $checksumHandle = "/app/" + appId + "/checksum.shasum".\n\t\tpauseMillis repeatAsync {\n\t\t\t$newChecksum = loadLocal: checksumHandle.\n\t\t\t!ifNot ((checksum eq newChecksum) | newChecksum eq void) reload.\n\t\t}\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["feedback_actions"],[{string:"feedbackActions",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"mailAddress",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t[(strings: "sendFeedbackAskQuestion"); {\n\t\t\t\t\tredirect: "mailto:" + mailAddress + "?subject=App feedback for the \'" + appId + "\' app&body=Please write your feedback in here. If you have any questions, I will respond as soon as I can :)"\n\t}];\n\t[(strings: "showContactMail"); {\n\t\t\t\t\tshowCopyMessage: mailAddress.\n\t}]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["app_parameter"],[{string:"appParameter",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"name",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"name urlGetParameter appUrl",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["service_login_user_async","service_register_user_async"],[{string:"serviceLoginUserAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"nameAndPassword",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t{callback: strNewline strSplit do: $getText propOf x} httpGetLocalAsync\n\t\t["url";"/api/loginUser"];\n\t\t["headers";[\n\t\t\t["kalzit-user-name"; first: nameAndPassword];\n\t\t\t["kalzit-user-password"; second: nameAndPassword]\n\t\t]].\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"serviceRegisterUserAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"nameAndPassword",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t{callback: strNewline strSplit do: $getText propOf x} httpGetLocalAsync\n\t\t["url";"/api/newUser"];\n\t\t["headers";[\n\t\t\t["kalzit-user-name"; first: nameAndPassword];\n\t\t\t["kalzit-user-password"; second: nameAndPassword]\n\t\t]].\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_login_form","ui_register_form"],[{string:"uiLoginForm",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"onLoginAttempt",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$nameField = $nameInput uiTextfieldVariableOnchange {}.\n\t$passwordInput = "". $passwordInputRef = reference: $passwordInput.\n\t$passwordField = {passwordInputRef = x} uiPasswordOnchange passwordInput.\n\t\n\t$action = !fun () {\n\t\t($response fun {\n\t\t\t!if ("0" eq first: response) {\n\t\t\t\t$calcitSession storageSaveString second: response.\n\t\t\t\t$calcitUserName storageSaveString nameInput.\n\t\t\t\t{onLoginAttempt: true} showMessageAsync strings: $loginSuccess.\n\t\t\t}. else {\n\t\t\t\t{onLoginAttempt: false} showMessageAsync second: response.\n\t\t\t}.\n\t\t}) serviceLoginUserAsync nameInput;passwordInput.\n\t}.\n\t\n\t$views =\n\t\t[uiText: strings: $username];\n\t\t[@(percentWidth: 100) nameField];\n\t\t[uiText: strings: $password];\n\t\t[@(percentWidth: 100) @(onEnter action) passwordField];\n\t\t[@(emHeight 1) uiContainer: void];\n\t\t[@center action uiButton strings: $login];\n\t\t[@(emHeight 2) uiContainer: void];\n\t\t[@centerText uiText: strings: $optionsSeparator];\n\t\t[@center {openSubApp: "register"} uiButton strings: $registerButton].\n\t\t\n\tuiContainer: views\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiRegisterForm",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"onLoginAttempt",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$nameField = $nameInput uiTextfieldVariableOnchange {}.\n\t$passwordInput = "". $passwordInputRef = reference: $passwordInput.\n\t$passwordField = {passwordInputRef = x} uiPasswordOnchange passwordInput.\n\t\n\t$views =\n\t\t[uiText: strings: $username];\n\t\t[@(percentWidth: 100) nameField];\n\t\t[uiText: strings: $password];\n\t\t[@(percentWidth: 100) passwordField];\n\t\t[@(emHeight 1) uiContainer: void];\n\t\t[@center {\n\t\t\t($response fun {\n\t\t\t\t!if ("0" eq first: response) {\n\t\t\t\t\tpopupMessage: strings: $registrationSuccess.\n\t\t\t\t\t`The user most likely intends to be logged in, so we do that automatically`\n\t\t\t\t\t`TODO: this is duplicated code from "uiLoginForm" - unify that`\n\t\t\t\t\t!serviceLoginUserAsync (nameInput;passwordInput) -> ($response fun {\n\t\t\t\t\t\t!if ("0" eq first: response) {\n\t\t\t\t\t\t\t$calcitSession storageSaveString second: response.\n\t\t\t\t\t\t\t$calcitUserName storageSaveString nameInput.\n\t\t\t\t\t\t\t{onLoginAttempt: true} showMessageAsync strings: $loginSuccess.\n\t\t\t\t\t\t}. else {\n\t\t\t\t\t\t\t{onLoginAttempt: false} showMessageAsync second: response.\n\t\t\t\t\t\t}.\n\t\t\t\t\t}).\n\t        \t}. else {\n\t        \t\tpopupMessage: second: response\n\t        \t}.\n\t\t\t}) serviceRegisterUserAsync nameInput;passwordInput.\n        } uiButton strings: $register].\n\t\t\n\tuiContainer: views\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_toolbar","ui_toolbar_reserved_space","ui_toolbar_overlay","toolbar_cm_height"],[{string:"toolbarCmHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:1.4,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiToolbarReservedSpace",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(@(cmHeight toolbarCmHeight) uiContainer: ())\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiToolbarOverlay",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_views",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(cssClass "calcitStandardBackground") @(cssClass "k-toolbar") @front @windowLeft @windowTop @(cmHeight toolbarCmHeight) @(percentWidth 100) uiContainer: _views;(@(cssClass: "k-loading_indicator") uiContainer: ()).\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_views",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiContainer: (do:uiToolbarReservedSpace);(uiToolbarOverlay: _views)\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["window_center","window_top","window_bottom","window_left","window_right","center","top","bottom","left","right","horizontal_center","vertical_center","front","dynamic_size","dynamic_width","dynamic_height","fit","center_text","italic","ellipsis","vertical_scroller","relative","inverted"],[{string:"windowCenter",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-window_center",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"windowTop",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-window_top",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"windowBottom",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-window_bottom",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"windowLeft",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-window_left",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"windowRight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-window_right",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"center",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-center",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"top",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-top",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"bottom",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-bottom",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"left",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-left",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"right",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-right",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"horizontalCenter",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-horizontal_center",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"verticalCenter",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-vertical_center",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"front",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-front",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"dynamicSize",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"dynamicWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-dynamic_width",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"dynamicHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-dynamic_height",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"fit",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-fit",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"horizontalResizeCursor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-horizontal_resize_cursor",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"italic",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-italic",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"centerText",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-center_text",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"ellipsis",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-ellipsis",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"verticalScroller",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-vertical_scroller",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"relative",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"k-relative",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"inverted",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cssClass",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"inverted",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.installJs((function(){this.loadGlobal=KLoad.loadGlobal;this.loadLocal=KLoad.loadLocal;function makeCallback(callbackValue,env){return function(value){GLang.callObject(callbackValue,env,[value])}}var appId=location.pathname.split("/");appId=appId[appId.length-1];function loadAsync(callbackValue,path,env,unimportant,fetchOptions){var callback=makeCallback(callbackValue,env);var fetchMethod=unimportant?KFetch.unimportant:KFetch.important;fetchMethod(path,fetchOptions||{}).then((fetchResponse=>{if(fetchResponse.ok){var clonedResponse=fetchResponse.clone();fetchResponse.text().then((text=>callback(GLang.stringValue(text)))).catch((error=>{console.error("There was an error when trying to get the text from a fetchResponse (in load.js). Restarting the fetch.");loadAsync(callbackValue,path,env,unimportant,fetchOptions)}))}else{callback(GLang.voidValue)}})).catch((error=>{console.error("Hi. We have an error in the load.js loadAsync API. This is probably not good."+error)}))}GLang.defaultRuntimeEnvironment.setInnerVariable("load_local_async",{value:GLang.arrayFun((function(env,args){loadAsync(args[0],args[1].value,env,false,{mode:"same-origin"});return GLang.voidValue}))});GLang.defaultRuntimeEnvironment.setInnerVariable("load_local_async_without_indicator",{value:GLang.arrayFun((function(env,args){loadAsync(args[0],args[1].value,env,true,{mode:"same-origin"});return GLang.voidValue}))});GLang.defaultRuntimeEnvironment.setInnerVariable("load_global_directly_async_native",{value:GLang.arrayFun((function(env,args){loadAsync(args[0],args[1].value,env,false);return GLang.voidValue}))});GLang.defaultRuntimeEnvironment.setInnerVariable("load_global_async_native",{value:GLang.arrayFun((function(env,args){loadAsync(args[0],"/api/loadUrl?query="+encodeURIComponent(args[1].value),env,false);return GLang.voidValue}))});GLang.defaultRuntimeEnvironment.setInnerVariable("load_global_in_background_async_native",{value:GLang.arrayFun((function(env,args){loadAsync(args[0],"/api/loadUrl?query="+encodeURIComponent(args[1].value),env,true);return GLang.voidValue}))})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("dom_parse",{value:GLang.arrayFun((function(env,args){var dom=(new DOMParser).parseFromString(args[0].value,"text/xml");return{value:dom}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("dom_tags",{value:GLang.arrayFun((function(env,args){var dom=args[1].value;var tag=args[0].value;var array=[];var elements=dom.getElementsByTagName(tag);for(var i=0;i<elements.length;i++){array.push({value:elements[i]})}return{value:array}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("dom_attribute",{value:GLang.arrayFun((function(env,args){var element=args[1].value;var attrib=args[0].value;return{value:element.getAttribute(attrib)||[]}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("dom_inner_text",{value:GLang.arrayFun((function(env,args){return{value:args[0].value.innerHTML}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("dom_inner",{value:GLang.arrayFun((function(env,args){var elements=args[0].value.childNodes;var newArray=[];for(var i=0;i<elements.length;i++){newArray.push({value:elements[i]})}return{value:elements}}))})}));GLang.packageManager.installJs((function(){this.popupHtml=function(html){window.open("","","").document.body.innerHTML=html};GLang.defaultRuntimeEnvironment.setInnerVariable("popup_values",{value:function(env,args){var b=window.open("","","").document.body;var array=args[0].value;if(!(array instanceof Array)){array=[args[0]]}for(var i=0;i<array.length;i++){b.appendChild(GLang.displayValue(array[i]))}return{value:0,display:"none"}}});this.popupMessage=function(textMessage){alert(textMessage)};this.popupQuestion=function(question){return prompt(question)}}));GLang.packageManager.installJs((function(){this.storageSaveString=KStorage.storageSaveString;this.storageRemove=KStorage.storageRemove;this.storageLoadString=KStorage.storageLoadString;this.storageListKeys=KStorage.storageListKeys;this.storageClear=KStorage.storageClear}));GLang.packageManager.installJs((function(){this.appUrl=window.location.href;this.dynamicAppUrl=function(){return window.location.href}}));GLang.packageManager.installJs((function(){(function(){function repeatAsync(env,args){var repeat=true;var isRunning=true;function thisGetsRepeated(){GLang.callObject(args[1],env,[]);if(repeat){setTimeout(thisGetsRepeated,args[0].value)}else{isRunning=false}}thisGetsRepeated();return GLang.wrapJsToValue({exit:function(){repeat=false},isRunning:function(){return isRunning}})}GLang.defaultRuntimeEnvironment.setInnerVariable("repeatAsync",{value:repeatAsync,display:"function"})})()}));GLang.packageManager.installJs((function(){this.getUserLanguage=function(){return navigator.language||navigator.userLanguage}}));GLang.packageManager.installJs((function(){this.redirect=function(url){window.location=url};this.reload=function(){location.reload()}}));GLang.packageManager.installJs((function(){this.isIosApp=window.navigator.standalone==true;this.isAndroidApp=window.matchMedia("(display-mode: standalone)").matches}));GLang.packageManager.installJs((function(){this.timeoutPause=function(){Timeout.pauseTimer()};this.timeoutContinue=function(){Timeout.continueTimer()}}));GLang.packageManager.installJs((function(){function downloadUrl(url,title){var linkElement=document.createElement("a");linkElement.setAttribute("href",url);linkElement.setAttribute("download",title||"download");linkElement.click()}function strToDataUrl(text){return"data:text/plain;charset=utf-8,"+encodeURIComponent(text)}function downloadText(text,title){downloadUrl(strToDataUrl(text),title)}this.downloadUrl=downloadUrl;this.downloadText=downloadText;this.strToDataUrl=strToDataUrl}));GLang.packageManager.installJs((function(){this.scrollToTop=function(){document.body.scrollTop=0;document.documentElement.scrollTop=0}}));GLang.packageManager.installJs((function(){this.getScreenWidth=function(){return window.screen.availWidth};this.getScreenHeight=function(){return window.screen.availHeight};this.getWindowWidth=function(){return window.innerWidth};this.getWindowHeight=function(){return window.innerHeight}}));
;GLang.packageManager.registerPrecompiledPackage(["simple_string_asset_access","app_strings","strings"],[{kind:"parentheses",parentheses:[{name:"useInstead",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"localizedStringAssetAccess, stringAssetAccess",kind:"string",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{string:"simpleStringAssetAccess",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cachedFun",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"path",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"loadLocal: x",kind:"string",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_loader",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$object = {(calcitUnifyName: first: x);second: x} each parseJson: _loader: path.\n\t!if (not object eq void) {\n\t\tcachedFun: ($key ? String) fun {\n\t\t\t(calcitUnifyName: key) objFirstProperty object\n\t\t}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"appStrings",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"void",kind:"name",waiting:false},{name:"eq",kind:"name",waiting:false},{name:"stringAssetMap",kind:"name",waiting:false}],waiting:false},{name:"ifElse",kind:"name",waiting:false},{string:'\n\tlocalizedStringAssetAccess: "/apps/" + appId + "/strings/"\n',kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"\n\t$languageKey = (!getUserLanguage) propOf stringAssetMap.\n\t!ifElse (void eq languageKey) {\n\t\t$simpleKey = (!getSimpleUserLanguage) objFirstProperty stringAssetMap.\n\t\t$actualKey = (default: $strings objFirstProperty stringAssetMap): simpleKey.\n\t\tcachedFun: $key fun {key propOf actualKey}\n\t};{\n\t\tcachedFun: $key fun {key propOf languageKey}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strings",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"do",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"\n\t$languageKey = (!getUserLanguage) propOf globalStringAssetMap.\n\t!ifElse (void eq languageKey) {\n\t\t$simpleKey = (!getSimpleUserLanguage) objFirstProperty globalStringAssetMap.\n\t\t$actualKey = (default: $strings objFirstProperty globalStringAssetMap): simpleKey.\n\t\tcachedFun: $key fun {key propOf actualKey}\n\t};{\n\t\tcachedFun: $key fun {key propOf languageKey}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.installJs((function(){(function(){function makeResponseObject(request){return{value:[{value:[{value:"getText"},{value:function(){return GLang.stringValue(request.responseText)}}]}]}}function httpGetLocalAsync(env,args){var config=GLang.wrapValueToJsObject(args[1]);var headers=config.headers||{};var url=config.url;var callback=args[0];var request=new XMLHttpRequest;request.open("GET",url);for(property in headers){console.log(property);request.setRequestHeader(property,headers[property])}request.onreadystatechange=function(event){if(this.readyState==4){GLang.callObject(callback,env,[makeResponseObject(this)])}};request.send();return GLang.voidValue}function httpPostLocalAsync(env,args){var config=GLang.wrapValueToJsObject(args[1]);var headers=config.headers||{};var url=config.url;var dataString=config.data;var callback=args[0];var request=new XMLHttpRequest;request.open("POST",url);for(property in headers){console.log(property);request.setRequestHeader(property,headers[property])}request.onreadystatechange=function(event){if(this.readyState==4){GLang.callObject(callback,env,[makeResponseObject(this)])}};request.send(dataString);return GLang.voidValue}GLang.defaultRuntimeEnvironment.setInnerVariable("httpGetLocalAsync",{value:httpGetLocalAsync});GLang.defaultRuntimeEnvironment.setInnerVariable("httpPostLocalAsync",{value:httpPostLocalAsync})})()}));GLang.packageManager.registerPrecompiledPackage(["load_global_async","load_global_in_background_async","load_global_directly_async"],[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_loadGlobalQueue",kind:"string",waiting:false}],waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{kind:"dot",dot:1,waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_loadGlobalAskedDomains",kind:"string",waiting:false}],waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"askDomainPermissionIfNeededAndLoad",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"then",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"domain",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`If the domain is in the list of allowed domains, we are fine anyway`\n\t!ifElse (domain listContains getArray: allowedDomains) {\n\t\t`Yess!! Just load the domain; permission granted`\n\t\tdo: then\n\t};{\n\t\t`Add this request to the list of pending requests`\n\t\t($push propOf _loadGlobalQueue): [domain; [then]].\n\t\t\n\t\t`... Okay, we need another check to see if the domain has already asked for permission`\n\t\t!ifElse (domain listContains getArray: _loadGlobalAskedDomains) {\n\t\t\t`We have already asked for load permissions; do nothing here`\n\t\t};{\n\t\t\t`We have not asked for load permissions yet - do that`\n\t\t\tuiShowDomainPermissionPopup: domain.\n\t\t}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiShowDomainPermissionPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"domain",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`Show a popup which asks for domain access permission`\n\t!showConfirmMessageAsync (strings: $confirmDomainAccess) + domain -> {\n\t\t\n\t\t`Domain permission given - unlock the domain if needed ...`\n\t\t!ifNot (domain listContains getArray: allowedDomains) {\n\t\t\t($push propOf allowedDomains): domain\n\t\t}.\n\t\t`... and run all pending requests associated with it`\n\t\t!loopEach (getArray: _loadGlobalQueue) -> {\n\t\t\t$pendingRequest = x.\n\t\t\t!if (domain eq first: pendingRequest) {\n\t\t\t\t`Run the request and remove it from the list of pending requests`\n\t\t\t\tdo: (second: pendingRequest).\n\t\t\t\t($removeEquals propOf _loadGlobalQueue): pendingRequest.\n\t\t\t}\n\t\t}.\n\t\t\n\t}.\n\t\n\t`This domain has now asked for load permissions; remember that`\n\t!ifNot (domain listContains getArray: _loadGlobalAskedDomains) {\n\t\t($push propOf _loadGlobalAskedDomains): domain\n\t}.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"loadGlobalAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"wantedUrl",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t`We have to allow the domain first`\n\t$domain ? (default: "") = urlGetHostName: wantedUrl.\n\t!askDomainPermissionIfNeededAndLoad domain -> {\n\t\tcallback loadGlobalAsyncNative wantedUrl\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"loadGlobalInBackgroundAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"wantedUrl",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t`We have to allow the domain first`\n\t$domain ? (default: "") = urlGetHostName: wantedUrl.\n\t!askDomainPermissionIfNeededAndLoad domain -> {\n\t\tcallback loadGlobalInBackgroundAsyncNative wantedUrl\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"loadGlobalDirectlyAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"wantedUrl",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t`We have to allow the domain first`\n\t$domain ? (default: "") = urlGetHostName: wantedUrl.\n\t!askDomainPermissionIfNeededAndLoad domain -> {\n\t\tcallback loadGlobalDirectlyAsyncNative wantedUrl\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiPrint",{value:GLang.arrayFun((function(env,args){var element=args[0].value;return{value:function(env,args){element.appendChild(GLang.displayValue(args[0]));return GLang.voidValue},display:"function"}}))})}));GLang.packageManager.installJs((function(){(function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiNativeSlider",{value:function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("listenVariable needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;var slider=document.createElement("input");slider.type="range";if(args.length===1){args.push({value:[{value:0},{value:100}]})}slider.min=args[1].value[0].value;slider.max=args[1].value[1].value;var initialValue=parseInt(varEnv.resolveName(varName).value);if(initialValue===initialValue){slider.value=initialValue}slider.oninput=function(){varEnv.setInnerVariable(varName,{value:Number.parseInt(slider.value)},true)};slider.oninput();GLang.registerVariableListener(args[0].value,(function(){slider.value=env.resolveName(args[0].value).value}));return{value:slider,display:"dom"}},display:"function"})})()}));GLang.packageManager.installJs((function(){(function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiShowVariable",{value:function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("uiShowVariable needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;var div=document.createElement("div");div.appendChild(GLang.displayValue(varEnv.resolveName(varName)));varEnv.registerVariableListener(args[0].value,(function(){div.replaceChild(GLang.displayValue(varEnv.resolveName(varName)),div.firstChild)}));return{value:div,display:"dom"}},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("uiShowVariableAsList",{value:function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("uiShowVariableAsList needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;var div=document.createElement("div");var arr=varEnv.resolveName(varName).value;for(var i=0;i<arr.length;i++){div.appendChild(GLang.displayValue(arr[i]))}varEnv.registerVariableListener(varName,(function(){while(div.firstChild){div.removeChild(div.firstChild)}var arr=varEnv.resolveName(varName).value;for(var i=0;i<arr.length;i++){div.appendChild(GLang.displayValue(arr[i]))}}));return{value:div,display:"dom"}},display:"function"})})()}));GLang.packageManager.installJs((function(){var windowLoaded=false;window.addEventListener("load",(function(){windowLoaded=true}),false);function isScrolledIntoView(element){if(!(element.offsetWidth>0||element.offsetHeight>0))return false;var elementBounds=element.getBoundingClientRect();var windowHeight=window.innerHeight;var windowWidth=window.innerWidth;var minimumDistance=200;var isOutsideView=elementBounds.bottom<-minimumDistance||elementBounds.top>windowHeight+minimumDistance||elementBounds.right<-minimumDistance||elementBounds.left>windowWidth+minimumDistance;return!isOutsideView}var urlViews=[];function urlView(url,onLoad){var image=document.createElement("img");image.classList.add("calcitImage");if(onLoad!==undefined){image.addEventListener("load",(function(){onLoad()}));image.setAttribute("src",url)}else{if(windowLoaded){urlViews.push({url:url,view:image})}else{window.addEventListener("load",(function(){urlViews.push({url:url,view:image})}),false)}}return image}function refresh(){for(var i=0;i<urlViews.length;i++){var view=urlViews[i];var hasAttrib=view.view.hasAttribute("src");var visible=isScrolledIntoView(view.view);if(visible&&!hasAttrib){view.view.setAttribute("src",view.url)}}}setInterval((function(){refresh()}),100);GLang.defaultRuntimeEnvironment.setInnerVariable("uiShowImageUrl",{value:GLang.arrayFun((function(env,args){var callback=args.length>=2?args[1]:GLang.voidValue;var image=urlView(args[0].value,callback===GLang.voidValue?undefined:()=>{GLang.callObject(callback,env,[{value:image,display:"dom"}])});return{value:image,display:"dom"}})),display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("uiShowImageUrlDirectly",{value:GLang.arrayFun((function(env,args){var callback=args.length>=2?args[1]:GLang.voidValue;var image=urlView(args[0].value,(()=>{GLang.callObject(callback,env,[{value:image,display:"dom"}])}));return{value:image,display:"dom"}})),display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("getImageWidth",{value:GLang.arrayFun((function(env,args){var image=args[0].value;return{value:image.naturalWidth}})),display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("getImageHeight",{value:GLang.arrayFun((function(env,args){var image=args[0].value;return{value:image.naturalHeight}})),display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("scaleImageToUrl",{value:GLang.arrayFun((function(env,args){var factor=args[0].value;var image=args[1].value;var canvas=document.createElement("canvas");var width=image.naturalWidth*factor;var height=image.naturalHeight*factor;canvas.width=width;canvas.height=height;canvas.getContext("2d").drawImage(image,0,0,width,height);return GLang.stringValue(canvas.toDataURL())})),display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("uiImageButton",{value:GLang.arrayFun((function(env,args){function triggerAction(){GLang.callObject(args[0],env,[])}var image=document.createElement("img");image.src=args[1].value;image.classList.add("calcitImage");image.classList.add("k-image_button");image.onclick=function(){triggerAction()};image.onkeypress=function(event){if(event.keyCode===13){triggerAction()}};image.setAttribute("tabindex",0);return{value:image,display:"dom"}})),display:"function"})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiLink",{value:GLang.arrayFun((function(env,args){var anchor=document.createElement("a");anchor.classList.add("calcitLink");anchor.appendChild(GLang.displayValue(args[1]));anchor.href=args[0].value;return{value:anchor,display:"dom"}}))})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiTextfieldOnaction",{value:GLang.arrayFun((function(env,args){var textfield=document.createElement("input");textfield.type="text";textfield.value=args[1].value;textfield.onkeyup=function(e){if(e.key==="Enter"){GLang.callObject(args[0],env,[GLang.stringValue(textfield.value)])}};return{value:textfield,display:"dom"}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("uiTextfieldOnchange",{value:GLang.arrayFun((function(env,args){var textfield=document.createElement("input");textfield.type="text";textfield.value=args[1].value;var lastValue=textfield.value;function callback(){var newValue=textfield.value;if(newValue!==lastValue){GLang.callObject(args[0],env,[GLang.stringValue(newValue)]);lastValue=newValue}}textfield.addEventListener("change",callback,false);textfield.addEventListener("keypress",callback,false);textfield.addEventListener("paste",callback,false);textfield.addEventListener("input",callback,false);return{value:textfield,display:"dom"}}))})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiPicker",{value:function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("uiPicker needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;var picker=document.createElement("select");picker.classList.add("calcitPicker");var options=args[1].value;for(var i=0;i<options.length;i++){var option=document.createElement("option");option.innerHTML=GLang.at(0,options[i]).value;option.value=GLang.at(1,options[i]).value;picker.appendChild(option)}picker.onchange=function(){varEnv.setInnerVariable(args[0].value,GLang.stringValue(picker.value),true)};function onVariableChange(){picker.value=varEnv.resolveName(varName).value}varEnv.registerVariableListener(varName,onVariableChange);return{value:picker,display:"dom"}}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiButton",{value:GLang.arrayFun((function(env,args){var button=document.createElement("input");button.type="button";button.classList.add("calcitButton");button.onclick=function(){GLang.callObject(args[0],env,[])};button.value=args[1].value;return{value:button,display:"dom"}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("uiButtonWithThreeDotIcon",{value:GLang.arrayFun((function(env,args){var button=document.createElement("input");button.type="button";button.classList.add("calcitPickerIcon");button.onclick=function(){GLang.callObject(args[0],env,[])};return{value:button,display:"dom"}}))})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiNativeTextareaVariableOnchange",{value:GLang.arrayFun((function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("uiPicker needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;var textfield=document.createElement("textarea");textfield.value=varEnv.resolveName(varName).value;textfield.onkeyup=function(e){varEnv.setInnerVariable(varName,GLang.stringValue(textfield.value),true)};GLang.registerVariableListener(varName,(function(){textfield.value=varEnv.resolveName(varName).value}));return{value:textfield,display:"dom"}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("uiNativeTextareaOnchange",{value:GLang.arrayFun((function(env,args){var textfield=document.createElement("textarea");textfield.value=args[1].value;var lastValue=textfield.value;function callback(){var newValue=textfield.value;if(newValue!==lastValue){GLang.callObject(args[0],env,[GLang.stringValue(newValue)]);lastValue=newValue}}textfield.addEventListener("change",callback,false);textfield.addEventListener("keyup",callback,false);textfield.addEventListener("paste",callback,false);textfield.addEventListener("input",callback,false);return{value:textfield,display:"dom"}}))})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiHorizontalScroller",{value:function(env,args){var scroller=document.createElement("div");scroller.classList.add("k-horizontal_scroller");for(var i=0;i<args[0].value.length;i++){scroller.appendChild(GLang.displayValue(args[0].value[i]))}return{value:scroller,display:"dom"}}})}));GLang.packageManager.installJs((function(){function makeCheckbox(text,withCheckbox){var container=document.createElement("label");container.appendChild(document.createTextNode(text));container.classList.add("k-checkbox_container");if(text=="")container.classList.add("k-checkbox_empty");var checkbox=document.createElement("input");checkbox.type="checkbox";container.appendChild(checkbox);checkbox.setAttribute("tabindex",-1);var checkmark=document.createElement("span");checkmark.classList.add("k-checkbox_mark");container.appendChild(checkmark);checkmark.setAttribute("tabindex",0);checkmark.addEventListener("keypress",(function(event){if(event.keyCode===13){container.click()}}));withCheckbox(checkbox);return container}GLang.defaultRuntimeEnvironment.setInnerVariable("uiCheckbox",{value:GLang.arrayFun((function(env,args){return{value:makeCheckbox(args[1].value,(checkbox=>{checkbox.onchange=function(e){GLang.callObject(args[0],env,[{value:checkbox.checked?1:0}])}})),display:"dom"}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("uiCheckboxVariable",{value:GLang.arrayFun((function(env,args){return{value:makeCheckbox(args[1].value,(checkbox=>{checkbox.onchange=function(e){env.setInnerVariable(args[0].value,{value:checkbox.checked?1:0},true)};env.registerVariableListener(args[0].value,(function(){checkbox.checked=env.resolveName(args[0].value).value!==0}))})),display:"dom"}}))})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiFilePickerContentTextVariable",{value:function(env,args){var picker=document.createElement("input");picker.classList.add("calcitFilePicker");picker.type="file";picker.onchange=function(event){var reader=new FileReader;reader.onload=function(event){GLang.defaultRuntimeEnvironment.setInnerVariable(args[0].value,GLang.stringValue(event.target.result),true)};reader.readAsText(event.target.files[0])};return{value:picker,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiFilePickerContentUrlVariable",{value:function(env,args){var picker=document.createElement("input");picker.classList.add("calcitFilePicker");picker.type="file";picker.onchange=function(event){var reader=new FileReader;reader.onload=function(event){GLang.defaultRuntimeEnvironment.setInnerVariable(args[0].value,GLang.stringValue(event.target.result),true)};reader.readAsDataURL(event.target.files[0])};return{value:picker,display:"dom"}}})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiPasswordOnaction",{value:GLang.arrayFun((function(env,args){var textfield=document.createElement("input");textfield.classList.add("calcitPassword");textfield.type="password";textfield.value=args[1].value;textfield.onkeyup=function(e){if(e.key==="Enter"){GLang.callObject(args[0],env,[GLang.stringValue(textfield.value)])}};return{value:textfield,display:"dom"}}))});GLang.defaultRuntimeEnvironment.setInnerVariable("uiPasswordOnchange",{value:GLang.arrayFun((function(env,args){var textfield=document.createElement("input");textfield.classList.add("calcitPassword");textfield.type="password";textfield.value=args[1].value;function callback(){GLang.callObject(args[0],env,[GLang.stringValue(textfield.value)])}textfield.addEventListener("change",callback,false);textfield.addEventListener("keyup",callback,false);return{value:textfield,display:"dom"}}))})}));GLang.packageManager.installJs((function(){this.uiHide=function(uiElement){if(uiElement.parentNode)uiElement.parentNode.removeChild(uiElement)}}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiHorizontalPxSpace",{value:function(env,args){var div=document.createElement("div");div.style.display="inline-block";div.style.width=args[0].value+"px";return{value:div,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiHorizontalPercentSpace",{value:function(env,args){var div=document.createElement("div");div.style.display="inline-block";div.style.width=args[0].value+"%";return{value:div,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiVerticalPxSpace",{value:function(env,args){var div=document.createElement("div");div.style.display="block";div.style.height=args[0].value+"px";return{value:div,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiVerticalPercentSpace",{value:function(env,args){var div=document.createElement("div");div.style.display="block";div.style.height=args[0].value+"%";return{value:div,display:"dom"}}})}));GLang.packageManager.installJs((function(){this.uiClearAppContainer=function(){var playground=document.getElementById("playground");while(playground.hasChildNodes()){playground.removeChild(playground.lastChild)}}}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiContainer",{value:function(env,args){var div=document.createElement("div");var arr=args[0].value;if(!(arr instanceof Array)){arr=[args[0]]}for(var i=0;i<arr.length;i++){div.appendChild(GLang.displayValue(arr[i]))}return{value:div,display:"dom"}},display:"function"});GLang.defaultRuntimeEnvironment.setInnerVariable("uiElementCollection",{value:function(env,args){var frag=document.createDocumentFragment();var arr=args[0].value;if(!(arr instanceof Array)){arr=[args[0]]}for(var i=0;i<arr.length;i++){frag.appendChild(GLang.displayValue(arr[i]))}return{value:frag,display:"dom"}},display:"function"})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiStack",{value:function(env,args){var div=document.createElement("div");var arr=args[0].value;if(!(arr instanceof Array)){arr=[args[0]]}function createLayer(value){var layer=document.createElement("div");layer.appendChild(GLang.displayValue(value));layer.style.width="100%";layer.style.height="100%";layer.style.position="absolute";layer.style.top=0;layer.style.left=0;return layer}for(var i=0;i<arr.length;i++){div.appendChild(createLayer(arr[i]))}div.style.display="inline-block";div.style.position="relative";return{value:div,display:"dom"}},display:"function"})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiText",{value:function(env,args){return{value:GLang.displayValue(GLang.stringValue(args[0].value+"")),display:"dom"}},display:"function"})}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("setCssColorCombination",{value:function(env,args){var object=GLang.wrapValueToJsObject(args[0]);function colorString(color){return GLang.wrapValueToJsObject(GLang.callObject(GLang.defaultRuntimeEnvironment.resolveName("ColorString"),env,[GLang.wrapJsToValue(color)]))}document.documentElement.style.setProperty("--kv-black_accent_color",colorString(object.blackAccentColor));document.documentElement.style.setProperty("--kv-white_accent_color",colorString(object.whiteAccentColor));document.documentElement.style.setProperty("--kv-twilight_accent_color",colorString(object.twilightAccentColor));document.documentElement.style.setProperty("--kv-darker_twilight_accent_color",colorString(object.darkerTwilightAccentColor));document.documentElement.style.setProperty("--kv-lighter_twilight_accent_color",colorString(object.lighterTwilightAccentColor));document.documentElement.style.setProperty("--kv-light_accent_color",colorString(object.lightAccentColor));document.documentElement.style.setProperty("--kv-dark_accent_color",colorString(object.darkAccentColor));return GLang.voidValue}})}));GLang.packageManager.installJs((function(){var hashes=new Map;var lastSubApp=null;var mainPageScrollingDisabled=false;var mainPageScrollingShouldBeDisabled=false;function disableScrolling(){var originalScrollPosition=window.scrollY;document.body.style.position="fixed";const scrollY=window.scrollY;document.body.style.top=-originalScrollPosition+"px";document.body.style.width="calc(100% - 14px)";document.body.style.height="calc(100% - 14px)";mainPageScrollingDisabled=true}this.disableScrolling=function(){disableScrolling();mainPageScrollingShouldBeDisabled=true};function enableScrolling(){var originalScrollPosition=-parseInt(document.body.style.top);document.body.style.position="";document.body.style.top="";mainPageScrollingDisabled=false;if(!originalScrollPosition)return;window.scrollTo(0,originalScrollPosition)}function initiate(name){if(hashes.has(lastSubApp)){GLang.callObject(hashes.get(lastSubApp).close,GLang.defaultRuntimeEnvironment,[])}if(hashes.has(name)){GLang.callObject(hashes.get(name).open,GLang.defaultRuntimeEnvironment,[]);if(!mainPageScrollingDisabled){disableScrolling()}}lastSubApp=name}window.onhashchange=function(){console.log(hashes);var hash=location.hash.replace("#","");switch(hash){case"none":case"":const scrollY=document.body.style.top;GLang.eval("!popupAnimateOut");if(mainPageScrollingDisabled&&!mainPageScrollingShouldBeDisabled){enableScrolling()}}initiate(hash)};var openSubApp=function(name){location.hash=name};this.openSubApp=openSubApp;this.closeSubApp=function(){location.hash="#none"};var keepInitial=false;this.subAppKeepInitial=function(){keepInitial=true};this.registerSubApp=function(name,_openAndClose){hashes.set(name,{open:_openAndClose[0],close:_openAndClose[1]});if(location.hash=="#"+name){location.hash="none";if(keepInitial){location.hash=name}}};this.getCurrentSubApp=function(){return location.hash.replace("#","")};window.addEventListener("keydown",(function(event){if("Escape"===event.key){location.hash="#none"}}))}));GLang.packageManager.installJs((function(){this.uiTitle=function(title){document.title=title}}));GLang.packageManager.installJs((function(){this.expandWithContent=function(textarea){function update(){textarea.rows=textarea.value.split("\n").length||1}textarea.addEventListener("change",update,false);textarea.addEventListener("keyup",update,false);update()}}));GLang.packageManager.installJs((function(){this.uiCheck=function(checkbox){checkbox.getElementsByTagName("input")[0].checked=true}}));GLang.packageManager.installJs((function(){(function(global){function isCollapsed(element){return element.classList.contains("k-closed")}function collapse(element){element.dispatchEvent(new CustomEvent("k-before_collapse"));element.classList.add("k-closable","k-closed");element.style.maxHeight=null;element.dispatchEvent(new CustomEvent("k-after_collapse"))}function expand(element){element.dispatchEvent(new CustomEvent("k-before_expand"));element.classList.remove("k-closed");element.style.maxHeight=element.scrollHeight+"px";setTimeout((()=>{if(!isCollapsed(element))element.style.maxHeight=null}),2e3);element.dispatchEvent(new CustomEvent("k-after_expand"))}global.uiToggleExpansion=function(element){if(isCollapsed(element)){expand(element)}else{collapse(element)}};global.uiExpand=expand;global.uiCollapse=collapse;global.uiIsCollapsed=isCollapsed;global.uiIsExpanded=function(element){return!isCollapsed(element)};global.flagOnExpand=function(listener,object){object.addEventListener("k-before_expand",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}))};global.flagOnCollapse=function(listener,object){object.addEventListener("k-before_collapse",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}))}})(this)}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiActionPicker",{value:function(env,args){var action=args[0];var picker=document.createElement("select");picker.classList.add("calcitPicker");var options=args[1].value;for(var i=0;i<options.length;i++){var option=document.createElement("option");option.innerHTML=GLang.at(0,options[i]).value;option.value=i;picker.appendChild(option)}picker.onchange=function(){GLang.callObject(action,env,[{value:picker.value}])};return{value:picker,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiActionPickerWithIcon",{value:function(env,args){var action=args[0];var picker=document.createElement("select");picker.classList.add("calcitPickerIcon");var options=args[1].value;for(var i=0;i<options.length;i++){var option=document.createElement("option");option.innerHTML=GLang.at(0,options[i]).value;option.value=i;picker.appendChild(option)}function reset(){picker.selectedIndex=-1}picker.onchange=function(){GLang.callObject(action,env,[{value:picker.value}]);reset()};setTimeout(reset,0);return{value:picker,display:"dom"}}});setInterval((()=>{var pickers=document.getElementsByClassName("calcitPickerIcon");for(var i=0;i<pickers.length;i++){pickers[i].selectedIndex=-1}}),500)}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiIndexPicker",{value:function(env,args){var callback=args[0];var picker=document.createElement("select");picker.classList.add("calcitPicker");var options=args[1].value;for(var i=0;i<options.length;i++){var option=document.createElement("option");option.innerHTML=options[i].value;option.value=i;picker.appendChild(option)}picker.onchange=function(){GLang.callObject(callback,env,[{value:parseInt(picker.value)}])};return{value:picker,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiIndexReferencePicker",{value:function(env,args){var varRef=args[0];if(varRef.display!=="reference"){throw new Error("uiPicker needs a reference as the first parameter")}var varEnv=varRef.environment;var varName=varRef.value;var picker=document.createElement("select");picker.classList.add("calcitPicker");var options=args[1].value;for(var i=0;i<options.length;i++){var option=document.createElement("option");option.innerHTML=options[i].value;option.value=i;picker.appendChild(option)}picker.onchange=function(){varEnv.setInnerVariable(varName,{value:parseInt(picker.value)},true)};function onVariableChange(){picker.value=varEnv.resolveName(varName).value}onVariableChange();varEnv.registerVariableListener(varName,onVariableChange);return{value:picker,display:"dom"}}})}));GLang.packageManager.installJs((function(){this.uiSetText=function(textControl,text){textControl.value=text};this.uiGetText=function(textControl){return textControl.value+""}}));GLang.packageManager.installJs((function(){this.uiUpdatePickerValue=function(pickerControl,selection){pickerControl.value=selection};this.uiSetPickerValue=function(pickerControl,selection){this.updatePickerValue(pickerControl,selection);pickerControl.onchange()}}));GLang.packageManager.installJs((function(){this.isPopupActive=function(){return document.body.getElementsByClassName("k-popup").length>=1};this.hideAllPopups=function(){var popups=document.body.getElementsByClassName("k-popup_container");for(var i=0;i<popups.length;i++){popups[i].parentNode.removeChild(popups[i])}};this.popupAnimateOut=function(){var popups=document.getElementsByClassName("k-popup_container");if(popups.length==1){popups[0].classList.remove("k-popup_animated_in");setTimeout((function(){setTimeout((function(){popups[0].parentElement.removeChild(popups[0])}),500);popups[0].classList.add("k-popup_animated_out")}),1)}}}));GLang.packageManager.installJs((function(){function withNotification(callback,onError){if(window.Notification){return callback(window.Notification)}else{return onError}}function notificationSupported(){return withNotification((Notification=>true),false)}this.notificationSupported=notificationSupported;function notificationForbidden(){return withNotification((Notification=>Notification.permission==="denied"),true)}this.notificationForbidden=notificationForbidden;function notificationAllowed(){return withNotification((Notification=>Notification.permission==="granted"),false)}this.notificationAllowed=notificationAllowed;function notificationRequestPermission(){withNotification((Notification=>{Notification.requestPermission()}))}this.notificationRequestPermission=notificationRequestPermission;this.notificationShowShortText=function(text){if(!notificationAllowed()){notificationRequestPermission()}else{withNotification((Notification=>{var notification=new Notification(text,{body:text,requireInteraction:true});notification.onclick=function(event){event.preventDefault();GLang.callObject(GLang.eval("showMessageAsync"),GLang.defaultRuntimeEnvironment,[GLang.voidValue,GLang.stringValue(text)]);notification.close()}}))}};this.notificationShowLongText=function(summary,full){if(!notificationAllowed()){notificationRequestPermission()}else{withNotification((Notification=>{var notification=new Notification(summary,{body:full,requireInteraction:true});notification.onclick=function(event){event.preventDefault();GLang.callObject(GLang.eval("showMessageAsync"),GLang.defaultRuntimeEnvironment,[GLang.voidValue,GLang.stringValue(full)]);notification.close()}}))}}}));GLang.packageManager.installJs((function(){this.disableHighlighting=function(){document.body.classList.add("k-no_highlight")};this.enableHighlighting=function(){document.body.classList.remove("k-no_highlight")}}));GLang.packageManager.installJs((function(){GLang.defaultRuntimeEnvironment.setInnerVariable("uiArrowIcon",{value:GLang.arrayFun((function(env,args){var arrow=document.createElement("div");arrow.classList.add("k-arrow_icon");return{value:arrow,display:"dom"}}))})}));
;GLang.packageManager.registerPrecompiledPackage(["multiple_async","bind_async_function_to_each"],[{string:"multipleAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"withAllResults",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"thingsToDoAsynchronously",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$resultList ? ModifiableList = ().\n\t\n\t$withSingleResult = ($result) fun {\n\t\t($push propOf resultList): [result].\n\t\t!if ((length: thingsToDoAsynchronously) eq length: getArray: resultList) {\n\t\t\t`We have results for everything!`\n\t\t\twithAllResults: getArray: resultList\n\t\t}\n\t}.\n\t\n\t!loopEach thingsToDoAsynchronously -> {\n\t\tx: withSingleResult\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"bindAsyncFunctionToEach",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"functionToBeBound",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"valuesToBindTo",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!each valuesToBindTo -> {\n\t\tfunctionToBeBound bindSecondArgument x\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["deprecated","use_instead"],[{string:"deprecated",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"info",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'["deprecated"];[info]',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"useInstead",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_instead",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t["deprecated"];\n\t["Consider using one of these instead:" + strNewline + strNewline strJoin _instead]\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["load_dom_async","load_dom_inner_async"],[{string:"loadDomAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"url",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{callback: domParse: x} loadGlobalAsync url",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"loadDomInnerAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"url",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{callback: domInner: x} loadDomAsync url",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["pm_list_registered_names","pm_search_registered_names","pm_list_names","pm_search_names"],[{string:"pmListRegisteredNames",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:";/ {$provides objFirstProperty x} each do:pmListRegisteredPackages",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"pmSearchRegisteredNames",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"search",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{search strStartsWith x} filter do:pmListRegisteredNames",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"pmListNames",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"removeDuplicates: (do:pmListInstalledNames);do:pmListRegisteredNames",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"pmSearchNames",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"search",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{(calcitUnifyName:search) strContains x} filter do:pmListNames",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["obj_property","obj_property_values","obj_property_value","obj_has_property","obj_first_property"],[{string:"objProperty",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_prop",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_obj",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{_prop eq 0 at x} filter _obj",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"objPropertyValues",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_prop",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_obj",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{1 at x} each _prop objProperty _obj",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"objHasProperty",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_prop",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_obj",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"not: void eq _prop objFirstProperty _obj",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"objPropertyValue",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"objFirstProperty",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_name",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_object",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"1 at {_name eq 0 at x} firstConditionMatch _object",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["switch","if_else","if","else","categorize","do_each","if_not","last_flow_condition_ref"],[{string:"switch",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Any",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"value",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_array",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{1 at x at _array} each {(0 at x at _array): value} filter arrayIndexes: _array",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"ifElse",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"condition",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_ie",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tdo: ((0 eq do: condition) at _ie)\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"categorize",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_items",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_categories",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"($_x fun {_x switch categories}) each _items",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"doEach",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"f",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_argSets",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"($_x fun {f do _x}) each _argSets",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"lastFlowCondition",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"true",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"lastFlowConditionRef",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"reference",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"lastFlowCondition",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"if",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"condition",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"$result = condition ifElse then;{void}. lastFlowConditionRef = condition. result",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"ifNot",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"condition",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"$result = condition ifElse {void};then. lastFlowConditionRef = condition. result",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"else",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"!ifNot lastFlowCondition then",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["array_joined_chunks","mingle","unmingle"],[{string:"arrayJoinedChunks",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"size",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(size > length: _list) ifElse {\n\t\tarray: (0 range size - 1) at _list\n\t};{\n\t\t{{x at _list} each x range x + size - 1} each 0 range (length: _list) - size\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"mingle",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_a",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_b",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{(x at _a);(x at _b)} each 0 range (max: (length: _a);(length: _b)) - 1\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"unmingle",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_mingled",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t[first each _mingled];[second each _mingled]\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["is_match"],[{string:"isMatch",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"regex",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"stringToMatch",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"0 < length: regex match stringToMatch",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["array_group_by_category"],[{string:"arrayGroupByCategory",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_categories",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t(1 eq length: _list) ifElse {\n\t\tarray: _list\n\t};{\n\t\t{((1+x) range y) at _list} doEach 2 arrayJoinedChunks \\1;{x} filter (0 range \\1 + length:_list) * 1 - eq doEach 2 arrayJoinedChunks ;/ (\n\t\t\t{0 at x} each _list categorize _categories;[{1};"_"]\n\t\t);""\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["str_contains","str_join","str_remove","str_lines","str_first_line"],[{string:"strContains",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"x",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"y",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"1 < length: x strSplit y",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strJoin",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"separator",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_list",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t(length: _list) ifElse {\n\t\t{x + separator + y} / _list\n\t};{""}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strRemove",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"removed",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"original",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'"" strJoin removed strSplit original',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strLines",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"str",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"strNewline strSplit str",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strFirstLine",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"str",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"first: strLines: str",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["str_newline","str_tab"],[{string:"strNewline",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strTab",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"\t",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["first","second","third","last","array_indexes"],[{string:"first",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_x",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"0 at _x",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"second",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_x",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"1 at _x",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"third",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_x",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"2 at _x",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"last",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_x",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"((length: _x) - 1) at _x",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"arrayIndexes",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_array",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"(0 rangeUp length: _array) - 1",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["switch_eq","switch_first"],[{string:"switchEq",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_value",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_cases",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$unmingled = unmingle: _cases.\n\t$conditions = ($_const fun {{_const eq x}}) each first: unmingled.\n\t$results = second: unmingled.\n\t_value switch conditions mingle results\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"switchFirst",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Any",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"value",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_array",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{1 at x at _array}: {(0 at x at _array): value} firstConditionMatch arrayIndexes: _array\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["any","boolean","list","string","sized_list","one_or_many"],[{string:"Boolean",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"((void eq x) | 0 eq x) at 1;0",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"List",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_itemType",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{_itemType each x;()}",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"Any",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"x",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"String",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:'"" + x',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"SizedList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"size",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_itemType",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{(List: _itemType): (0 range size - 1) at x}",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"OneOrMany",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_type",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{\n\t\t$arr = x;(). \n\t\tdo: (1 eq length: arr) at ({(List:_type): arr};{_type: 0 at arr})\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["resolve_name"],[{string:"resolveName",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"CalcitUnifyName",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"name",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"do: first: {name eq x} filter pmSearchNames: name",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["final"],[{string:"Final",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_type",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$needsValue = true.\n\t$needsValueRef = reference: $needsValue.\n\t$initialValue ? _type = void.\n\t$initialValueRef = reference: $initialValue.\n\t\n\t$_newValue fun {\n\t\tneedsValue ifElse {\n\t\t\tinitialValueRef = _newValue.\n\t\t\tneedsValueRef = false.\n\t\t};{}.\n\t\t\n\t\tinitialValue\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["eval"],[{string:"eval",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"code",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"do: () fun code",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["tuple","annotation"],[{string:"tuple",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Function",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_types",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t($_values ? (List:Any)) fun {\n\t\t{(x at _types): x at _values} each 0 range (length: _types) - 1\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"Annotation",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"Tuple",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"String",kind:"name",waiting:false},{special:";",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["default"],[{string:"default",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_value",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_type",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$actualType = (_type eq void) at [_type];[Any].\n\t$_x fun {actualType: (_x eq void) at [_x];[_value]}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["url"],[{string:"url",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"u",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'("://" strContains u) ifElse {u};{"https://" + u}',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["sum","product","min","max","to","all","random_item"],[{string:"sum",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Float",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_numbers",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"+/_numbers",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"product",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Float",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_numbers",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"*/_numbers",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"min",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Float",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_numbers",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"&/_numbers",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"max",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Float",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_numbers",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"|/_numbers",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"to",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"a",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"b",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"a range b",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"all",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_things",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"action each getArray: _things",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"randomItem",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$index = Int: (do:random) * length: _list.\n\tindex at _list\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["twitter_url","twitter_user_url"],[{string:"twitterUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"twitterUserUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"https://twitter.com/",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["str_format","str_replace"],[{string:"strReplace",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_subAndReplacement",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"original",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"(second:_subAndReplacement) strJoin (first:_subAndReplacement) strSplit original",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"strFormat",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_str",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"eval",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"resolver",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$indexes = {x mod 2} filter 0 range (length: $splits = "$" strSplit _str) - 1.\n\tstrReplace/ ({["$" + x + "$"];[", " strJoin String: resolver: x]} each indexes at splits);_str.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["info","comment"],[{kind:"parentheses",parentheses:[{name:"deprecated",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"This is no longer the primary way to add doc comments; use /* */ with @kalzit.for",kind:"string",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{string:"comment",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"info",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_x",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'["comment"];[_x]',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["true","false","not"],[{string:"true",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:1,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"false",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"not",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"x eq 0",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["range_up","range_down"],[{string:"rangeUp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"a",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"b",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(a eq b) ifElse {()};{\n\t\t(a < b) ifElse {(a + 1) range b};{()}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"rangeDown",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"a",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"b",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(a eq b) ifElse {()};{\n\t\t(a > b) ifElse {(a - 1) range b};{()}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["rgb_color","color","color_string","red","green","blue","black","white"],[{string:"RgbColor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:3,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"Int",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"Color",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Int",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_color",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(3 < length: _color) ifElse {\n\t\t(4 SizedList Int): _color\n\t};{(RgbColor: _color);255}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"ColorString",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_color",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:'\n\t!ifElse ("string" eq displayType: _color) {\n\t\t_color\n\t};{\n\t\tcolorToString: Color: _color\n\t}\n',kind:"string",waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"red",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"green",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"blue",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"yellow",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"magenta",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"cyan",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"black",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:0,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"white",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{special:";",kind:"special",waiting:false},{num:255,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["gcd","divisors"],[{string:"divisors",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Int",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_numbers",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"$smallest = min:_numbers. {0 eq sum:_numbers mod x} filter 2 range smallest",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"gcd",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Int",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_numbers",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"last: divisors: _numbers",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["responsive","rounded"],[{string:"responsive",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Annotation",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"x: \\1",kind:"string",waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"rounded",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"responsive",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"pxRoundness",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["modifiable_list"],[{string:"modifiableList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_normalList",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t!ifElse ((first each _normalList) eq $push;$getArray;$clear;$setOnAddition;$setOnRemoval;$setOnChange;$removeEquals;$removeIndex;$setIndex) {\n\t\t_normalList\n\t};{\n\t\t$listVar ? (List:Any) = _normalList. $listVarRef = reference: $listVar.\n\t\t$onAdditionList = (). $onAdditionListRef = reference: $onAdditionList. $onAddition = referenceBasedComposedFunction: onAdditionListRef.\n\t\t$onRemovalList = (). $onRemovalListRef = reference: $onRemovalList. $onRemoval = referenceBasedComposedFunction: onRemovalListRef.\n\t\t$onChangeList = (). $onChangeListRef = reference: $onChangeList. $onChange = referenceBasedComposedFunction: onChangeListRef.\n\t\t$listEnd = (). $listEndRef = reference: $listEnd.\n\t\t\n\t\t["push"; ($_items ? (List:Any)) fun {\n\t\t\tlistVarRef = listVar ; _items.\n\t\t\tonAddition each _items.\n\t\t\t!onChange.\n\t\t\tlistVar\n\t\t}];\n\t\t["getArray"; () fun {listVar;listEnd}];\n\t\t["clear";() fun {\n\t\t\t$oldListVar = listVar.\n\t\t\tlistVarRef = ().\n\t\t\tonRemoval each oldListVar.\n\t\t\t!onChange.\n\t\t\tlistVar\n\t\t}];\n\t\t["setOnAddition";($function) fun {onAdditionListRef = onAdditionList;function}];\n\t\t["setOnRemoval";($function) fun {onRemovalListRef = onRemovalList;function}];\n\t\t["setOnChange";($function) fun {onChangeListRef = onChangeList;function}];\n\t\t["removeEquals";($_item) fun {\n\t\t\tlistVarRef = {not: _item eq x} filter listVar.\n\t\t\tonRemoval: _item.\n\t\t\t!onChange.\n\t\t\tlistVar\n\t\t}];\n\t\t["removeIndex";($index ? Int) fun {\n\t\t\t$item = index at listVar.\n\t\t\tlistVarRef = ({not: index eq x} filter arrayIndexes) at listVar.\n\t\t\tonRemoval: item.\n\t\t\t!onChange.\n\t\t\tlistVar\n\t\t}];\n\t\t["setIndex";($index ? Int ; $_item) fun {\n\t\t\tlistVarRef = ($i fun {\n\t\t\t\t!ifElse (i eq index) {_item};{i at listVar}\n\t\t\t}) all arrayIndexes: listVar.\n\t\t\t!onChange.\n\t\t\tlistVar\n\t\t}]\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["modifiable_object"],[{string:"modifiableObject",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_originalObject",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$baseList ? ModifiableList = _originalObject.\n\t$baseListRef = reference: $baseList.\n\t\n\t$currentObject = _originalObject.\n\t$currentObjectRef = reference: $currentObject.\n\t\n\t$needsRefresh = false. $needsRefreshRef = reference: $needsRefresh.\n\t\n\t$refreshObject = () fun {!if needsRefresh {currentObjectRef = do: $getArray propOf baseList. needsRefreshRef = false}. void}.\n\t\n\t["push" ; ($_key ; $_value) fun {\n\t\t($push propOf baseList): [[_key];[_value]].\n\t\tneedsRefreshRef = true. void\n\t}];\n\t["removeProperty"; $_key fun {\n\t\tcurrentObjectRef = {not: (first: x) eq _key} filter do: $getArray propOf baseList.\n\t\tbaseListRef = currentObject.\n\t}];\n    ["remove"; ($_key ; $_value) fun {\n\t\tcurrentObjectRef = {not: x eq [_key];[_value]} filter do: $getArray propOf baseList.\n\t\tbaseListRef = currentObject.\n\t}];\n\t["getObject" ; () fun {do refreshObject. currentObject}];\n\t["clear" ; () fun {do: $clear propOf baseList. needsRefreshRef = true. void}];\n\t["isProperty" ; $_possibleProperty fun {do refreshObject. _possibleProperty objHasProperty currentObject}];\n\t["getProperty" ; $_property fun {do refreshObject. _property objFirstProperty currentObject}]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["cached_fun_object","cached_fun"],[{string:"cachedFunObject",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"originalFunction",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"modifiableObject",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_cache",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$arguments = ($argumentList propOf calcitAnnotations: originalFunction) + "_cached".\n\t\n\t$resultingFunction = (arguments) fun {\n\t\t$evaluatedArguments = do each do each "{" + arguments + "}".\n\t\t(not: ($isProperty propOf _cache): evaluatedArguments) ifElse {\n\t\t\t$result = originalFunction do evaluatedArguments.\n\t\t\tevaluatedArguments ($push propOf _cache) result.\n\t\t\tresult\n\t\t};{($getProperty propOf _cache): evaluatedArguments}\n\t}.\n\t\n\t["function";resultingFunction];\n\t["cache";[_cache]]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"cachedFun",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"originalFunction",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_cache",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$function propOf originalFunction cachedFunObject (default: modifiableObject: ()): _cache\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["auto_cleared_cache"],[{string:"autoClearedCache",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"fullTimeMillis",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$cache = modifiableObject:().\n\tfullTimeMillis repeatAsync {\n\t\tdo: $clear propOf cache.\n\t}.\n\tcache\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["prop_of"],[{string:"propOf",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"objFirstProperty",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["get_array"],[{string:"getArray",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"();do: $getArray propOf _list",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["curry","bind","bind_first_argument","bind_second_argument"],[{string:"curry",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"f",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"($_a) fun { ($_b) fun {_a f _b} }",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"bindFirstArgument",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"bind",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"f",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_arg",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"(curry: f): _arg",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"bindSecondArgument",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"f",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_arg",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t($a) fun {a f _arg}\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["years_to_millis","days_to_millis","hours_to_millis","minutes_to_millis","seconds_to_millis","get_current_date_utc"],[{string:"secondsToMillis",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{special:"*",kind:"special",waiting:false},{name:"bind",kind:"name",waiting:false},{num:1e3,kind:"num",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"minutesToMillis",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"minutes",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"secondsToMillis: minutes * 60",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"hoursToMillis",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"hours",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"minutesToMillis: hours * 60",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"daysToMillis",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"days",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"hoursToMillis: days * 24",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"yearsToMillis",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"years",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"daysToMillis: years * 365",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"getCurrentDateUtc",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"dateToUtc: do: getCurrentDate",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["url_title_async"],[{string:"urlTitleAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"then",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"anyUrl",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'{then: (default: anyUrl): second: "<\\s*title\\s*>(.*)</\\s*title\\s*>" match x} loadGlobalAsync anyUrl',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["string_asset_access","localized_string_asset_access"],[{string:"stringAssetAccess",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cachedFun",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{string:"/assets/strings/",kind:"string",waiting:false},{name:"default",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_prefix",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"loadLocal: x",kind:"string",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_loader",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$object = {(calcitUnifyName: first: x);second: x} each parseJson: _loader: _prefix + "default.json".\n\t!if (not object eq void) {\n\t\tcachedFun: ($key ? String) fun {\n\t\t\t(calcitUnifyName: key) objFirstProperty object\n\t\t}\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"localizedStringAssetAccess",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"cachedFun",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{string:"/assets/strings/",kind:"string",waiting:false},{name:"default",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_prefix",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"loadLocal: x",kind:"string",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_loader",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$localizedStrings = (_prefix + (do: getUserLanguage) + "/") stringAssetAccess _loader.\n\t!ifElse (not localizedStrings eq void) {\n\t\tlocalizedStrings\n\t};{\n\t\t$localizedStringsFallback = (_prefix + (do: getSimpleUserLanguage) + "/") stringAssetAccess _loader.\n\t\t!ifElse (not localizedStringsFallback eq void) {\n\t\t\tlocalizedStringsFallback\n\t\t};{\n\t\t\t_prefix stringAssetAccess _loader\n\t\t}\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["fallback_fun"],[{string:"fallbackFun",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_functionsInOrder",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\n\t$fallback = ($_args ; $currentIndex) fun {\n\t\t$currentResult = (currentIndex at _functionsInOrder) do _args.\n\t\t!ifElse (currentResult eq void) {\n\t\t\t!ifElse (currentIndex < length: _functionsInOrder) {\n\t\t\t\t_args fallback currentIndex + 1\n\t\t\t};{}\n\t\t};{\n\t\t\tcurrentResult\n\t\t}\n\t}.\n\t\n\t($_a;$_b) fun {\n\t\t([_a];[_b]) fallback 0\n\t}\n\t\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["get_simple_user_language"],[{string:"getSimpleUserLanguage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'second: "([a-zA-Z0-9]+)" match do:getUserLanguage',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_element"],[{string:"uiElement",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_anything",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t!ifElse ("dom" eq displayType: _anything) {\n\t\t_anything\n\t};{\n\t\t!ifElse ("string" eq displayType: _anything) {\n\t\t\tuiText: _anything\n\t\t};{\n\t\t\tuiContainer: [_anything]\n\t\t}\n\t}\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["image_strings_from_text","image_strings_from_url_async"],[{string:"imageStringsFromText",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"html",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'second each {"([^"]*\\.(jpg|png|gif))"} allMatches html',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"imageStringsFromUrlAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"url",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"{callback: imageStringsFromText: x} loadGlobalAsync url",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["launch_app","launch_global_app","launch_app_name","relaunch_app"],[{string:"launchApp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"appUrl",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tredirect appUrl.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"launchGlobalApp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Url",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"appUrl",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tredirect appUrl.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"launchAppName",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"appName",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\tlaunchApp: "/app/" + appName.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"relaunchApp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!reload\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["media_controller_properties","media_controller"],[{string:"mediaControllerProperties",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"getProgress",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"setTime",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"setOnEnd",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"setOnProgress",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"play",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"pause",kind:"string",waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"MediaController",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_mediaController",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t_mediaController.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["developer_mode"],[{string:"developerMode",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"true",kind:"string",waiting:false},{name:"eq",kind:"name",waiting:false},{name:"storageLoadString",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"kalzit.devmode",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["function","repeated_function"],[{string:"Function",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"RepeatedFunction",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"x",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_action_picker_for_mobile","ui_index_picker_for_mobile"],[{string:"uiIndexPickerForMobile",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiActionPickerForMobile",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_options",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t_options uiCustomListView\n\t\t["itemViewFactory"; !fun ($item;$index) {\n\t\t\t@(cssClass: "k-single_view_picker") @(onTap: () fun {action: index}) uiContainer: uiText: item\n\t\t}];\n\t\t["sidePadding"; 7]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["push_if_empty"],[{string:"pushIfEmpty",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_item",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!ifNot(length: getArray: _list) {\n\t\t($push propOf _list): _item\t\n\t}\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["timeout_now"],[{string:"timeoutNow",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t`Make sure that no other timeout routine interferes`\n\t!timeoutPause.\n\n\t`Push the timeout data to the server`\n\t!loadLocalAsync "/api/updateCookieJson/v4?session=" + (storageLoadString: "calcitSession") + "&time=" + (urlEncodeParameter: "" + !getCurrentDate) + "&push=" + urlEncodeParameter: objToJson:\n\t\t["kalzit.timeoutSince"; String: !getCurrentDate];\n\t\t["kalzit.timeoutMinutes"; "0"] -> {\n\t\t\t`All done!`\n\t\t\t!relaunchApp\n\t\t}.\n\t\t\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["composed_function"],[{string:"composedFunction",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"functionList",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!fun ($a; $b) {\n\t\t!loopEach (getArray: functionList) -> {a x b}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["reference_based_composed_function"],[{string:"referenceBasedComposedFunction",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"functionListRef",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!fun ($a; $b) {\n\t\t!loopEach (resolveReference: functionListRef) -> {a x b}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.installJs((function(){this.urlGetParameter=function(parameterName,url){try{if(url.split("?").length!==2)return null;var vars=url.split("#")[0].split("?")[1].split("&");for(var i=0;i<vars.length;i++){var pair=vars[i].split("=");if(decodeURIComponent(pair[0])===parameterName){return decodeURIComponent(pair[1])}}return null}catch(e){return null}};this.urlEncodeParameter=function(urlParameter){try{return encodeURIComponent(urlParameter)}catch(e){return null}};this.urlDecodeParameter=function(urlParameter){try{return decodeURIComponent(urlParameter)}catch(e){return null}};this.urlGetHostName=function(url){try{return new URL(url).hostname}catch(e){return null}};this.urlGetOrigin=function(url){try{return new URL(url).origin}catch(e){return null}}}));GLang.packageManager.installJs((function(){this.match=function(regexString,stringToMatch){return stringToMatch.match(regexString)};this.allMatches=function(regexString,stringToMatch){var re=new RegExp(regexString,"g");var s=stringToMatch;var m;var result=[];do{m=re.exec(s);if(m){result.push(m)}}while(m);return result};this.strReplaceRegex=function(_regexAndReplacement,original){return original.replace(new RegExp(_regexAndReplacement[0].value,"g"),_regexAndReplacement[1].value)}}));GLang.packageManager.installJs((function(){this.random=Math.random}));GLang.packageManager.installJs((function(){var firstInvalidConversion=true;function invalidNumberConversion(numberlikeValue){if(firstInvalidConversion){var out;try{if(alert!==undefined)out=alert;else out=function(m){console.log("DEBUG: "+m)}}catch(e){out=function(m){console.log("DEBUG: "+m)}}out("This app attempted to convert an invalid value ("+numberlikeValue+") to a number internally. This probably indicates a bug in this app and means that it might not work as you would expect. If you see this message again or if the app does something unexpected, please let the developer know about it. This message will not show up again until you reload the page.");firstInvalidConversion=false}console.error(new Error("The value "+numberlikeValue+" is not a number and can not be converted to one"));return 0}this.float=function(numberlikeValue){var f=parseFloat(numberlikeValue+"");if(f!==f||f===null){return invalidNumberConversion(numberlikeValue)}return f};this.int=function(numberlikeValue){var i=parseInt(numberlikeValue+"");if(i!==i||i===null){return invalidNumberConversion(numberlikeValue)}return i}}));GLang.packageManager.installJs((function(){this.strBytes=function(string){var chars=[];for(var i=0;i<string.length;++i){var code=string.charCodeAt(i);chars=chars.concat([code&255,code/256>>>0])}return chars}}));GLang.packageManager.installJs((function(){this.PI=Math.PI;this.E=Math.E;this.abs=function(num){return Math.abs(num)}}));GLang.packageManager.installJs((function(){this.nativeFileMime=function(extension){switch(extension){case"html":return"text/html";case"js":return"text/javascript";case"txt":return"text/plain";case"jpg":return"image/jpg";case"mp4":return"video/mp4";case"svg":return"image/svg+xml";case"json":return"application/json";case"css":return"text/css";case"mp3":return"audio/mpeg";case"m4a":return"audio/mp4";default:return"*"}}}));GLang.packageManager.installJs((function(){this.calcitCompile=function(code,optimized){return JSON.stringify(GLang.generateTree(code,optimized))}}));
;GLang.packageManager.registerPrecompiledPackage(["selection_manager"],[{string:"selectionManager",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$onSelect = $onSelect propOf config.\n\t$onDeselect = $onDeselect propOf config.\n\t$currentSelection ? ModifiableList = $currentSelection propOf config.\n\t\n\t`Make sure that all currently selected items go through the onSelect function`\n\tonSelect each getArray: currentSelection.\n\t\n\t`Add list events to handle new or removed items`\n\t($setOnAddition propOf currentSelection): onSelect.\n\t($setOnRemoval propOf currentSelection): onDeselect.\n\t\n\t`Return value`\n\t[$addToSelection; ($item) fun {\n\t\t($push propOf currentSelection): item\n\t}];\n\t[$removeFromSelection; ($item) fun {\n\t\t($removeEquals propOf currentSelection): item.\n\t}];\n\t[$setSelection; ($items) fun {\n\t\tdo: ($clear propOf currentSelection).\n\t\t($push propOf currentSelection): items.\n\t}];\n\t[$clearSelection; ($items) fun {\n\t\tdo: ($clear propOf currentSelection).\n\t}];\n\t[$getCurrentSelection; () fun {\n\t\tcurrentSelection\n\t}]\n",kind:"string",waiting:false}]);
;GLang.packageManager.installJs((function(){function withMotion(callback,onError){if(window.DeviceMotionEvent){return callback(window.DeviceMotionEvent)}else{return onError}}function withMotionPermissionStatus(callback){withMotion((DeviceMotionEvent=>{if(typeof DeviceMotionEvent.requestPermission==="function"){DeviceMotionEvent.requestPermission().then((permissionState=>{callback(permissionState)})).catch((()=>{callback("unknown")}))}else{callback("granted")}}))}function motionSupported(){return withMotion((DeviceMotionEvent=>true),false)}this.motionSupported=motionSupported;function motionAllowedAsync(callback){withMotionPermissionStatus((permission=>{callback(permission==="granted")}))}var motionAllowedAsyncKalzit={value:function(env,args){var callback=args[0];motionAllowedAsync((allowed=>{GLang.callObject(callback,env,[{value:allowed?1:0}])}));return GLang.voidValue}};GLang.defaultRuntimeEnvironment.setInnerVariable("motion_request_permission_async",motionAllowedAsyncKalzit);GLang.defaultRuntimeEnvironment.setInnerVariable("motion_allowed_async",motionAllowedAsyncKalzit);function motionForbiddenAsync(callback){withMotionPermissionStatus((permission=>{callback(permission==="denied")}))}GLang.defaultRuntimeEnvironment.setInnerVariable("motion_forbidden_async",{value:function(env,args){var callback=args[0];motionForbiddenAsync((allowed=>{GLang.callObject(callback,env,[{value:allowed?1:0}])}));return GLang.voidValue}});function motionCanBeRequestedAsync(callback){withMotionPermissionStatus((permission=>{callback(permission==="unknown")}))}GLang.defaultRuntimeEnvironment.setInnerVariable("motion_can_be_requested_async",{value:function(env,args){var callback=args[0];motionCanBeRequestedAsync((allowed=>{GLang.callObject(callback,env,[{value:allowed?1:0}])}));return GLang.voidValue}});function setOnShake(then){var threshold=10;var direction=1;var directionChanged=false;var count=0;function onMotion(event){var x=event.acceleration.x;if(x>1&&direction<1){direction=-1;directionChanged=true}if(x<1&&direction>-1){direction=1;directionChanged=true}if(Math.abs(x)>threshold){directionChanged=false;count++;if(count==3){then()}}}setInterval((function(){count=0}),1e3);window.addEventListener("devicemotion",onMotion)}GLang.defaultRuntimeEnvironment.setInnerVariable("on_global_shake",{value:function(env,args){var callback=args[0];setOnShake((()=>{GLang.callObject(callback,env,[])}));return GLang.voidValue}})}));
;GLang.packageManager.installJs((function(){this.shareSupported=function(){if(navigator.share){return true}else{return false}};GLang.defaultRuntimeEnvironment.setInnerVariable("share_url",{value:function(env,args){var url=args[0].value;var jsShareObject={url:url};navigator.share(jsShareObject);return GLang.voidValue}});GLang.defaultRuntimeEnvironment.setInnerVariable("share_text",{value:function(env,args){var text=args[0].value;var jsShareObject={text:text};navigator.share(jsShareObject);return GLang.voidValue}})}));
;GLang.packageManager.registerPrecompiledPackage(["left_sidebar_resize_tool","left_sidebar_manager","left_sidebar_toggle_button_tool"],[{string:"leftSidebarDragHandler",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"callback",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t($xPos;$yPos) fun {\n\t\t!if (xPos < 35) {\n\t\t\t!collapseSidebar.\n\t\t}. !else {\n\t\t\t`If the sidebar was hidden during the drag, show it again now`\n\t\t\t!expandSidebar.\n\t\t\t\n\t\t\t`Change the width of the view in front of the separator, so the separator ends up where the mouse is`\n\t\t\t`Only do that if the sidebar will end up lager than a certain size - makes the UX much better. `\n\t\t\t!if (xPos > 135) {\n\t\t\t\tsetSidebarContentWidth: xPos - 14.\n\t\t\t\t\n\t\t\t\t`Pass the appropriate sidebar width to the callback`\n\t\t\t\tcallback: xPos\n\t\t\t}.\n\t\t\t`If the sidebar width is between 35 and 145, keep it at 135 - communicates that this is the smallest size`\n\t\t\t!else {\n\t\t\t\tsetSidebarContentWidth: 135 - 14\n\t\t\t}\n\t\t}\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"leftSidebarResizeTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"views",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$viewInFront = @(cssClass: "k-sidebar_content_wide") !ifElse (void eq views) {\n\t\t@(opacity 0) uiContainer: "0"\n\t};{\n\t\tuiContainer: views.\n\t}.\n\t\n\t@(onDrag: leftSidebarDragHandler: callback)\n\t@(cmHeight toolbarCmHeight)\n\t@verticalCenter\n\t$separator = @dynamicWidth @horizontalResizeCursor uiContainer:\n\t\t(uiHorizontalPxSpace 7);\n\t\t(@(pxWidth 1) !uiHorizontalSeparator);\n\t\t(uiHorizontalPxSpace 7).\n\t\n\t["desktop"; @dynamicWidth @(cssClass: "k-sidebar_part") uiContainer:\n\t\tviewInFront;\n\t\tseparator;\n\t\t(uiHorizontalPxSpace 10)\n\t];\n\t["mobile"; uiContainer: void `Mobile version does nothing`]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"leftSidebarManager",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$sidebarContent = @(cssClass: "k-sidebar_content_wide") @(percentHeight 100) uiContainer: do: $sidebarViews propOf config.\n\t$mainContent = @verticalScroller @right @bottom @(cssClass: "k-sidebar_mainview_wide") $mainContent propOf config.\n\t\n\t$sidebar = @(cssClass: "k-sidebar_part") @left @bottom @dynamicWidth @(height: "100% - " + toolbarCmHeight + "cm") uiContainer:\n\t\t[@left sidebarContent];\n\t\t[@(cssClass: "k-sidebar_invisible_part") uiContainer: void];\n\t\t[@dynamicWidth @windowTop @(percentHeight 100) @(onDrag: leftSidebarDragHandler: void) @horizontalResizeCursor uiContainer:\n\t\t\t[uiHorizontalPxSpace 12];\n\t\t\t[@windowTop !uiHorizontalSeparator];\n\t\t\t[uiHorizontalPxSpace 6]\n\t\t].\n\t\n\t!disableScrolling.\n\n\t`This will be returned`\n\t[$tool;[\n\t\t(!ifNot (void eq $mobileToolTitle propOf config) {\n\t\t\t`We have a mobile tool title, meaning we want a mobile tool (overrides the default)`\n\t\t\t["title"; $mobileToolTitle propOf config];\n\t\t\t["mobile"; !uiTitledPopupView ($mobileToolTitle propOf config) ->\n\t\t\t\t@(width: "100% - 14px") @center uiContainer: do: $sidebarViews propOf config\n\t\t\t]\n\t\t});\n\t\t{\n\t\t\t`Do something with the new width of the sidebar`\n\t\t} leftSidebarResizeTool\n\t\t\t$toolbarViews propOf config\n\t]];\n\t[$sidebar;sidebar].\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"leftSidebarToggleButtonTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t["desktop";@(percentHeight 100) @(cmWidth 0,35) uiContainer:\n\t\t(@(cmWidth 0,35) @verticalCenter !uiSidebarToggleButton);\n\t\t@(width "0.35cm - 5px") uiContainer: void\n\t];\n\t["mobile";uiContainer: void]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.installJs((function(){this.setSidebarContentWidth=function(pxWidth){document.documentElement.style.setProperty("--kv-sidebar_content_width",Math.max(pxWidth,0)+"px")};this.collapseSidebar=function(){document.body.classList.add("k-sidebar_hidden")};this.expandSidebar=function(){document.body.classList.remove("k-sidebar_hidden")};this.toggleSidebarExpansion=function(){document.body.classList.toggle("k-sidebar_hidden")}}));
;GLang.packageManager.registerPrecompiledPackage(["storage_save_automatically","storage_load_automatically","storage_auto"],[{string:"storageSaveAutomatically",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"variable",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tvariable listenVariable {variable storageSaveString do:variable}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageLoadAutomatically",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"variable",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"type",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tvariable = storageLoadString: variable\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageAuto",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"variable",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"type",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tvariable storageLoadAutomatically type.\n\tstorageSaveAutomatically: variable.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["storage_save_string_list","storage_auto_save_string_list","storage_load_string_list","storage_load_list_length","storage_extend_string_list","storage_remove_string_list_index","storage_remove_string_list_item","storage_load_string_list_item","storage_save_string_list_item","storage_clear_list","storage_optimize_string_list"],[{string:"storageSaveStringList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$values = (List:String): getArray: _list.\n\t{\n\t\t("listItem_" + x + "_of_" + key) storageSaveString x at values\n\t} each ($listLength = length: values) rangeDown 0.\n\t("listLength_of_" + key) storageSaveString String:listLength.\n\t\n\t_list\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageAutoSaveStringList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tkey storageSaveStringList _list.\n\t($setOnChange: _list): {key storageSaveStringList _list}.\n\t_list\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageLoadStringList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$len ? Int = storageLoadString: ("listLength_of_" + key).\n\t\n\t() ; ;/ {\n\t\tstorageLoadString: "listItem_" + x + "_of_" + key\n\t} each (0 rangeUp len) - 1\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageLoadListLength",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:0,kind:"num",waiting:false},{name:"default",kind:"name",waiting:false},{name:"Int",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:'\n\tstorageLoadString: ("listLength_of_" + key)\n',kind:"string",waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageExtendStringList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$startLength = storageLoadListLength: key.\n\t$values = (List:String): getArray: _list.\n\t{\n\t\t("listItem_" + x + "_of_" + key) storageSaveString x at values\n\t} each startLength + ($listLength = length: values) rangeDown 0.\n\t("listLength_of_" + key) storageSaveString String:startLength + listLength.\n\t\n\t_list\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageRemoveStringListIndex",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"index",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$originalList = storageLoadStringList: key.\n\tkey storageSaveStringList ({not: x eq index} filter arrayIndexes: originalList) at originalList\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageRemoveStringListItem",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"item",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tkey storageSaveStringList {not x eq item} filter storageLoadStringList: key\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageLoadStringListItem",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"index",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\tstorageLoadString "listItem_" + index + "_of_" + key\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageSaveStringListItem",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Tuple",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Int",kind:"name",waiting:false},{special:";",kind:"special",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_indexAndItem",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t("listItem_" + (first: _indexAndItem) + "_of_" + key) storageSaveString second: _indexAndItem\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageClearList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t("listLength_of_" + key) storageSaveString 0\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"storageOptimizeStringList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"key",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tkey storageSaveStringList storageLoadStringList: key\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["stored_modifiable_string_list"],[{string:"storedModifiableStringList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"storageKey",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$onAdditionList = (). $onAdditionListRef = reference: $onAdditionList. $onAddition = referenceBasedComposedFunction: onAdditionListRef.\n\t$onRemovalList = (). $onRemovalListRef = reference: $onRemovalList. $onRemoval = referenceBasedComposedFunction: onRemovalListRef.\n\t$onChangeList = (). $onChangeListRef = reference: $onChangeList. $onChange = referenceBasedComposedFunction: onChangeListRef.\n\t\n\t["push"; ($_items) fun {\n\t\tstorageKey storageExtendStringList _items.\n\t\tonAddition:_items.\n\t\t!onChange.\n\t\tvoid\n\t}];\n\t["getArray"; () fun {\n\t\tstorageLoadStringList storageKey\n\t}];\n\t["clear";() fun {\n\t\tstorageClearList storageKey\n\t}];\n\t["setOnAddition";($function) fun {onAdditionListRef = onAdditionList;function}];\n\t["setOnRemoval";($function) fun {onRemovalListRef = onRemovalList;function}];\n\t["setOnChange";($function) fun {onChangeListRef = onChangeList;function}];\n\t["removeEquals";($_item) fun {\n\t\tstorageKey storageRemoveStringListItem _item.\n\t\tstorageOptimizeStringList: storageKey.\n\t\t!onRemoval.\n\t\t!onChange.\n\t\tvoid\n\t}];\n\t["removeIndex";($index ? Int) fun {\n\t\tstorageKey storageRemoveStringListIndex index.\n\t\tstorageOptimizeStringList: storageKey.\n\t\t!onRemoval.\n\t\t!onChange.\n\t\tvoid\n\t}];\n\t["setIndex";($index ? Int ; $_item) fun {\n\t\tstorageKey storageSaveStringListItem  [index];[_item].\n\t\t!onChange.\n\t\tvoid\n\t}]\n',kind:"string",waiting:false}]);
;GLang.packageManager.installJs((function(){var manualDarkMode=false;var manualHighContrastMode=false;this.styleDarkModeAuto=function(){manualDarkMode=false;document.getElementById("k-style_dark").media="(prefers-color-scheme: dark)";updateHighContrastDark()};this.styleDarkModeOn=function(){manualDarkMode=true;document.getElementById("k-style_dark").media="all";updateHighContrastDark()};this.styleDarkModeOff=function(){manualDarkMode=false;document.getElementById("k-style_dark").media="none";document.getElementById("k-style_highcontrast_dark").media="none"};this.styleHighContrastAuto=function(){manualHighContrastMode=false;document.getElementById("k-style_highcontrast").media="(prefers-contrast: more)";updateHighContrastDark()};this.styleHighContrastOn=function(){manualHighContrastMode=true;document.getElementById("k-style_highcontrast").media="all";updateHighContrastDark()};this.styleHighContrastOff=function(){manualHighContrastMode=false;document.getElementById("k-style_highcontrast").media="none";document.getElementById("k-style_highcontrast_dark").media="none"};function updateHighContrastDark(){var highContrastDarkTag=document.getElementById("k-style_highcontrast_dark");var highContrastMedia=document.getElementById("k-style_highcontrast").media;var darkModeMedia=document.getElementById("k-style_dark").media;if(highContrastMedia=="all"){highContrastDarkTag.media=darkModeMedia;return}else if(darkModeMedia=="all"){highContrastDarkTag.media=highContrastMedia;return}highContrastDarkTag.media=highContrastMedia+" and "+darkModeMedia}}));
;GLang.packageManager.registerPrecompiledPackage(["register_labeled_tool","ui_global_toolbar","global_desktop_toolbar","global_desktop_toolbar_ref","global_mobile_toolbar","global_mobile_toolbar_ref"],[{string:"registerLabeledTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"label",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_platformImplementations",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tregisterDesktopTool: _platformImplementations.\n\t$mobile = ($mobile objFirstProperty _platformImplementations).\n\t!if (not mobile eq void) {\n\t\tmobile registerMobileTool label.\n\t}.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"globalDesktopToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"void",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"globalDesktopToolbarRef",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"reference",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"globalDesktopToolbar",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"globalMobileToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"void",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"globalMobileToolbarRef",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"reference",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"globalMobileToolbar",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiGlobalToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`Initialize the global toolbar variables (above)`\n\tglobalDesktopToolbarRef = !generateDesktopToolbarOverlay.\n\tglobalMobileToolbarRef = !generateMobileToolbarOverlay.\n\n\t`Build a UI element that includes both the desktop and mobile toolbar`\n\tuiElementCollection:\n\t\t[!uiToolbarReservedSpace];\n\t\t[uiShowVariable: globalMobileToolbarRef];\n\t\t[uiShowVariable: globalDesktopToolbarRef]\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["registered_mobile_tools","register_mobile_tool","generate_mobile_toolbar_overlay","apply_mobile_tools"],[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"registeredMobileTools",kind:"string",waiting:false}],waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"registerMobileTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"toolFactory",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"_label",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t($push propOf registeredMobileTools): [toolFactory;_label].\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"applyMobileTools",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"mobileTools",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t`This view will contain all the tool shortcuts`\n\t@verticalScroller @center @(width: "100% - 14px") @(height "95% - " + toolbarCmHeight + "cm")\n\t\t$toolListView = uiContainer: ().\n\t$addToListView = uiPrint: toolListView.\n\n\t(($_tool) fun {\n\t\t$toolInfo = second: _tool.\n\t\t\n\t\t!if ("string" eq displayType: toolInfo) {\n\t\t\t\n\t\t\t`If the tool info is a string, register an appropriate sub app...`\n\t\t\t$popupRef = reference: $popup.\n\t\t\t$toolName = "tool_" + urlEncodeParameter: second: _tool.\n\t\t\t\n\t\t\ttoolName registerSubApp {\n\t\t\t\t$view = do: first: _tool.\n\t\t\t\t!if (not view eq void) {\n\t\t\t\t\tuiShowPopup: popupRef = (do: first: _tool) uiPopup {openSubApp: ""}\n\t\t\t\t}. !else closeSubApp\n\t\t\t};{}.\n\t\t\t\n\t\t\t`... and add a view to the list view`\n\t\t\taddToListView: @(cssClass: "k-single_view_picker") @(onTap: () fun {openSubApp: toolName})\n\t\t\t\tuiContainer: toolInfo.\n\t\t\t\t\n\t\t}. !else {\n\t\t\t`If the tool info is not a string, treat it as a UI element, and add it to the list view right away`\n\t\t\taddToListView: toolInfo\n\t\t}\n\t}) each getArray: mobileTools.\n\t\n\t`Make the tool list available as a sub app`\n\t$tools registerSubApp popupSubApp: !uiTitledPopupViewAsList (strings: $menu) ->\n\t\ttoolListView.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"generateMobileToolbarOverlay",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiMobileToolbarOverlay: registeredMobileTools.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["registered_desktop_tools","desktop_tool","register_desktop_tool","generate_desktop_toolbar_overlay"],[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"registeredDesktopTools",kind:"string",waiting:false}],waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"registerDesktopTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"toolFactory",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t($push propOf registeredDesktopTools): toolFactory.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"DesktopTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"objectOrFunction",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`We could have an object with a $desktop property here, or we could have a function / UI element`\n\t(default: objectOrFunction): $desktop propOf objectOrFunction\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"generateDesktopToolbarOverlay",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiDesktopToolbarOverlay: registeredDesktopTools\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["ui_kmp_list_item"],[{string:"uiKmpListItem",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"file",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$includeSessionInThumbnailUrl ? (default: true) = $includeSession propOf config.\n\t$thumbnailStyle ? (default: () fun {}) = $thumbnailStyle propOf config.\n\t$titleStyle ? (default: () fun {}) = $titleStyle propOf config.\n\t\n\t$defaultThumbnailGenerator = !fun () {\n\t\t!ifElse (void eq $forcedThumbnail propOf config) {\n\t\t\t`Figure out the thumbnail URL to use`\n\t\t\t$defaultIcon = (default: "/apps/files/unknown.png"): $defaultThumbnail propOf config.\n\t\t\t\n\t\t\t`Return`\n\t\t\t(default: defaultIcon): ($default propOf $thumbnail propOf file) + !ifElse (includeSessionInThumbnailUrl) {"&session=" + (storageLoadString: "calcitSession")};{""}.\n\t\t};{\n\t\t\t`We have a fixed thumbnail URL`\n\t\t\t$forcedThumbnail propOf config\n\t\t}\n\t}.\n\t$actualThumbnailGenerator = !fun ($medium) {\n\t\t$result = ($thumbnailGenerator propOf config): medium.\n\t\t!ifElse (void eq result) {\n\t\t\t`If the result is empty, fall back to the default thumbnail generator`\n\t\t\tdefaultThumbnailGenerator: result\n\t\t};{\n\t\t\tresult\n\t\t}\n\t}.\n\t\n\t$lastNonVoidThumbnailUrl = void. $lastNonVoidThumbnailUrlRef = reference: $lastNonVoidThumbnailUrl.\n\t$thumbnailUrlRef = !ifElse (not: void eq $thumbnailRef propOf config) {\n\t\t`We have an external reference for the thumbnail URL`\n\t\t$thumbnailRef propOf config\n\t};{\n\t\t`Make an internal reference`\n\t\t$thumbnailUrl = void.\n\t\treference: $thumbnailUrl.\n\t}.\n\t\n\t`Listen to reference changes - when a change happens, update the thumbnail`\n\t!listenVariable thumbnailUrlRef $thumbnailUrl fun {\n\t\t!ifElse (thumbnailUrl eq void) {\n\t\t\t`Empty URL - apply the usual thumbnail generator`\n\t\t\tupdateThumbnail: file.\n\t\t};{\n\t\t\t`Change the thumbnail to match the new URL`\n\t\t\t!ifNot (lastNonVoidThumbnailUrl eq thumbnailUrl) {\n\t\t\t\tlastNonVoidThumbnailUrlRef = thumbnailUrl.\n\t\t\t\tthumbnailRef = @thumbnailStyle @(percentHeight 100) @(percentWidth 100) @fit uiShowImageUrl: thumbnailUrl.\n\t\t\t}\n\t\t}\n\t}.\n\t\n\t$thumbnail = void. $thumbnailRef = reference: $thumbnail.\n\t\n\t$updateThumbnail = !fun ($medium) {\n\t\t$newThumbnailUrl = actualThumbnailGenerator: medium.\n\t\t!ifNot (lastNonVoidThumbnailUrl eq newThumbnailUrl) {\n\t\t\tthumbnailUrlRef = newThumbnailUrl.\n\t\t}\n\t}.\n\t!updateThumbnail file.\n\t\n\t$titleGenerator ? (default: {$title propOf x}) = $titleGenerator propOf config.\n\t\n\t$iconHeight ? (default: 60) = $iconHeight propOf config.\n\t$iconWidth ? (default: 60) = $iconWidth propOf config.\n\t\n\t$previewGenerator = !ifElse (not: void eq $previewGenerator propOf config) {\n\t\t`We have a preview generator function, so we can use that`\n\t\t$previewGenerator propOf config\n\t};{\n\t\t`We have no custom preview generator - this here is the default implementation`\n\t\t!fun ($kmpObject ; $title) {\n\t\t\t`Return` @ellipsis @verticalCenter uiText: title\n\t\t}\n\t}.\n\t\n\t@(pxHeight iconHeight)\n\t@relative\n\t$preview = uiContainer:\n\t\t\t(@(pxWidth iconWidth) @(pxHeight iconHeight) uiShowVariable: thumbnailRef);\n\t\t\t(uiHorizontalPxSpace: 20);\n\t\t\t@titleStyle @(width: "100% - " + (iconWidth + 40) + "px") @(pxHeight 50) file previewGenerator titleGenerator: file.\n\t\t\n\t`Return`\n\tuiListItem:\n\t\t["mainView"; preview];\n\t\t["index"; [$index propOf config]];\n\t\t["onTap"; $medium fun {\n\t\t\t`We have to do the tap action, and then we have to update the thumbnail`\n\t\t\t($onTap propOf config): medium.\n\t\t\tupdateThumbnail: medium\n\t\t}];\n\t\t["additionalActionsButton"; [\n\t\t\t!ifElse (not: void eq $additionalActionsButton propOf config) {\n\t\t\t\t($value ; $index) fun {\n\t\t\t\t\t@relative @verticalCenter value ($additionalActionsButton propOf config) index\n\t\t\t\t}\n\t\t\t};{\n\t\t\t\t@relative @verticalCenter file uiAdditionalActionsButton ($additionalActions propOf config)\n\t\t\t}\n\t\t]];\n\t\t(!ifNot (void eq $additionalViewFactory propOf config) {\n\t\t\t["additionalViewFactory"; [{\n\t\t\t\t@(pxHeight iconHeight) do: $additionalViewFactory propOf config\n\t\t\t}]]\n\t\t});\n\t\t["value"; [file]]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_kmp_list_with_big_thumbnails","ui_kmp_list"],[{string:"uiKmpListWithBigThumbnails",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"interactionConfig",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"videoList",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$tapAction = $onTap propOf interactionConfig.\n\t$additionalActions = $additionalActions propOf interactionConfig.\n\t$allowTitleOverflow ? (default: true) = $allowTitleOverflow propOf interactionConfig.\n\t$centerTitle ? (default: true) = $centerTitle propOf interactionConfig.\n\t$defaultThumbnail = $defaultThumbnail propOf interactionConfig.\n\t\n\t($_media fun {\n\t\t$titleView = uiContainer:\n\t\t\t[@(percentWidth 30) uiShowImageUrl: (default: defaultThumbnail): kmpGetDefaultThumbnail: _media;[$keptArguments; [$keptArguments propOf videoList]];[$source; $source propOf videoList]];\n\t\t\t`This text can not be vertically centered because if we do that, it sometimes goes beyond the container and looks weird`\n\t\t\t[@(percentWidth 70) uiContainer: (default: "Untitled"): kmpGetTitle: _media].\n\t\t\t\n\t\t!ifNot (allowTitleOverflow) {\n\t\t\t@ellipsis titleView.\n\t\t}.\n\t\t!if (centerTitle) {\n\t\t\t@centerText titleView.\n\t\t}.\n\t\t\n\t\t`return` uiListItem:\n\t\t\t["onTap"; tapAction];\n\t\t\t["additionalActions"; [additionalActions]];\n\t\t\t["mainView"; titleView];\n\t\t\t["value"; [_media]]\n\t\t\n\t}) uiListView kmpCollectionToList: videoList.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiKmpList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"config",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"videoList",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(kmpCollectionToList: videoList) uiCustomListView\n\t\t[$itemViewFactory; (($_media ; $index) fun {\n\t\t\t_media uiKmpListItem config;[$index; [index]]\n\t\t})];\n\t\t($listConfig propOf config).\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["ui_cycling_slides"],[{string:"uiCyclingSlides",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"pauseTime",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_slideValues",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$slideIndexRef = reference: $slideIndex.\n\t$mySlides = slideIndexRef uiSlides _slideValues.\n\t$myIndex = 0. $myIndexRef = reference: $myIndex.\n\tpauseTime repeatAsync {myIndexRef = (myIndex + 1) mod length: slideValues. slideIndexRef = myIndex}.\n\tmySlides\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_textfield_variable_onaction","ui_textfield_variable_onchange"],[{string:"uiTextfieldVariableOnaction",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"varRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"initialValue",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"varRef = initialValue. {varRef = x} uiTextfieldOnaction initialValue",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTextfieldVariableOnchange",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"varRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"initialValue",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tvarRef = initialValue.\n\t$result = {varRef = x} uiTextfieldOnchange initialValue.\n\t!listenVariable varRef {\n\t\tresult uiSetText x\n\t}.\n\tresult\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_slides","ui_lazy_slides"],[{string:"uiSlides",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"slideIndexRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_slides",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$currentSlide = 0 at _slides. $currentSlideRef = reference: $currentSlide.\n\t\n\tslideIndexRef = 0.\n\tslideIndexRef listenVariable {currentSlideRef = x at _slides}.\n\t\n\tuiShowVariable: currentSlideRef\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiLazySlides",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"slideIndexRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_slideGenerator",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$currentSlide = _slideGenerator: 0. $currentSlideRef = reference: $currentSlide.\n\t\n\tslideIndexRef = 0.\n\tslideIndexRef listenVariable {currentSlideRef = _slideGenerator: x}.\n\t\n\tuiShowVariable: currentSlideRef\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_single_view_picker","ui_live_single_view_picker"],[{string:"uiLiveSingleViewPicker",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"onSelect",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_modifiableViewsList",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$currentView = onSelect uiSingleViewPicker getArray: _modifiableViewsList.\n\t$currentViewRef = reference: $currentView.\n\t($setOnAddition propOf _modifiableViewsList): {\n\t\tcurrentViewRef = onSelect uiSingleViewPicker getArray: _modifiableViewsList.\n\t}.\n\tuiShowVariable: currentViewRef.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiSingleViewPicker",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"onSelect",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"UiElement",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_normalViews",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$selected = (). $selectedRef = reference: $selected.\n\t$hovered = (). $hoveredRef = reference: $hovered.\n\t\n\t$views = ($index fun {\n\t\t$view = @(cssClass "k-single_view_picker") index at _normalViews.\n\t\t\n\t\t@(onTap: () fun {\n\t\t\t(selectedRef = view) onSelect index\n\t\t})\n\t\tview.\n\t}) each arrayIndexes: _normalViews.\n\t\n\tuiContainer: views\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_popup","ui_large_popup","ui_small_popup","ui_basic_popup","ui_popup_with_background","ui_popup_background"],[{string:"uiBasicPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_values",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$popup = @front @windowCenter @(cssClass "calcitExtremeBackground") @(cssClass "k-popup") uiContainer: _values.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiPopupBackground",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$background = @(cssClass "k-popup_background") @front @(onTap: () fun {\n\t\t!popupAnimateOut. do:then\n\t}) @(percentWidth: 100) @(percentHeight: 100) @windowTop @windowLeft uiContainer: ().\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiPopupWithBackground",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"popupWithoutBackground",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$container = @(cssClass "k-popup_container") uiContainer: (uiPopupBackground: then);popupWithoutBackground\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiLargePopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_values",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t(@(cssClass "k-large_popup") uiBasicPopup: _values) uiPopupWithBackground then\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiSmallPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_values",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"then",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t(@(cssClass "k-small_popup") uiBasicPopup: _values) uiPopupWithBackground then\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_left_button","ui_right_button"],[{string:"uiLeftButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{string:"<",kind:"string",waiting:false},{name:"default",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"text",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\t\n\t@(cssClass "k-left_button") @centerText @left @verticalCenter uiContainer: text.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiRightButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{string:">",kind:"string",waiting:false},{name:"default",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"text",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(cssClass "k-right_button") @centerText @right @verticalCenter uiContainer: text.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_slides_with_navigation","ui_lazy_slides_with_navigation"],[{string:"uiSlidesWithNavigation",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"Any",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_slides",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:0,kind:"num",waiting:false},{name:"default",kind:"name",waiting:false},{name:"Int",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"startIndex",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$indexVar = 0. $indexVarRef = reference: $indexVar.\n\t$result = uiContainer: (indexVarRef uiSlides _slides);(\n\t\t@(onTap: () fun {\n\t\t\tindexVarRef = (0 > indexVar - 1) ifElse {(length: _slides) - 1};{indexVar - 1}\n\t\t})\n\t\tdo:uiLeftButton\n\t);(\n\t\t@(onTap: () fun {\n\t\t\tindexVarRef = ((length: _slides) eq indexVar + 1) ifElse {0};{indexVar + 1}\n\t\t})\n\t\tdo:uiRightButton\n\t).\n\tindexVarRef = startIndex.\n\tresult\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiLazySlidesWithNavigation",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"_slideGenerator",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{num:0,kind:"num",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"startIndex",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$indexVarRef = !ifElse ("reference" eq displayType: startIndex) {\n\t\tstartIndex\n\t};{\n\t\t$indexVar = 0.\n\t\treference: $indexVar\n\t}.\n\t\n\t$result = uiContainer: (indexVarRef uiLazySlides _slideGenerator);(\n\t\t@(onTap: () fun {\n\t\t\tindexVarRef = (0 > (resolveReference: indexVarRef) - 1) ifElse {(length: _slideGenerator) - 1};{(resolveReference: indexVarRef) - 1}\n\t\t})\n\t\tdo:uiLeftButton\n\t);(\n\t\t@(onTap: () fun {\n\t\t\tindexVarRef = ((length: _slideGenerator) eq (resolveReference: indexVarRef) + 1) ifElse {0};{(resolveReference: indexVarRef) + 1}\n\t\t})\n\t\tdo:uiRightButton\n\t).\n\t\n\t!if (not "reference" eq displayType: startIndex) {\n\t\tindexVarRef = startIndex.\n\t}.\n\tresult\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_slider"],[]);GLang.packageManager.registerPrecompiledPackage(["ui_textarea_onchange","ui_textarea_variable_onchange"],[{string:"uiTextareaVariableOnchange",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"var",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiNativeTextareaVariableOnchange: var\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTextareaOnchange",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"RepeatedFunction",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"action",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{string:"",kind:"string",waiting:false},{name:"default",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"defaultText",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(cssClass "k-textarea") action uiNativeTextareaOnchange defaultText.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_add_horizontal_px_spaces","ui_add_vertical_px_spaces","ui_left_right_px_padded","ui_top_bottom_px_padded","ui_left_right_percent_padded","ui_top_bottom_percent_padded"],[{string:"uiAddHorizontalPxSpaces",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"width",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"UiElement",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_views",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t;/ ({[x at _views];[uiHorizontalPxSpace:width]} each (0 rangeUp (length: _views) - 1) - 1);[last: _views]\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiAddVerticalPxSpaces",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"width",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"UiElement",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_views",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t;/ ({[x at _views];[uiVerticalPxSpace:width]} each (0 rangeUp (length: _views) - 1) - 1);[last: _views]\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiLeftRightPxPadded",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"padding",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"view",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$viewWidth = $px_width objFirstProperty $flag objPropertyValues calcitAnnotations: view.\n\t$result = uiContainer: [uiHorizontalPxSpace: padding];[view];[uiHorizontalPxSpace: padding].\n\t(not: void eq viewWidth) if {\n\t\t@(pxWidth: viewWidth + 2 * padding) result\n\t}.\n\tresult.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTopBottomPxPadded",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"padding",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"view",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$viewHeight = $px_height objFirstProperty $flag objPropertyValues calcitAnnotations: view.\n\t$result = uiContainer: [uiVerticalPxSpace: padding];[view];[uiVerticalPxSpace: padding].\n\t(not: void eq viewWidth) if {\n\t\t@(pxHeight: viewHeight + 2 * padding) result\n\t}.\n\tresult.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiLeftRightPercentPadded",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"padding",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"view",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiContainer: [uiHorizontalPercentSpace: padding];[view];[uiHorizontalPercentSpace: padding].\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTopBottomPercentPadded",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Int",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"padding",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"view",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiContainer: [uiVerticalPercentSpace: padding];[view];[uiVerticalPercentSpace: padding].\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_grid","ui_columns"],[{string:"uiColumns",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiGrid",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"List",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"UiElement",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_views",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:-1,kind:"num",waiting:false},{name:"default",kind:"name",waiting:false},{name:"Int",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"columnCount",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"@(columns: columnCount) uiContainer: _views",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["color_combination","blue_color_combination","red_color_combination","green_color_combination","yellow_color_combination","magenta_color_combination","cyan_color_combination"],[{string:"colorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"RgbColor",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_color",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$baseAccentColorRgb ? RgbColor = {x | 1} each _color % 12,75.\n\t\n\t[[$lightAccentColor] ; [Color: baseAccentColorRgb + 190]];\n\t[[$twilightAccentColor] ; [Color: baseAccentColorRgb + 90]];\n\t[[$darkerTwilightAccentColor] ; [Color: baseAccentColorRgb + 60]];\n\t[[$lighterTwilightAccentColor] ; [Color: baseAccentColorRgb + 120]];\n\t[[$whiteAccentColor] ; [Color: baseAccentColorRgb + 220]];\n\t[[$darkAccentColor] ; [Color: baseAccentColorRgb + 30]];\n\t[[$blackAccentColor] ; [Color: baseAccentColorRgb]]\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"blueColorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"colorCombination",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"blue",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"redColorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"colorCombination",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"red",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"greenColorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"colorCombination",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"green",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"yellowColorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"colorCombination",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"yellow",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"magentaColorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"colorCombination",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"magenta",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"cyanColorCombination",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"colorCombination",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"cyan",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["color_combination_theme"],[{string:"colorCombinationTheme",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"\n\tsetCssColorCombination: x.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["apply_theme"],[{string:"applyTheme",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_theme",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"do:$apply propOf _theme",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_home_screen","ui_home_screen_icon","ui_simple_home_screen_app"],[{string:"uiHomeScreenIcon",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"iconGraphic",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"@(backgroundColor red) x",kind:"string",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_applySpecificLook",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$ico = @rounded @(emWidth 5) @(emHeight 5) iconGraphic.\n\t_applySpecificLook: ico\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{kind:"parentheses",parentheses:[{name:"useInstead",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"uiHomeScreenLink - much more integrated with OS features, like drag and drop on iPad",kind:"string",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{string:"uiHomeScreenAppButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"appInfo",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$appColor ? RgbColor = (default: 122): eval: $color propOf appInfo.\n\t$description = (default: "Untitled"): $title propOf appInfo.\n\t$iconPath = $icon propOf appInfo.\n\t\n\t$gradient = backgroundGradientTopToBottom: [appColor];[{max: 0;x} each appColor - 150].\n\t$border = borderColor: {max: 0;x} each appColor - 50.\n\t$graphic = !ifElse (not: void eq iconPath) {\n\t\tuiShowImageUrl: "/apps/" + ($id propOf appInfo) + "/" + iconPath.\n\t};{\n\t\tuiContainer: @(emFontSize 1,5) uiText: first: "" strSplit description.\n\t}.\n\t\n\t@(onTap action) @centerText uiContainer: (graphic uiHomeScreenIcon {@(foregroundColor white) @border @gradient x});uiText: description\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{kind:"parentheses",parentheses:[{name:"useInstead",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"uiHomeScreenLink - much more integrated with OS features, like drag and drop on iPad",kind:"string",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{string:"uiSimpleHomeScreenApp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"description",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"action",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\taction uiHomeScreenAppButton\n\t\t[$title;description];\n\t\t[$color;[\n\t\t\trandomItem: "red";"green";"blue"\n\t\t]].\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiHomeScreenLink",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"appInfo",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$appColor ? RgbColor = (default: 122): eval: $color propOf appInfo.\n\t$description = (default: "Untitled"): $title propOf appInfo.\n\t$iconPath = $icon propOf appInfo.\n\t\n\t$gradient = backgroundGradientTopToBottom: [appColor];[{max: 0;x} each appColor - 150].\n\t$border = borderColor: {max: 0;x} each appColor - 50.\n\t$graphic = !ifElse (not: void eq iconPath) {\n\t\tuiShowImageUrl: "/apps/" + ($id propOf appInfo) + "/" + iconPath.\n\t};{\n\t\tuiContainer: @(emFontSize 1,5) uiText: first: "" strSplit description.\n\t}.\n\t\n\tuiContainer: ("/app/" + ($id propOf appInfo)) uiLink @centerText uiContainer: (graphic uiHomeScreenIcon {@(foregroundColor white) @border @gradient x});uiText: description\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiHomeScreen",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"default",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"launchAppName",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_action",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$view = uiColumns: void.\n\t$printToView = uiPrint: view.\n\n\t$appView = !fun ($_app) {\n\t\t!ifElse (developerMode) {\n\t\t\tprintToView: uiHomeScreenLink: _app\n\t\t};{\n\t\t\t!if (not: $dev propOf _app) {\n\t\t\t\tprintToView: uiHomeScreenLink: _app\n\t\t\t}\n\t\t}\n\t}.\n\t\n\t`Load the app data from memory - no server requests required`\n\tappView each standardApps.\n\t\n\tview.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_string_list_edit_popup","ui_string_list_editor","ui_modifiable_string_list_editor","ui_custom_modifiable_string_list_editor","ui_modifiable_string_list_edit_popup"],[{string:"uiCustomModifiableStringListEditor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"list",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"configuration",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t($setOnAddition propOf list): first: $onAddition propOf configuration.\n\t($setOnRemoval propOf list): $onRemoval propOf configuration.\n\t\n\t$stringFactory ? (default: {String: x}) = $toStringConverter propOf configuration.\n\t$itemFactory ? (default: {x}) = $fromStringConverter propOf configuration.\n\t$tapAction = $onTap propOf configuration.\n\t\n\t$nameViewsRef = reference: $nameViews.\n\t$updateNameViews = () fun {\n\t\tnameViewsRef = (($index) fun {\n\t\t\t$_item = index at rawList.\n\t\t\n\t\t\t@center uiContainer:\n\t\t\t\t(uiHorizontalPxSpace: 7);\n\t\t\t\t[@(cssClass: "width-tet-textfield") @(onTap: () fun {tapAction: index}) uiContainer: strFirstLine: stringFactory: _item];\n\t\t\t\t[uiHorizontalPxSpace: 7];\n\t\t\t\t[@(cssClass: "width-tet-button") $button = (() fun {\n\t\t\t\t\t($removeEquals propOf list): _item.\n\t\t\t\t}) uiButton strings: $removeButton];\n\t\t\t\t(uiHorizontalPxSpace: 7)\n\t\t}) each arrayIndexes: $rawList = getArray: list.\n\t}.\n\tdo:updateNameViews.\n\t($setOnChange propOf list): updateNameViews.\n\t\n\tuiContainer: [\n\t\t($newAddition fun {\n\t\t\t($push propOf list): itemFactory: newAddition. do:updateNameViews\n\t\t}) uiTextActionToolbar strings: $addButton\n\t];[\n\t\t@verticalScroller @center @(height "100% - " + toolbarCmHeight + "cm") @(percentWidth 100) uiContainer: uiShowVariableAsList: nameViewsRef\n\t]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiModifiableStringListEditor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"list",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_onAdditionAndOnRemoval",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$config =\n\t\t[$onAddition; first: _onAdditionAndOnRemoval];\n\t\t[$onRemoval; second: _onAdditionAndOnRemoval].\n\t\t\n\tlist uiCustomModifiableStringListEditor config\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiStringListEditor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"listRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_onAdditionAndOnRemoval",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$newAdditionRef = reference: $newAddition.\n\t$onAddition = first: _onAdditionAndOnRemoval.\n\t$onRemoval = second: _onAdditionAndOnRemoval.\n\t\n\t$modList ? ModifiableList = (resolveReference: listRef).\n\tmodList uiModifiableStringListEditor {listRef onAddition x. listRef = getArray: modList};{listRef = getArray: modList. onRemoval: listRef}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiStringListEditPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"listRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_onAdditionAndOnRemoval",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(@(percentHeight 100) listRef uiStringListEditor _onAdditionAndOnRemoval) uiPopup {\n\t\t!closeSubApp\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiModifiableStringListEditPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"list",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_onAdditionAndOnRemoval",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(@(percentHeight 100) list uiModifiableStringListEditor _onAdditionAndOnRemoval) uiPopup {\n\t\t!closeSubApp\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_toolbar_with_close_button","ui_title_toolbar","ui_title_toolbar_with_additional_actions_button"],[{string:"uiToolbarWithCloseButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_views",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$close = @left @verticalCenter uiContainer:\n\t\t[uiHorizontalPxSpace: 7];\n\t\t@(cmWidth: toolbarCmHeight % 2) @(percentHeight 50) !uiCrossButton.\n\n\tuiToolbar:\n\t\t(!if isIosApp close);\n\t\t_views\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTitleToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"title",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"additionalViews",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$appropriateWidth = !ifElse isIosApp {\n\t\t"100% - " + (toolbarCmHeight % 2) + "cm - 7px"\n\t};{\n\t\t`Okay, if we are not an iOS app, we need to check if there are additional views`\n\t\t!ifElse (void eq additionalViews) {\n\t\t\t`There are no additional actions - just add very little space`\n\t\t\t"100% - 7px"\n\t\t};{\n\t\t\t`If there are additional views, we have to tolerate the width of a three-dot button`\n\t\t\t"100% - 30px"\n\t\t}\n\t}.\n\n\t`Two cases - we either have additional views, or we do not have them. If we have them, wrap them into a three-dot button so the toolbar is never too full`\n\t!ifElse (void eq additionalViews) {\n\t\t`No extra views - this is easy`\n\t\tuiToolbarWithCloseButton:\n\t\t\t[@right @(percentHeight 100) @(width appropriateWidth) uiContainer: (@left @verticalCenter @(width appropriateWidth) @centerText uiContainer:\n\t\t\t\t(@(foregroundColor white) @(emFontSize: 1,5) uiText: title)\n\t\t\t)]\n\t};{\n\t\t$actionsButton = @(onTap !fun () {\n\t\t\t`In here, we have to show the actual actions - replace the toolbar contents with them`\n\t\t\t`Trigger a transition to make this look nice`\n\t\t\tapplyTransition: (fadeTransition: ["duration"; 1000];["element"; actualView]);["onSwitch"; () fun {\n\t\t\t\tactualToolbarContentRef = additionalToolbarContent.\n\t\t\t}]\n\t\t}) @right @verticalCenter @dynamicWidth uiContainer:\n\t\t\t[!uiButtonWithThreeDotIcon {}];\n\t\t\t[uiHorizontalPxSpace 7].\n\t\t\t\n\t\t`This is shown by default - the title and an actions button`\n\t\t$defaultToolbarContent = uiContainer:\n\t\t\t[@right @(percentHeight 100) @(width appropriateWidth) uiContainer: (@left @verticalCenter @(width appropriateWidth) @centerText uiContainer:\n\t\t\t\t(@(foregroundColor white) @(emFontSize: 1,5) uiText: title)\n\t\t\t)];\n\t\t\tactionsButton.\n\t\t\n\t\t`This is a view that contains the additional views, as well as a "back" button to get back to the title view. The user can go back and forth`\n\t\t$additionalToolbarContent = uiContainer:\n\t\t\t[uiHorizontalPxSpace 7];\n\t\t\t[@fit @(cmWidth 0,35) @verticalCenter !uiImageButton leftArrowImageUrl -> () fun {\n\t\t\t\t`In here, we have to show the title view again - replace the toolbar contents with it`\n\t\t\t\t`Trigger a transition to make this look nice`\n\t\t\t\tapplyTransition: (fadeTransition: ["duration"; 1000];["element"; actualView]);["onSwitch"; () fun {\n\t\t\t\t\tactualToolbarContentRef = defaultToolbarContent.\n\t\t\t\t}]\n\t\t\t}];\n\t\t\t(additionalViews).\n\t\t\n\t\t`This variable contains the currently shown view - update it to switch between views`\n\t\t$actualToolbarContent = defaultToolbarContent. $actualToolbarContentRef = reference: $actualToolbarContent.\n\t\t\n\t\tuiToolbarWithCloseButton: $actualView = uiShowVariable: actualToolbarContentRef.\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTitleToolbarWithAdditionalActionsButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"title",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"additionalActionsButton",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$appropriateWidth = !ifElse isIosApp {\n\t\t"100% - " + (toolbarCmHeight % 2) + "cm - 7px"\n\t};{\n\t\t`Even if there is no big "x" in the toolbar, we have to tolerate the width of a three-dot button`\n\t\t"100% - 30px"\n\t}.\n\n\tuiToolbarWithCloseButton:\n\t\t[@right @(percentHeight 100) @(width appropriateWidth) uiContainer: (@left @verticalCenter @(width appropriateWidth) @centerText uiContainer:\n\t\t\t(@(foregroundColor white) @(emFontSize: 1,5) uiText: title)\n\t\t)];\n\t\t[@right @verticalCenter @dynamicWidth uiContainer:\n\t\t\tadditionalActionsButton;\n\t\t\t[uiHorizontalPxSpace 7]\n\t\t]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_live_action_picker","ui_live_index_picker","ui_live_reference_index_picker"],[{string:"uiLiveActionPicker",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$pickerRef = reference: $picker.\n\t\n\t$updatePicker = () fun {\n\t\tpickerRef = {action x. !updatePicker. picker uiUpdatePickerValue x} uiActionPicker strFirstLine each getArray: _list.\n\t}.\n\t!updatePicker.\n\t($setOnChange propOf _list): updatePicker.\n\t\n\tuiShowVariable: pickerRef\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiLiveIndexPicker",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$pickerRef = reference: $picker.\n\t\n\t$updatePicker = () fun {\n\t\tpickerRef = {action x. !updatePicker. picker uiUpdatePickerValue x} uiIndexPicker strFirstLine each getArray: _list.\n\t}.\n\t!updatePicker.\n\t($setOnChange propOf _list): updatePicker.\n\t\n\tuiShowVariable: pickerRef\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiLiveReferenceIndexPicker",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"ref",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_list",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$pickerRef = reference: $picker.\n\tref listenVariable {\n\t\t!updatePicker. picker uiUpdatePickerValue x.\n\t}.\n\t\n\t$updatePicker = () fun {\n\t\tpickerRef = ref uiIndexReferencePicker strFirstLine each getArray: _list.\n\t}.\n\t!updatePicker.\n\t($setOnChange propOf _list): updatePicker.\n\t\n\tuiShowVariable: pickerRef\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["generate_desktop_tool_at_left","generate_desktop_tool_at_right","generate_desktop_tools_at_left","generate_desktop_tools_at_right","tool_at_left","tools_at_left","tools_at_right","tool_at_right","tool_layout_manager"],[{string:"generateDesktopToolsAtLeft",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_subTools",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{\n\t\t@left uiContainer: \n\t\t\t`At the very left, add a little space`\n\t\t\t(uiHorizontalPxSpace: 7);\n\t\t\t`Add the tools registered by the app`\n\t\t\t5 uiAddHorizontalPxSpaces {do:$desktop propOf x} each _subTools\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"generateDesktopToolAtLeft",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_tool",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{\n\t\t@left uiContainer:\n\t\t\t`At the very left, add a little space`\n\t\t\t(uiHorizontalPxSpace: 5);\n\t\t\t`Add the tool registered by the app`\n\t\t\tdo:$desktop propOf _tool\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"generateDesktopToolsAtRight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_subTools",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{\n\t\t@dynamicWidth @right uiContainer: \n\t\t\t`Add the tools registered by the app`\n\t\t\t5 uiAddHorizontalPxSpaces {do:$desktop propOf x} each _subTools\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"generateDesktopToolAtRight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_tool",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t{\n\t\t@right do:$desktop propOf _tool\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"toolLayoutManager",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$desktopTools ? ModifiableList = void.\n\t$mobileTools ? ModifiableList = void.\n\t\n\t[$setToolsAtLeft; ($_subTools) fun {\n\t\t($push propOf desktopTools): generateDesktopToolsAtLeft: _subTools.\n\t\t($push propOf mobileTools): ($_subTool fun {\n\t\t\t($mobile propOf _subTool);($title propOf _subTool)\n\t\t}) each _subTools.\n\t}];\n\t[$setToolAtLeft; ($_subTool) fun {\n\t\t($push propOf desktopTools): generateDesktopToolAtLeft: _subTool.\n\t\t($push propOf mobileTools): [($mobile propOf _subTool);($title propOf _subTool)]\n\t}];\n\t[$setToolAtRight; ($_subTool) fun {\n\t\t($push propOf desktopTools): generateDesktopToolAtRight: _subTool.\n\t\t($push propOf mobileTools): [($mobile propOf _subTool);($title propOf _subTool)]\n\t}];\n\t[$getDesktopToolbarOverlay; () fun {\n\t\tuiDesktopToolbarOverlay: desktopTools\n\t}];\n\t[$getMobileToolbarOverlay; () fun {\n\t\tuiMobileToolbarOverlay: mobileTools\n\t}];\n\t[$applyMobileTools; () fun {\n\t\tapplyMobileTools: getArray: mobileTools\n\t}]\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"toolsAtLeft",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_subTools",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`Desktop`\n\tregisterDesktopTool: generateDesktopToolsAtLeft: _subTools.\n\t\n\t`Mobile`\n\t($_subTool fun {\n\t\t($mobile propOf _subTool) registerMobileTool ($title propOf _subTool)\n\t}) each _subTools.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"toolAtLeft",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_tool",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`Desktop`\n\tregisterDesktopTool: generateDesktopToolAtLeft: _tool.\n\t\n\t`Mobile`\n\t($mobile propOf _tool) registerMobileTool ($title propOf _tool).\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"toolsAtRight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_subTools",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`Desktop`\n\tregisterDesktopTool: generateDesktopToolsAtRight: _subTools.\n\t\n\t`Mobile`\n\t($_subTool fun {\n\t\t($mobile propOf _subTool) registerMobileTool ($title propOf _subTool)\n\t}) each _subTools.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"toolAtRight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"_tool",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`Desktop`\n\tregisterDesktopTool: generateDesktopToolAtRight: _tool..\n\t\n\t`Mobile`\n\t($mobile propOf _tool) registerMobileTool ($title propOf _tool).\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["button_tool","index_picker_tool","modifiable_list_edit_tool","custom_modifiable_list_edit_tool","list_edit_tool","popup_tool","separator_tool","additional_actions_tool"],[{string:"buttonTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"title",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t["mobile";{!action. void}];\n\t["desktop";{action uiButton title}];\n\t["title";title]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"indexPickerTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"Tuple",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"String",kind:"name",waiting:false},{special:";",kind:"special",waiting:false},{name:"Reference",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"titleAndRef",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_values",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$title = first: titleAndRef.\n\t$ref = second: titleAndRef.\n\t\n\t["desktop";{@dynamicWidth ref uiLiveReferenceIndexPicker _values}];\n\t["mobile";{\n\t\t!uiTitledPopupViewAsList title ->\n\t\t\t{ref = x. !closeSubApp} uiIndexPickerForMobile strFirstLine each getArray: _values)\n\t}];\n\t["title";title]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"customModifiableListEditTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"configuration",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_values",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$title = (default: "Custom list editor (needs a $title)"): $title propOf configuration.\n\t\n\t`Sub app registration - only used by the desktop button`\n\t$subAppName = "tool_" + urlEncodeParameter: title.\n\t\n\t["desktop";{\n\t\t(() fun {openSubApp: subAppName}) uiButton title\n\t}];\n\t["mobile";{\n\t\t@(percentHeight 100) _values uiCustomModifiableStringListEditor configuration\n\t}];\n\t["title"; title]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"modifiableListEditTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"titleAndCallbacks",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_values",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$callbacks = !if (3 eq length: titleAndCallbacks) {\n\t\t(1 at titleAndCallbacks);\n\t\t2 at titleAndCallbacks\n\t}.\n\t$title = 0 at titleAndCallbacks.\n\t\n\t`Sub app registration - only used by the desktop button`\n\t$subAppName = "tool_" + urlEncodeParameter: title.\n\t\n\t["desktop";{\n\t\t(() fun {openSubApp: subAppName}) uiButton title\n\t}];\n\t["mobile";{\n\t\t@(percentHeight 100) _values uiModifiableStringListEditor callbacks\n\t}];\n\t["title";title]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"listEditTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"titleAndCallbacks",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Reference",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"listRef",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$callbacks = !if (3 eq length: titleAndCallbacks) {\n\t\t(1 at titleAndCallbacks);\n\t\t2 at titleAndCallbacks\n\t}.\n\t$title = 0 at titleAndCallbacks.\n\t\n\t`Sub app registration - only used by the desktop button`\n\t$subAppName = "tool_" + urlEncodeParameter: title.\n\t\n\t["desktop";{\n\t\t(() fun {openSubApp: subAppName}) uiButton title\n\t}];\n\t["mobile";{\n\t\t@(percentHeight 100) listRef uiStringListEditor callbacks\n\t}];\n\t["title";title]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"popupTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"title",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"popupContentGenerator",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t`Sub app registration - only used by the desktop button`\n\t$subAppName = "tool_" + urlEncodeParameter: title.\n\t\n\t["desktop";{\n\t\t(() fun {openSubApp: subAppName}) uiButton title\n\t}];\n\t["mobile";{\n\t\t@(percentHeight 100) uiContainer: !popupContentGenerator\n\t}];\n\t["title";title]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"separatorTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t["desktop"; @(cmHeight toolbarCmHeight) @verticalCenter !uiHorizontalSeparator];\n\t["mobile"; !uiVerticalSeparator]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"additionalActionsTool",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"object",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"additionalActions",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t["desktop"; object uiAdditionalActionsButton additionalActions];\n\t["mobile"; uiContainer: !each additionalActions -> $action fun {\n\t\tuiListItem:\n\t\t\t[$mainView; uiContainer: 0 at action];\n\t\t\t[$onTap; 1 at action];\n\t\t\t[$value; object]\n\t}]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["popup_sub_app"],[{string:"popupSubApp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"contentGenerator",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$popupRef = reference: $popup.\n\t$showPopup = () fun {\n\t\tuiShowPopup: popupRef = (!contentGenerator) uiPopup closeSubApp.\n\t}.\n\t\n\tshowPopup;{}.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_show_popup","show_popup","show_message_async","show_message","show_notification_prompt","show_confirm_message_async"],[{string:"showPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiShowPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"popup",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$active = !isPopupActive.\n\t!hideAllPopups.\n\t\n\t!ifNot active {\n\t\t@(cssClass "k-popup_animated_in") popup\n\t}.\n\tprint: popup.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"notificationPromptShown",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"name",name:"do",waiting:false},{kind:"name",name:":",waiting:false},{name:"notificationForbidden",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"notificationPromptShownRef",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"reference",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"notificationPromptShown",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"showNotificationPrompt",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"message",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t!ifNot (notificationPromptShown | !notificationAllowed) {\n\t\t$action = {uiHide: popup. do:callback}.\n\t\t\n\t\t$popupContent = @(cssClass: "k-vertical_scroller") @(percentHeight 100) uiContainer:\n\t\t\t[@centerText uiText: message];\n\t\t\t[@center uiContainer:\n\t\t\t\t[{\n\t\t\t\t\tuiHide: popup.\n\t\t\t\t\t!ifNot (notificationPromptShown) {\n\t\t\t\t\t\t!notificationRequestPermission.\n\t\t\t\t\t\tnotificationPromptShownRef = true.\n\t\t\t\t\t}.\n\t\t\t\t} uiButton strings: $allowNotifications];\n\t\t\t\t[{notificationPromptShownRef = true. uiHide: popup} uiButton strings: $dontAllow]\n\t\t\t].\n\t\t\n\t\tprint: $popup = popupContent uiSmallPopup action.\n\t}\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"showConfirmMessageAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"onConfirm",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"message",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$action = {uiHide: popup}.\n\t\n\t$popupContent = @(cssClass: "k-vertical_scroller") @(percentHeight 100) uiContainer:\n\t\t[@centerText uiText: message];\n\t\t[@center uiContainer:\n\t\t\t[{\n\t\t\t\tuiHide: popup.\n\t\t\t\tdo: onConfirm\n\t\t\t} uiButton strings: $allow];\n\t\t\t[{uiHide: popup} uiButton strings: $dontAllow]\n\t\t].\n\t\n\tprint: $popup = popupContent uiSmallPopup action.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"showMessageAsync",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"callback",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"message",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$action = {uiHide: popup. do:callback}.\n\n\t$popupContent = @(cssClass: "k-vertical_scroller") @(percentHeight 100) uiContainer:\n\t\t[@centerText uiText: message];\n\t\t[@center action uiButton "OK"].\n\t\n\tprint: $popup = popupContent uiSmallPopup action.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"showMessage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"message",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"notificationQuestion",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!if notificationAllowed {\n\t\tnotificationShowShortText: message.\n\t}. !else {\n\t\t{\n\t\t\t!ifNot (void eq notificationQuestion) {showNotificationPrompt: notificationQuestion}.\n\t\t} showMessageAsync message\n\t}\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["string_list_edit_sub_app"],[{string:"stringListEditSubApp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_stringList",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"_onAdditionAndOnRemoval",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tpopupSubApp: _stringList uiModifiableStringListEditor _onAdditionAndOnRemoval.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_image_link"],[{string:"uiImageLink",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"linkUrl",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"imageUrl",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(cssClass: "k-image_button") linkUrl uiLink @fit uiShowImageUrl: (default: linkUrl): imageUrl\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_search_panel"],[{string:"uiSearchPanel",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"searchResultFactory",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"searchTermReference",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$currentSearchResults = @centerText uiContainer: strings: "pressGoHint". $currentSearchResultsRef = reference: $currentSearchResults.\n\t@(percentHeight 100) uiContainer: do:{\n\t\t$currentSearchTermRef = !ifElse (void eq searchTermReference) {\n\t\t\t`Construct a new reference to store the search term`\n\t\t\t$currentSearchTerm = "".\n\t\t\treference: $currentSearchTerm.\n\t\t};{\n\t\t\t`Use the reference given by the caller of this function`\n\t\t\tsearchTermReference\n\t\t}.\n\t\t\n\t\t$action = !fun ($currentSearchTerm ? strTrim) {\n\t\t\t!if ("" eq currentSearchTerm) {\n\t\t\t\tcurrentSearchResultsRef = @centerText uiText: strings: "enterSearchTerm".\n\t\t\t}. !else {\n\t\t\t\tcurrentSearchResultsRef = @verticalScroller uiContainer: @(width "100% - 14px") @(percentHeight 100) @center uiContainer: searchResultFactory: resolveReference: currentSearchTermRef.\n\t\t\t}\n\t\t}.\n\t\t\n\t\t[uiCustomTextActionToolbar:\n\t\t\t[$buttonText; strings: "go"];\n\t\t\t[$action; action];\n\t\t\t[$inputReference; currentSearchTermRef]\n\t\t];\n\t\t[@belowToolbar uiShowVariable: currentSearchResultsRef]\n\t}.\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_text_action_toolbar","ui_custom_text_action_toolbar"],[{string:"uiCustomTextActionToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$inputReference = (default: reference: $newAddition): $inputReference propOf config.\n\t$buttonText = $buttonText propOf config.\n\t$action = $action propOf config.\n\n\tuiToolbarWithCloseButton: @($toolbarContent fun {\n\t\t\t!ifElse isIosApp {\n\t\t\t\t`Leave space for the close button`\n\t\t\t\t@right @(width "100% - " + (toolbarCmHeight % 1,5) + "cm") toolbarContent\n\t\t\t};{\n\t\t\t\t`Use the entire toolbar`\n\t\t\t\t@(width "100%") @right toolbarContent\n\t\t\t}\n\t\t}) @verticalCenter uiContainer:\n\t\t\t(uiHorizontalPxSpace: 7);\n\t\t\t(@(cssClass: "width-tet-textfield") @(onEnter: () fun {action: resolveReference: inputReference}) inputReference uiTextfieldVariableOnchange "");\n\t\t\t(uiHorizontalPxSpace: 7);\n\t\t\t(@(cssClass: "width-tet-button") {action: resolveReference: inputReference} uiButton buttonText);\n\t\t\t(uiHorizontalPxSpace: 7)\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTextActionToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"action",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"String",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"buttonText",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiCustomTextActionToolbar:\n\t\t[$buttonText; buttonText];\n\t\t[$action; [action]].\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_login_hint"],[{string:"uiLoginHint",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@center uiContainer:\n\t\t[@centerText uiText: strings: $loginHint];\n\t\t[@center {openSubApp: "login"} uiButton strings: $openLogin].\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_horizontal_separator","ui_vertical_separator"],[{string:"uiHorizontalSeparator",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(pxWidth 1)\n\t@(percentHeight 100)\n\t@(backgroundColor: "rgba(var(--kv-text_color_rgb),var(--kv-text_color_alpha))") `TODO: This is very ugly code`\n\tuiContainer: ()\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiVerticalSeparator",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(pxHeight 1)\n\t@(percentWidth 100)\n\t@(backgroundColor: "rgba(var(--kv-text_color_rgb),var(--kv-text_color_alpha))") `TODO: This is very ugly code`\n\tuiContainer: ()\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_custom_list_view","ui_list_view"],[{string:"uiCustomListView",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_options",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$itemViewFactory ? (default: {x}) = $itemViewFactory propOf config.\n\t$itemSpacing ? (default: 0) = $itemSpacing propOf config.\n\t$sidePadding ? (default: 0) = $sidePadding propOf config.\n\t$fullHeight ? (default: false) = $fullHeight propOf config.\n\t\n\t`List view implementation`\n\t$generateView = !fun () {\n\t\t$rawValues = getArray: _options.\n\t\t$listItems = @(percentWidth 100) {(x at rawValues) itemViewFactory x} each arrayIndexes: rawValues.\n\t\t$result = !ifElse itemSpacing {\n\t\t\t`Add annotations for dealing with item spacing`\n\t\t\t@(width "100% - " + (sidePadding * 2) + "px") @center uiContainer: itemSpacing uiAddVerticalPxSpaces listItems\n\t\t};{\n\t\t\t`No need to deal with item spacing`\n\t\t\t@(width "100% - " + (sidePadding * 2) + "px") @center uiContainer: listItems\n\t\t}.\n\t\t\n\t\t!if (fullHeight) {\n\t\t\t@(percentHeight: 100) result\t\n\t\t}.\n\t\t\n\t\t`Return` result\n\t}.\n\t\n\t$currentView = !generateView.\n\t$currentViewRef = reference: $currentView.\n\t\n\t($setOnChange propOf _options) {\n\t\tcurrentViewRef = !generateView\n\t}.\n\t\n\tuiShowVariable: currentViewRef.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiListView",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"itemViewFactory",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_options",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t_options uiCustomListView [$itemViewFactory;itemViewFactory]\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_additional_actions_button"],[{string:"uiAdditionalActionsButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"object",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"actions",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t`This returns a three-dot button with a fixed set of items`\n\t$generateMenu = !fun ($additionalActions) {\n\t\t !ifNot (void eq additionalActions) {\n\t\t\t`Additional actions are specified - make an action menu`\n\t\t\t{\n\t\t\t\t$action = second: (Int: x) at additionalActions.\n\t\t\t\taction: object.\n\t\t\t} uiActionPickerWithIcon first each additionalActions\n\t\t}.\t\n\t}.\n\t\n\t$result = void.\n\t$resultRef = reference: $result.\n\t\n\t$update = !fun () {\n\t\tresultRef = generateMenu: !actions object update\n\t}.\n\t\n\t!update.\n\t@dynamicWidth uiShowVariable: resultRef.\n",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_list_item"],[{string:"uiListItem",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$mainView ? UiElement = $mainView propOf config.\n\t$currentView = mainView. $currentViewRef = reference: $currentView.\n\t\n\t$value = $value propOf config.\n\t$index = $index propOf config.\n\t$tapAction = $onTap propOf config.\n\t\n\t`Construct the UI element`\n\t$actionMenu = do: void switchFirst\n\t\t[{not: void eq $additionalActions propOf config}; {\n\t\t\tvalue uiAdditionalActionsButton $additionalActions propOf config\n\t\t}];\n\t\t[{not: void eq $additionalActionsButton propOf config}; {\n\t\t\tvalue ($additionalActionsButton propOf config) index\n\t\t}];\n\t\t[{not: void eq $additionalViewFactory propOf config}; {\n\t\t\t@verticalCenter @relative !uiButtonWithThreeDotIcon {\n\t\t\t\t!ifElse (currentView eq mainView) {\n\t\t\t\t\tcurrentViewRef = uiContainer:\n\t\t\t\t\t\t[value ($additionalViewFactory propOf config) index].\n\t\t\t\t};{\n\t\t\t\t\tcurrentViewRef = mainView.\t\n\t\t\t\t}\n\t\t\t}\n\t\t}].\n\t\t\n\t$mainViewWidth = !ifElse (void eq actionMenu) {"100%"};{"100% - 27px"}.\n\t\n\t$view = uiContainer:\n\t\t(@(width mainViewWidth) uiShowVariable: currentViewRef);\n\t\t!ifNot (void eq actionMenu) {\n\t\t\t[uiHorizontalPxSpace 7];\n\t\t\t[actionMenu] `If it is void, no action menu is shown`\n\t\t}.\n\t\t\n\t!ifNot (void eq tapAction) {\n\t\t`Make sure that the user can trigger an action by tapping on this element`\n\t\t@(onTap: () fun {\n\t\t\tvalue tapAction index.\n\t\t})\n\t\t@(cssClass: "k-single_view_picker")\n\t\tmainView\n\t\t\n\t}.\n\t\n\t`Return the UI element that represents this list item`\n\tview\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_text_container"],[{string:"uiTextContainer",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"text",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\tuiContainer:\n\t\t[uiHorizontalPxSpace 7];\n\t\t[@(width "100% - 14px") uiContainer: text];\n\t\t[uiHorizontalPxSpace 7]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_webpage","ui_web","ui_show_webpage_url","ui_restricted_webpage","allowed_domains"],[{string:"allowedDomains",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"storedModifiableStringList",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"kalzit.allowedDomains",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiWebpage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiWeb",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiShowWebpageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"pageUrl",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$domain = urlGetHostName: pageUrl.\n\t!ifElse (domain listContains getArray: allowedDomains) {\n\t\t`The domain is allowed!`\n\t\tuiShowWebpageUrlNative: pageUrl\n\t};{\n\t\t`The domain is not allowed yet`\n\t\tuiRestrictedWebpage: pageUrl.\n\t}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiRestrictedWebpage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"pageUrl",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$domain ? (default: "") = urlGetHostName: pageUrl.\n\t!ifElse ("" eq strTrim: domain) {\n\t\t`Domain is empty - we can allow that`\n\t\tuiShowWebpageUrlNative: pageUrl.\n\t};{\n\t\t`We have to ask for permission`\n\t\t$confirmView = @centerText uiContainer:\n\t\t\t[ strings: $confirmDomainAccess ];\n\t\t\t[urlGetHostName: pageUrl];\n\t\t\t[!uiButton (strings: $showPage) -> {\n\t\t\t\tuiHide: confirmView.\n\t\t\t\t(uiPrint: view): @(percentHeight 100) @(percentWidth 100)\n\t\t\t\t\tuiShowWebpageUrlNative: pageUrl.\n\t\t\t\t\n\t\t\t\t!ifNot (domain listContains getArray: allowedDomains) {\n\t\t\t\t\t($push propOf allowedDomains): domain\t\n\t\t\t\t}\n\t\t\t}].\n\t\t\t\n\t\t$view = uiContainer: confirmView.\n\t\t\n\t\t`Return` view.\n\t}\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["show_multi_button_message"],[{string:"showMultiButtonMessage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"message",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"additionalActions",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t\t$hide = !fun () {\n\t\t\tuiHide: popup\n\t\t}.\n\n\t\t$popupContent = @(cssClass: "k-vertical_scroller") @(percentHeight 100) uiContainer:\n\t\t\t[@centerText uiText: message];\n\t\t\t[@center uiContainer:\n\t\t\t\t!each additionalActions -> {\n\t\t\t\t\t$action = second: x.\n\t\t\t\t\t{\n\t\t\t\t\t\t!action.\n\t\t\t\t\t\t!hide.\n\t\t\t\t\t} uiButton first: x\n\t\t\t\t}\n\t\t\t].\n\n\t\tprint: $popup = popupContent uiSmallPopup {\n\t\t\t`If it exists, run a default action`\n\t\t\t`Check the annotations of each action, and if one called ("defaultAction";true) is present, we have the desired value`\n\t\t\t$defaultAction = !firstConditionMatch additionalActions -> {("defaultAction";true) listContains calcitAnnotations: x}.\n\t\t\tdo: second: defaultAction.\n\t\t}.\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["show_timeout_message"],[{string:"showTimeoutMessage",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:5,kind:"num",waiting:false},{name:"default",kind:"name",waiting:false},{name:"String",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"minutesLeft",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t!timeoutPause.\n\t\n\t!showMultiButtonMessage (("$x$";minutesLeft) strReplace strings: $timeoutInXMinutes)\n\t\t[\n\t\t\t@("defaultAction"; true)\n\t\t\t"OK"; timeoutContinue\n\t\t];[\n\t\t\t(strings: $needBreak); timeoutNow\n\t\t]\n\t\t\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["below_toolbar"],[{string:"belowToolbar",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"element",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t@(height: "100% - " + toolbarCmHeight + "cm") element\n',kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_titled_popup_view_as_list","ui_titled_popup_view","ui_titled_popup"],[{string:"uiTitledPopupViewAsList",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"view",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"title",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t(uiTitleToolbar: title);\n\t(@belowToolbar view)\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTitledPopupView",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"view",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"title",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiContainer: !uiTitledPopupViewAsList view title\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiTitledPopup",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"view",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"title",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tuiPopup: !uiTitledPopupView view title\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["view_based_app_manager"],[{string:"viewBasedAppManager",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"config",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$storageName ? (default: "kalzit." + appId + ".selectedView") = $storageName propOf config.\n\t$viewTitles ? ModifiableList = $viewTitles propOf config.\n\t$viewGenerators ? ModifiableList = $viewGenerators propOf config.\n\t$transition ? (default: !fun ($mainView; $onSwitch) {do: onSwitch}) = $transition propOf config.\n\t\n\t$viewDefinitions = $viewDefinitions propOf config.\n\t$fillOthersBasedOnViewDefinitions = !fun () {\n\t\t$modifiableViewDefinitions ? ModifiableList = viewDefinitions.\n\t\t`Fill the other lists`\n\t\t($push propOf viewTitles): first each getArray: modifiableViewDefinitions.\n\t\t($push propOf viewGenerators): second each getArray: modifiableViewDefinitions.\n\t}.\n\t\n\t`If the $viewDefinitions parameter is present, connect that with the other two lists`\n\t!if (not: void eq viewDefinitions) {\n\t\t$modifiableViewDefinitions ? ModifiableList = viewDefinitions.\n\t\t!fillOthersBasedOnViewDefinitions\n\t\t\n\t\t`React to new additions`\n\t\t($setOnAddition propOf modifiableViewDefinitions): {\n\t\t\t($push propOf viewTitles): first each getArray: x.\n\t\t\t($push propOf viewGenerators): second each getArray: x.\n\t\t}.\n\t\t\n\t\t`React to item removals`\n\t\t($setOnRemoval propOf modifiableViewDefinitions): {\n\t\t\tdo: ($clear propOf viewTitles).\n\t\t\tdo: ($clear propOf viewGenerators).\n\t\t\t!fillOthersBasedOnViewDefinitions.\n\t\t\t\n\t\t\t`After updating the other lists, set the current view index to zero`\n\t\t\tcurrentViewIndex = 0.\n\t\t}\n\t}.\n\t\n\t$changeViewTitle ? (default: "Change view...") = $changeViewTitle propOf config.\n\t\n\t\n\t`Implementation`\n\t$currentViewIndex = (0 default Int): storageLoadString: storageName.\n\t$currentViewIndexRef = reference: $currentViewIndex.\n\t\n\t$getViewFromIndex = !fun ($index) {\n\t\t(index at getArray: viewGenerators): index.\n\t}.\n\t\n\t`The selected view will be put in here`\n\t$currentView = getViewFromIndex: currentViewIndex.\n\t$currentViewRef = reference: $currentView.\n\t$mainView = uiShowVariable: currentViewRef.\n\t\n\t`If the selected view index changes, update the current view`\n\t!listenVariable currentViewIndexRef {\n\t\t$index = x.\n\t\t\n\t\t`Prepare the new view as soon as we know we need it - makes the load time seem shorter`\n\t\t$newView = getViewFromIndex: index.\n\t\t\n\t\t`Begin the animated transition`\n\t\tmainView transition {\n\t\t\tcurrentViewRef = newView.\n\t\t\t!scrollToTop.\n\t\t\tstorageName storageSaveString String: index.\n\t\t}\n\t}.\n\t\n\t\n\t`Return value`\n\t[$getTool; () fun {\n\t\t(changeViewTitle;currentViewIndexRef) indexPickerTool\n    \t\tviewTitles.\n\t}];\n\t[$getCurrentViewIndex; () fun {currentViewIndex}];\n\t[$setCurrentViewIndex; ($newViewIndex) fun {currentViewIndexRef = newViewIndex}];\n\t[$updateViewManually; () fun {currentViewRef = getViewFromIndex: currentViewIndex}];\n\t[$currentViewIndexRef; currentViewIndexRef];\n\t[$getCurrentView; () fun {currentView}];\n\t[$mainView; mainView]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.installJs((function(){this.flagWidth=function(width,object){object.style.width="calc("+width+")"};this.flagPxWidth=function(width,object){object.style.width=width+"px"};this.flagPxHeight=function(height,object){object.style.height=height+"px"};this.flagPercentWidth=function(width,object){object.style.width=width+"%"};this.flagHeight=function(height,object){object.style.height="calc("+height+")"};this.flagPercentHeight=function(height,object){object.style.height=height+"%"};this.flagEmWidth=function(width,object){object.style.width=width+"em"};this.flagEmHeight=function(height,object){object.style.height=height+"em"};this.flagMmWidth=function(width,object){object.style.width=width+"mm"};this.flagMmHeight=function(height,object){object.style.height=height+"mm"};this.flagCmWidth=function(width,object){object.style.width=width+"cm"};this.flagCmHeight=function(height,object){object.style.height=height+"cm"};this.flagInchWidth=function(width,object){object.style.width=width+"in"};this.flagInchHeight=function(height,object){object.style.height=height+"in"}}));GLang.packageManager.installJs((function(){(function(global){global.colorToString=function(_color){return"rgba("+_color[0].value+", "+_color[1].value+", "+_color[2].value+", "+_color[3].value/255+")"};function resetBackground(object){object.style.backgroundColor=object.style.backgroundImage=null}global.flagBackgroundColor=function(color,object){resetBackground(object);object.style.backgroundColor=color};global.flagBackgroundImageUrl=function(imageUrl,object){resetBackground(object);object.style.backgroundImage='url("'+imageUrl+'")';object.style.backgroundRepeat="no-repeat";object.style.backgroundPosition="center"};global.flagForegroundColor=function(color,object){object.style.color=color};global.flagBackgroundGradientLeftToRight=function(_colors,object){resetBackground(object);object.style.backgroundImage="linear-gradient(to right, "+_colors[0].value+", "+_colors[1].value+")"};global.flagBackgroundGradientTopToBottom=function(_colors,object){resetBackground(object);object.style.backgroundImage="linear-gradient(to bottom, "+_colors[0].value+", "+_colors[1].value+")"};global.flagOpacity=function(opacity,object){object.style.opacity=opacity};global.flagBorderColor=function(color,object){object.style.borderColor=color;object.style.borderStyle="solid";object.style.borderWidth="2px"}})(this)}));GLang.packageManager.installJs((function(){this.flagOnHover=function(listener,object){object.onmouseover=function(){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}};this.flagOnTap=function(listener,object){object.onclick=function(){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}};this.flagOnPointerDown=function(listener,object){object.addEventListener("mousedown",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:e.pageX},{value:e.pageY}])}));object.addEventListener("touchstart",(function(e){var touches=e.changedTouches;if(touches.length>=1){var touch=touches[0];GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:touch.pageX},{value:touch.pageY}])}}))};this.flagOnPointerUp=function(listener,object){object.addEventListener("mouseup",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:e.pageX},{value:e.pageY}])}));object.addEventListener("touchend",(function(e){var touches=e.changedTouches;if(touches.length>=1){var touch=touches[0];GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:touch.pageX},{value:touch.pageY}])}}))};this.onGlobalPointerUp=function(listener,object){document.body.addEventListener("mouseup",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:e.pageX},{value:e.pageY}])}));document.body.addEventListener("touchend",(function(e){var touches=e.changedTouches;if(touches.length>=1){var touch=touches[0];GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:touch.pageX},{value:touch.pageY}])}}));document.body.addEventListener("mouseenter",(function(e){var pressedButtons=e.buttons!==undefined?e.buttons:e.which;if((pressedButtons&1)!==1){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:e.pageX},{value:e.pageY}])}}))};this.flagOnPointerMove=function(listener,object){object.addEventListener("mousemove",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:e.pageX},{value:e.pageY}])}));object.addEventListener("touchmove",(function(e){var touches=e.changedTouches;if(touches.length>=1){var touch=touches[0];GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:touch.pageX},{value:touch.pageY}])}}))};this.onGlobalPointerMove=function(listener){document.body.addEventListener("mousemove",(function(e){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:e.pageX},{value:e.pageY}])}));document.body.addEventListener("touchmove",(function(e){var touches=e.changedTouches;if(touches.length>=1){var touch=touches[0];GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[{value:touch.pageX},{value:touch.pageY}])}}))}}));GLang.packageManager.installJs((function(){this.flagOnTextSelect=function flagOnTextSelect(listener,object){var lastStart,lastEnd;function triggerListener(startPos,endPos){if(startPos!==lastStart||endPos!==lastEnd){lastStart=startPos;lastEnd=endPos;GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[GLang.stringValue(object.value.substring(startPos,endPos))])}}function markerListener(){if(object.selectionStart!==undefined){var startPos=object.selectionStart;var endPos=object.selectionEnd;if(startPos!==endPos){triggerListener(startPos,endPos)}}setTimeout(markerListener,750)}markerListener()}}));GLang.packageManager.installJs((function(){this.flagPercentRoundness=function(roundness,object){if(roundness<0){object.classList.add("k-rounded")}else{object.style.borderRadius=roundness/2+"%"}};this.flagPxRoundness=function(roundness,object){if(roundness<0){object.classList.add("k-rounded")}else{object.style.borderRadius=roundness+"px"}}}));GLang.packageManager.installJs((function(){this.flagFontFamily=function(familyName,object){if(familyName===-1){object.classList.add("k-standard_font")}else{object.style.fontFamily=familyName}};this.flagEmFontSize=function(size,object){object.style.fontSize=size+"em"}}));GLang.packageManager.installJs((function(){this.flagColumns=function(columnCount,object){if(columnCount<0){object.classList.add("k-columns")}else{object.style.width=100/columnCount+"%"}}}));GLang.packageManager.installJs((function(){this.flagBoxShadow=function(_color,view){view.style.boxShadow="0px 0px 15px "+_color}}));GLang.packageManager.installJs((function(){this.flagCssClass=function(clss,view){view.classList.add(clss)};this.flagCssRemoveClass=function(clss,view){view.classList.remove(clss)}}));GLang.packageManager.installJs((function(){function makeFileAccess(file){function withFileReader(mainCall,callback){var reader=new FileReader;reader.onload=function(){callback(reader.result)};reader[mainCall](file)}return{value:[{value:[GLang.stringValue("name"),GLang.stringValue(file.name)]},{value:[GLang.stringValue("mime"),GLang.stringValue(file.type)]},{value:[GLang.stringValue("size"),GLang.stringValue(file.size)]},{value:[GLang.stringValue("textAsync"),{value:function(env,args){withFileReader("readAsText",(function(result){GLang.callObject(args[0],env,[GLang.stringValue(result)])}));return GLang.voidValue}}]},{value:[GLang.stringValue("urlAsync"),{value:function(env,args){withFileReader("readAsDataURL",(function(result){GLang.callObject(args[0],env,[GLang.stringValue(result)])}));return GLang.voidValue}}]},{value:[GLang.stringValue("binaryAsync"),{value:function(env,args){withFileReader("readAsBinaryString",(function(result){GLang.callObject(args[0],env,[{value:result}])}));return GLang.voidValue}}]},{value:[GLang.stringValue("uploadAsync"),{value:function(env,args){var callback=args[0];var accessName=args.length==2?args[1].value+"":null;var request=new XMLHttpRequest;request.open("POST","/api/special/upload"+(accessName?"?accessName="+encodeURIComponent(accessName):""));request.setRequestHeader("Content-Type",file.type);var session=localStorage.getItem("calcitSession");if(session){request.setRequestHeader("kalzit-session",session)}request.onreadystatechange=function(event){if(this.readyState==4){GLang.callObject(callback,env,[{value:[{value:[{value:"code"},{value:request.status}]},{value:[{value:"text"},GLang.stringValue(request.responseText)]}]}])}};request.send(file);return GLang.voidValue}}]}]}}function makeDropEventAccess(event){var files=[];for(var i=0;i<event.dataTransfer.files.length;i++){files.push(makeFileAccess(event.dataTransfer.files[i]))}return{value:[{value:[GLang.stringValue("files"),{value:files}]},{value:[GLang.stringValue("text"),GLang.stringValue(event.dataTransfer.getData("Text"))]},{value:[GLang.stringValue("url"),GLang.stringValue(event.dataTransfer.getData("Url"))]},{value:[GLang.stringValue("html"),GLang.stringValue(event.dataTransfer.getData("text/html"))]}]}}this.flagOnDrop=function(listener,object){object.ondragover=function(event){event.preventDefault();event.dataTransfer.dropEffect="copy"};object.ondrop=function(event){event.preventDefault();GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[makeDropEventAccess(event)])}};GLang.defaultRuntimeEnvironment.setInnerVariable("uiFilePicker",{value:function(env,args){var picker=document.createElement("input");picker.classList.add("calcitFilePicker");picker.type="file";picker.onchange=function(event){var files=[];for(var i=0;i<event.target.files.length;i++){files.push(makeFileAccess(event.target.files[i]))}GLang.callObject(args[0],env,[{value:files}])};return{value:picker,display:"dom"}}});GLang.defaultRuntimeEnvironment.setInnerVariable("uiMultiFilePicker",{value:function(env,args){var picker=document.createElement("input");picker.classList.add("calcitFilePicker");picker.type="file";picker.multiple=true;picker.onchange=function(event){var files=[];for(var i=0;i<event.target.files.length;i++){files.push(makeFileAccess(event.target.files[i]))}GLang.callObject(args[0],env,[{value:files}])};return{value:picker,display:"dom"}}})}));GLang.packageManager.installJs((function(){this.flagOnEnter=function(listener,object){object.onkeypress=function(event){if(event.keyCode===13){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}}}}));GLang.packageManager.installJs((function(){this.flagOnSelect=function(listener,object){object.onfocus=function(event){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}};this.flagOnDeselect=function(listener,object){object.onblur=function(event){GLang.callObject({value:listener},GLang.defaultRuntimeEnvironment,[])}}}));GLang.packageManager.registerPrecompiledPackage(["width","height","percent_width","percent_height","px_width","px_height","em_width","em_height","mm_width","mm_height","cm_width","cm_height","inch_width","inch_height"],[{string:"width",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:'flagWidth bind "calc(" + x + ")"',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"height",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:'flagHeight bind "calc(" + x + ")"',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"pxWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagPxWidth",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"pxHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagPxHeight",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"percentWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagPercentWidth",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"percentHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagPercentHeight",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"emWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagEmWidth",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"emHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagEmHeight",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"mmWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagMmWidth",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"mmHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagMmHeight",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"cmWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagCmWidth",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"cmHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagCmHeight",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"inchWidth",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagInchWidth",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"inchHeight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagInchHeight",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["background_color","background_image_url","background_gradient_left_to_right","background_gradient_top_to_bottom","foreground_color","opacity","border_color"],[{string:"backgroundColor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ColorString",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_color",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagBackgroundColor bind _color",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"backgroundImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"url",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagBackgroundImageUrl bind url",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"foregroundColor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ColorString",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_color",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagForegroundColor bind _color",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"backgroundGradientTopToBottom",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"ColorString",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_colors",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagBackgroundGradientTopToBottom bind _colors",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"backgroundGradientLeftToRight",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:2,kind:"num",waiting:false},{name:"SizedList",kind:"name",waiting:false},{name:"ColorString",kind:"name",waiting:false}],waiting:false},{name:"calcitSetType",kind:"name"},{string:"_colors",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagBackgroundGradientLeftToRight bind _colors",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"opacity",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Float",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"opac",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagOpacity bind opac",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"borderColor",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ColorString",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_color",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagBorderColor bind _color",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["on_hover","on_tap","on_pointer_up","on_pointer_down","on_pointer_move","on_drag"],[{string:"onHover",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnHover",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onTap",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnTap",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onPointerDown",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnPointerDown",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onPointerUp",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnPointerUp",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onPointerMove",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnPointerMove",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onDrag",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{string:"function",kind:"string",waiting:false},{special:";",kind:"special",waiting:false},{string:"object",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t$dragging = false.\n\t$draggingRef = reference: $dragging.\n\t\n\t`Register relevant listeners for the object to know when to drag it`\n\t@(onPointerDown: () fun {draggingRef = true. !disableHighlighting}) object.\n\t\n\t`Register a global pointer listeners (finger or mouse) to fire the drag event when needed and stop it if appropriate`\n\tonGlobalPointerMove: ($xPos;$yPos) fun {\n\t\t!if dragging {\n\t\t\txPos function yPos\n\t\t}\n\t}.\n\tonGlobalPointerUp: () fun {draggingRef = false. !enableHighlighting}.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["on_text_select"],[{string:"onTextSelect",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnTextSelect",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["px_roundness","percent_roundness"],[{string:"percentRoundness",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagPercentRoundness",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"pxRoundness",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagPxRoundness",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["font_family","em_font_size"],[{string:"fontFamily",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagFontFamily",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"emFontSize",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagEmFontSize",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["columns"],[{string:"columns",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagColumns",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["box_shadow"],[{string:"boxShadow",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ColorString",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"_color",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagBoxShadow bind _color",kind:"string",waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["css_class","css_remove_class"],[{string:"cssClass",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagCssClass",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"cssRemoveClass",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagCssRemoveClass",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["on_drop","ui_file_picker"],[{string:"onDrop",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnDrop",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["on_enter"],[{string:"onEnter",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnEnter",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["on_select","on_deselect"],[{string:"onSelect",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnSelect",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onDeselect",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnDeselect",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["on_collapse","on_expand"],[{string:"onCollapse",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnCollapse",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"onExpand",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagOnExpand",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.installJs((function(){this.flagRotation=function(rotationDegrees,object){object.style.transform="rotate("+rotationDegrees+"deg)"}}));GLang.packageManager.registerPrecompiledPackage(["rotation"],[{string:"rotation",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{name:"curry",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"flagRotation",kind:"name",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.installJs((function(){this.flagAutocorrect=function(trueOrFalse,view){view.setAttribute("spellcheck",trueOrFalse?"true":"false");view.setAttribute("autocorrect",trueOrFalse?"on":"off");view.setAttribute("autocapitalize",trueOrFalse?"on":"off")}}));GLang.packageManager.registerPrecompiledPackage(["autocorrect"],[{string:"autocorrect",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"Boolean",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"autocorrect",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:"flagAutocorrect bind autocorrect",kind:"string",waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["qr_code_url","sensitive_qr_code_url","ui_qr_code","ui_sensitive_qr_code","show_qr_code"],[{string:"qrCodeUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"sensitiveQrCodeUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"content",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t"/api/qrcode/?text=" + urlEncodeParameter: content\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiQrCode",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"uiSensitiveQrCode",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"content",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\t!uiShowImageUrl (qrCodeUrl: content) {}.\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"showQrCode",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"content",kind:"string",waiting:false},{name:"fun",kind:"name",waiting:false},{string:"\n\tprint: $popup = (uiQrCode: content) uiSmallPopup {uiHide: popup}\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["ui_account_button","ui_apps_button","ui_user_button","ui_user_config_button","ui_hamburger_button","ui_cross_button","user_outline_image_url","user_image_url","menu_image_url","apps_image_url","cross_image_url","left_arrow_image_url","ui_sidebar_toggle_button"],[{string:"userOutlineImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMjAwMTA5MDQvL0VOIgogICAgICAgICAgICAgICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyOCAxMjgiPgogIDxwYXRoIGlkPSJBdXN3YWhsIgogICAgICAgIGZpbGw9IndoaXRlIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiCiAgICAgICAgZD0iTSA1Ny4wMCwzLjQ3CiAgICAgICAgICAgQyAyNi4xMCwxMC44MyAzMC4wNCw1Ny4yNSA2Mi4wMCw1Ny45OQogICAgICAgICAgICAgNzAuNzcsNTguMTkgNzcuNTQsNTYuNDkgODMuODIsNDkuOTEKICAgICAgICAgICAgIDk2LjMzLDM2Ljc4IDkyLjUwLDEzLjMzIDc2LjAwLDUuNDAKICAgICAgICAgICAgIDcwLjE5LDIuNjEgNjMuMjYsMi41OSA1Ny4wMCwzLjQ3IFoKICAgICAgICAgICBNIDYxLjAwLDkuMzAKICAgICAgICAgICBDIDY1LjE0LDguOTggNjguMTMsOS4zMSA3Mi4wMCwxMC45NQogICAgICAgICAgICAgOTMuOTMsMjAuMjcgODUuNjEsNTMuODAgNjIuMDAsNTEuODEKICAgICAgICAgICAgIDQ0LjIwLDUwLjMyIDM1Ljg0LDI5LjQ5IDQ3LjUzLDE2LjE4CiAgICAgICAgICAgICA1MS4xOSwxMi4wMSA1NS43MiwxMC4zMyA2MS4wMCw5LjMwIFoKICAgICAgICAgICBNIDAuMDAsMTI4LjAwCiAgICAgICAgICAgQyAwLjAwLDEyOC4wMCA0LjAwLDEyOC4wMCA0LjAwLDEyOC4wMAogICAgICAgICAgICAgNC42OCwxMTkuNzMgNy4yMSwxMTAuMTUgMTEuNDUsMTAzLjAwCiAgICAgICAgICAgICAzMS4yNSw2OS41OSA3MS45Miw2MS42OCAxMDIuMDAsODYuNDYKICAgICAgICAgICAgIDEwNy41MCw5MC45OSAxMTIuNjIsOTcuNzkgMTE2LjEzLDEwNC4wMAogICAgICAgICAgICAgMTE5Ljk5LDExMC44NyAxMjIuMzYsMTIwLjE2IDEyMy4wMCwxMjguMDAKICAgICAgICAgICAgIDEyMy4wMCwxMjguMDAgMTI4LjAwLDEyOC4wMCAxMjguMDAsMTI4LjAwCiAgICAgICAgICAgICAxMjguMDAsMTI4LjAwIDEyOC4wMCwxMTEuMDAgMTI4LjAwLDExMS4wMAogICAgICAgICAgICAgMTI3Ljk1LDEwMC43MSAxMjMuMDEsOTUuMTIgMTE1Ljk5LDg4LjAwCiAgICAgICAgICAgICAxMDIuNzQsNzQuNTggODMuOTcsNjYuMjIgNjUuMDAsNjYuMDAKICAgICAgICAgICAgIDQ1LjI4LDY1Ljc4IDI2LjA5LDczLjExIDEyLjAwLDg3LjAxCiAgICAgICAgICAgICA0LjI3LDk0LjY1IDAuMDIsOTguOTQgMC4wMCwxMTAuMDAKICAgICAgICAgICAgIDAuMDAsMTEwLjAwIDAuMDAsMTI4LjAwIDAuMDAsMTI4LjAwIFoiIC8+Cjwvc3ZnPgo=",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"userImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMjAwMTA5MDQvL0VOIgogICAgICAgICAgICAgICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyOCAxMjgiPgogIDxwYXRoIGlkPSJBdXN3YWhsIgogICAgICAgIGZpbGw9IndoaXRlIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiCiAgICAgICAgZD0iTSA1Ny4wMCwzLjQ3QzI2LjEwLDEwLjgzIDMwLjA0LDU3LjI1IDYyLjAwLDU3Ljk5CiAgICAgICAgICAgICA3MC43Nyw1OC4xOSA3Ny41NCw1Ni40OSA4My44Miw0OS45MQogICAgICAgICAgICAgOTYuMzMsMzYuNzggOTIuNTAsMTMuMzMgNzYuMDAsNS40MAogICAgICAgICAgICAgNzAuMTksMi42MSA2My4yNiwyLjU5IDU3LjAwLDMuNDcgWgogICAgICAgICAgIE0gMC4wMCwxMjguMDAKICAgICAgICAgICBDIDAuMDAsMTI4LjAwIDEyOC4wMCwxMjguMDAgMTI4LjAwLDEyOC4wMAogICAgICAgICAgICAgMTI4LjAwLDEyOC4wMCAxMjguMDAsMTExLjAwIDEyOC4wMCwxMTEuMDAKICAgICAgICAgICAgIDEyNy45NSwxMDAuNzEgMTIzLjAxLDk1LjEyIDExNS45OSw4OC4wMAogICAgICAgICAgICAgMTAyLjc0LDc0LjU4IDgzLjk3LDY2LjIyIDY1LjAwLDY2LjAwCiAgICAgICAgICAgICA0NS4yOCw2NS43OCAyNi4wOSw3My4xMSAxMi4wMCw4Ny4wMQogICAgICAgICAgICAgNC4yNyw5NC42NSAwLjAyLDk4Ljk0IDAuMDAsMTEwLjAwCiAgICAgICAgICAgICAwLjAwLDExMC4wMCAwLjAwLDEyOC4wMCAwLjAwLDEyOC4wMCBaIiAvPgo8L3N2Zz4K",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"menuImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMjAwMTA5MDQvL0VOIgogICAgICAgICAgICAgICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyOCAxMjgiPgogIDxwYXRoIGlkPSJBdXN3YWhsIgogICAgICAgIGZpbGw9IndoaXRlIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiCiAgICAgICAgZD0iTSA4LjAwLDE2LjAwCiAgICAgICAgICAgQyA4LjAwLDE2LjAwIDguMDAsNDQuMDAgOC4wMCw0NC4wMAogICAgICAgICAgICAgOC4wMCw0NC4wMCAzOS4wMCw0NC4wMCAzOS4wMCw0NC4wMAogICAgICAgICAgICAgMzkuMDAsNDQuMDAgMzkuMDAsMTYuMDAgMzkuMDAsMTYuMDAKICAgICAgICAgICAgIDM5LjAwLDE2LjAwIDguMDAsMTYuMDAgOC4wMCwxNi4wMCBaCiAgICAgICAgICAgTSA0NS4wMCwxOS4wMAogICAgICAgICAgIEMgNDUuMDAsMTkuMDAgNDUuMDAsNDEuMDAgNDUuMDAsNDEuMDAKICAgICAgICAgICAgIDQ1LjAwLDQxLjAwIDEyMC4wMCw0MS4wMCAxMjAuMDAsNDEuMDAKICAgICAgICAgICAgIDEyMC4wMCw0MS4wMCAxMjAuMDAsMTkuMDAgMTIwLjAwLDE5LjAwCiAgICAgICAgICAgICAxMjAuMDAsMTkuMDAgNDUuMDAsMTkuMDAgNDUuMDAsMTkuMDAgWgogICAgICAgICAgIE0gOC4wMCw1MC4wMAogICAgICAgICAgIEMgOC4wMCw1MC4wMCA4LjAwLDc4LjAwIDguMDAsNzguMDAKICAgICAgICAgICAgIDguMDAsNzguMDAgMzkuMDAsNzguMDAgMzkuMDAsNzguMDAKICAgICAgICAgICAgIDM5LjAwLDc4LjAwIDM5LjAwLDUwLjAwIDM5LjAwLDUwLjAwCiAgICAgICAgICAgICAzOS4wMCw1MC4wMCA4LjAwLDUwLjAwIDguMDAsNTAuMDAgWgogICAgICAgICAgIE0gNDUuMDAsNTMuMDAKICAgICAgICAgICBDIDQ1LjAwLDUzLjAwIDQ1LjAwLDc1LjAwIDQ1LjAwLDc1LjAwCiAgICAgICAgICAgICA0NS4wMCw3NS4wMCAxMjAuMDAsNzUuMDAgMTIwLjAwLDc1LjAwCiAgICAgICAgICAgICAxMjAuMDAsNzUuMDAgMTIwLjAwLDUzLjAwIDEyMC4wMCw1My4wMAogICAgICAgICAgICAgMTIwLjAwLDUzLjAwIDQ1LjAwLDUzLjAwIDQ1LjAwLDUzLjAwIFoKICAgICAgICAgICBNIDguMDAsODMuMDAKICAgICAgICAgICBDIDguMDAsODMuMDAgOC4wMCwxMTEuMDAgOC4wMCwxMTEuMDAKICAgICAgICAgICAgIDguMDAsMTExLjAwIDM5LjAwLDExMS4wMCAzOS4wMCwxMTEuMDAKICAgICAgICAgICAgIDM5LjAwLDExMS4wMCAzOS4wMCw4My4wMCAzOS4wMCw4My4wMAogICAgICAgICAgICAgMzkuMDAsODMuMDAgOC4wMCw4My4wMCA4LjAwLDgzLjAwIFoKICAgICAgICAgICBNIDQ1LjAwLDg2LjAwCiAgICAgICAgICAgQyA0NS4wMCw4Ni4wMCA0NS4wMCwxMDguMDAgNDUuMDAsMTA4LjAwCiAgICAgICAgICAgICA0NS4wMCwxMDguMDAgMTIwLjAwLDEwOC4wMCAxMjAuMDAsMTA4LjAwCiAgICAgICAgICAgICAxMjAuMDAsMTA4LjAwIDEyMC4wMCw4Ni4wMCAxMjAuMDAsODYuMDAKICAgICAgICAgICAgIDEyMC4wMCw4Ni4wMCA0NS4wMCw4Ni4wMCA0NS4wMCw4Ni4wMCBaIiAvPgo8L3N2Zz4K",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"appsImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMjAwMTA5MDQvL0VOIgogICAgICAgICAgICAgICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgdmlld0JveD0iMCAwIDEyOCAxMjgiPgogIDxwYXRoIGlkPSJBdXN3YWhsIgogICAgICAgIGZpbGw9IndoaXRlIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiCiAgICAgICAgZD0iTSA4LjAwLDEwLjAwCiAgICAgICAgICAgQyA4LjAwLDEwLjAwIDguMDAsNDMuMDAgOC4wMCw0My4wMAogICAgICAgICAgICAgOC4wMCw0My4wMCA0Mi4wMCw0My4wMCA0Mi4wMCw0My4wMAogICAgICAgICAgICAgNDIuMDAsNDMuMDAgNDIuMDAsMTAuMDAgNDIuMDAsMTAuMDAKICAgICAgICAgICAgIDQyLjAwLDEwLjAwIDguMDAsMTAuMDAgOC4wMCwxMC4wMCBaCiAgICAgICAgICAgTSA0Ny4wMCwxMC4wMAogICAgICAgICAgIEMgNDcuMDAsMTAuMDAgNDcuMDAsNDMuMDAgNDcuMDAsNDMuMDAKICAgICAgICAgICAgIDQ3LjAwLDQzLjAwIDgxLjAwLDQzLjAwIDgxLjAwLDQzLjAwCiAgICAgICAgICAgICA4MS4wMCw0My4wMCA4MS4wMCwxMC4wMCA4MS4wMCwxMC4wMAogICAgICAgICAgICAgODEuMDAsMTAuMDAgNDcuMDAsMTAuMDAgNDcuMDAsMTAuMDAgWgogICAgICAgICAgIE0gODcuMDAsMTAuMDAKICAgICAgICAgICBDIDg3LjAwLDEwLjAwIDg3LjAwLDQzLjAwIDg3LjAwLDQzLjAwCiAgICAgICAgICAgICA4Ny4wMCw0My4wMCAxMjEuMDAsNDMuMDAgMTIxLjAwLDQzLjAwCiAgICAgICAgICAgICAxMjEuMDAsNDMuMDAgMTIxLjAwLDEwLjAwIDEyMS4wMCwxMC4wMAogICAgICAgICAgICAgMTIxLjAwLDEwLjAwIDg3LjAwLDEwLjAwIDg3LjAwLDEwLjAwIFoKICAgICAgICAgICBNIDguMDAsNDguMDAKICAgICAgICAgICBDIDguMDAsNDguMDAgOC4wMCw4MS4wMCA4LjAwLDgxLjAwCiAgICAgICAgICAgICA4LjAwLDgxLjAwIDQyLjAwLDgxLjAwIDQyLjAwLDgxLjAwCiAgICAgICAgICAgICA0Mi4wMCw4MS4wMCA0Mi4wMCw0OC4wMCA0Mi4wMCw0OC4wMAogICAgICAgICAgICAgNDIuMDAsNDguMDAgOC4wMCw0OC4wMCA4LjAwLDQ4LjAwIFoKICAgICAgICAgICBNIDQ3LjAwLDQ4LjAwCiAgICAgICAgICAgQyA0Ny4wMCw0OC4wMCA0Ny4wMCw4MS4wMCA0Ny4wMCw4MS4wMAogICAgICAgICAgICAgNDcuMDAsODEuMDAgODEuMDAsODEuMDAgODEuMDAsODEuMDAKICAgICAgICAgICAgIDgxLjAwLDgxLjAwIDgxLjAwLDQ4LjAwIDgxLjAwLDQ4LjAwCiAgICAgICAgICAgICA4MS4wMCw0OC4wMCA0Ny4wMCw0OC4wMCA0Ny4wMCw0OC4wMCBaCiAgICAgICAgICAgTSA4Ny4wMCw0OC4wMAogICAgICAgICAgIEMgODcuMDAsNDguMDAgODcuMDAsODEuMDAgODcuMDAsODEuMDAKICAgICAgICAgICAgIDg3LjAwLDgxLjAwIDEyMS4wMCw4MS4wMCAxMjEuMDAsODEuMDAKICAgICAgICAgICAgIDEyMS4wMCw4MS4wMCAxMjEuMDAsNDguMDAgMTIxLjAwLDQ4LjAwCiAgICAgICAgICAgICAxMjEuMDAsNDguMDAgODcuMDAsNDguMDAgODcuMDAsNDguMDAgWgogICAgICAgICAgIE0gOC4wMCw4Ni4wMAogICAgICAgICAgIEMgOC4wMCw4Ni4wMCA4LjAwLDExOS4wMCA4LjAwLDExOS4wMAogICAgICAgICAgICAgOC4wMCwxMTkuMDAgNDIuMDAsMTE5LjAwIDQyLjAwLDExOS4wMAogICAgICAgICAgICAgNDIuMDAsMTE5LjAwIDQyLjAwLDg2LjAwIDQyLjAwLDg2LjAwCiAgICAgICAgICAgICA0Mi4wMCw4Ni4wMCA4LjAwLDg2LjAwIDguMDAsODYuMDAgWgogICAgICAgICAgIE0gNDcuMDAsODYuMDAKICAgICAgICAgICBDIDQ3LjAwLDg2LjAwIDQ3LjAwLDExOS4wMCA0Ny4wMCwxMTkuMDAKICAgICAgICAgICAgIDQ3LjAwLDExOS4wMCA4MS4wMCwxMTkuMDAgODEuMDAsMTE5LjAwCiAgICAgICAgICAgICA4MS4wMCwxMTkuMDAgODEuMDAsODYuMDAgODEuMDAsODYuMDAKICAgICAgICAgICAgIDgxLjAwLDg2LjAwIDQ3LjAwLDg2LjAwIDQ3LjAwLDg2LjAwIFoKICAgICAgICAgICBNIDg3LjAwLDg2LjAwCiAgICAgICAgICAgQyA4Ny4wMCw4Ni4wMCA4Ny4wMCwxMTkuMDAgODcuMDAsMTE5LjAwCiAgICAgICAgICAgICA4Ny4wMCwxMTkuMDAgMTIxLjAwLDExOS4wMCAxMjEuMDAsMTE5LjAwCiAgICAgICAgICAgICAxMjEuMDAsMTE5LjAwIDEyMS4wMCw4Ni4wMCAxMjEuMDAsODYuMDAKICAgICAgICAgICAgIDEyMS4wMCw4Ni4wMCA4Ny4wMCw4Ni4wMCA4Ny4wMCw4Ni4wMCBaIiAvPgo8L3N2Zz4K",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"crossImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAIAAAACACAYAAADDPmHLAAABhWlDQ1BJQ0MgcHJvZmlsZQAAKJF9kT1Iw0AcxV9TS4tURCwo6pChOlkQFXHUKhShQqgVWnUwufRDaNKQtLg4Cq4FBz8Wqw4uzro6uAqC4AeIk6OToouU+L+k0CLGg+N+vLv3uHsHCPUS06yOMUDTK2YqERcz2RUx+IoABtGDPoRkZhmzkpSE5/i6h4+vdzGe5X3uz9Gl5iwG+ETiGWaYFeJ14qnNisF5nzjCirJKfE48atIFiR+5rrj8xrngsMAzI2Y6NUccIRYLbay0MSuaGvEkcVTVdMoXMi6rnLc4a6Uqa96TvzCc05eXuE5zCAksYBESRCioYgMlVBCjVSfFQor24x7+AccvkUsh1wYYOeZRhgbZ8YP/we9urfzEuJsUjgOBF9v+GAaCu0CjZtvfx7bdOAH8z8CV3vKX68D0J+m1lhY9Arq3gYvrlqbsAZc7QP+TIZuyI/lpCvk88H5G35QFem+BzlW3t+Y+Th+ANHWVvAEODoGRAmWvebw71N7bv2ea/f0AMmtyjeJUYSMAAAAGYktHRABCABwA0EifOJYAAAMgSURBVHja7Z3bcuMgEAV9+P9/dp6ytZVaJ2tFwAzdPCcSM90GCXF5PCwWi8VisRBL3vnj5/P5/POPSUxfrXKFT9656MuLKEMJ6Ff45LcXV4La8H/ikzsurgh1wf/EJnfeQAnqwn/FJnffQAnqwv8Xm1G9spa5+RwdKy38SeMAs25kd1AP/ieT0d1g4RfuApSgfr6y+sZ2B/vhL3kLsCXokZ9BCFL4b3QBS/sfu4PtOU+1Cgl/ba5TtWLCX5PjVK+g8OfmNl0qKvw5OU23Cgv/3lyma8WFf08O0z0A4f8udzklEOFfy1lOC0j4b/7PqYEJf4EAStA/N6EEKvyJAihB31yEGrjwJwhAl6Bj7DER7JhjQtixxsSwY4wJYscWE8WOyYTBY1nabJ6QuNNaM/tNeFe25em5YyJPfZj19Qn+JrN1EKV6Ylcu1do1luEoGhh+CQEqSkCBX0aAShKQ4JcSoIIENPjlBNgpARF+SQF2SECFX1aA1VCo8EsLcJIElecwOsMWDL+FAJ0l6DCF3YUWYPitBOgkQacVTK63A8NvKUBlCTouYHXZNRh+awEqSdB5/wJ33wDDP0KAnSKcsH3NUTtxkT/qXC3jYcHCtwtQgjME2PUg6DOAbwG+BTgO4DgAGn53EfwWAJfAr4FwCZwPAJfAGUFwCZwTCJfAWcFwCVwXAJdg0OGvAlN2GpvwzxSurQA7QRAlwO0PUGWDCPcHKAifKIGbRMElcJs4uARuFAmXwK1i4RK4WTRcAreLh0vggRFwCTwyBh6Px6vA47K5hMfn2TrwOH1ahsfrwUrwuB0sgcfvqVpwCRwrh0vgkWpwCfxUCpcgwmdL4EwZuAQRPlsCJ0rCJYjw2RI4Tx4uQYTPlsBlUnAJIny2BBE+WwKXSMMl2LJDiPD35eSraEP4bAmyshkSfr3uYPjL57YEy7oA4V/L2ZaVQXc3P8Kv3SVME0DwPSSY0gUIv09Obx8JFH6fluDlW8Dl+WXCb9cSjLtuJPyeEtwyH0D4/bqDT2aX5wQKva8Ef7MTIkyCrz9cBQBJ8F/zASxnyWBXbfm2fABUaDC8pFlWEgAAAABJRU5ErkJggg==",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"leftArrowImageUrl",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:"data:image/svg+xml;base64,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0iVVRGLTgiIHN0YW5kYWxvbmU9Im5vIj8+CjwhRE9DVFlQRSBzdmcgUFVCTElDICItLy9XM0MvL0RURCBTVkcgMjAwMTA5MDQvL0VOIgogICAgICAgICAgICAgICJodHRwOi8vd3d3LnczLm9yZy9UUi8yMDAxL1JFQy1TVkctMjAwMTA5MDQvRFREL3N2ZzEwLmR0ZCI+Cgo8c3ZnIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIKICAgICB2aWV3Qm94PSIzMiAwIDY0ICAxMjgiPgogIDxwYXRoIGlkPSJBcnJvd0xlZnQiCiAgICAgICAgZmlsbD0id2hpdGUgIiBzdHJva2U9ImJsYWNrIiBzdHJva2Utd2lkdGg9IjEiCiAgICAgICAgZD0iTSA2NC4wMCwyNS4wMAogICAgICAgICAgIEMgNjQuMDAsMjUuMDAgMzguMDAsNjQuMDAgMzguMDAsNjQuMDAKICAgICAgICAgICAgIDM4LjAwLDY0LjAwIDY0LjAwLDEwMi4wMCA2NC4wMCwxMDIuMDAKICAgICAgICAgICAgIDY0LjAwLDEwMi4wMCA4OS4wMCwxMDIuMDAgODkuMDAsMTAyLjAwCiAgICAgICAgICAgICA4OS4wMCwxMDIuMDAgNjQuMDAsNjQuMDAgNjQuMDAsNjQuMDAKICAgICAgICAgICAgIDY0LjAwLDY0LjAwIDg5LjAwLDI1LjAwIDg5LjAwLDI1LjAwCiAgICAgICAgICAgICA4OS4wMCwyNS4wMCA2NC4wMCwyNS4wMCA2NC4wMCwyNS4wMCBaIiAvPgo8L3N2Zz4K",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiCrossButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"\n\t!if isIosApp {@fit closeSubApp uiImageButton crossImageUrl}\n",kind:"string",waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiSidebarToggleButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{name:"UiElement",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"\n\t@fit toggleSidebarExpansion uiImageButton leftArrowImageUrl\n",kind:"string",waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"apps",kind:"string",waiting:false},{name:"registerSubApp",kind:"name",waiting:false},{name:"popupSubApp",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"verticalScroller",kind:"name",waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"uiContainer",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"uiVerticalPercentSpace",kind:"name",waiting:false},{num:10,kind:"num",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"percentHeight",kind:"name",waiting:false},{num:80,kind:"num",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"uiHomeScreen",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"launchAppName: x",kind:"string",waiting:false}],waiting:false},{special:";",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"uiVerticalPercentSpace",kind:"name",waiting:false},{num:10,kind:"num",waiting:false}],waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"login",kind:"string",waiting:false},{name:"registerSubApp",kind:"name",waiting:false},{name:"popupSubApp",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"verticalScroller",kind:"name",waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"uiContainer",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"percentWidth",kind:"name",waiting:false},{num:90,kind:"num",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"center",kind:"name",waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"uiLoginForm",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"\n\t\t\t!if x {\n\t\t\t\t!relaunchApp\n\t\t\t}\n\t\t",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"uiTitledPopupViewAsList",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"strings",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"loginDialogTitle",kind:"string",waiting:false}],waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"manageDomains",kind:"string",waiting:false},{name:"registerSubApp",kind:"name",waiting:false},{name:"popupSubApp",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"verticalScroller",kind:"name",waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"uiContainer",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"width",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"100% - 14px",kind:"string",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"center",kind:"name",waiting:false},{name:"calcitSetAnnotation",kind:"name"},{kind:"parentheses",parentheses:[{string:'\n\t\t\tuiListItem:\n\t\t\t\t["mainView"; uiContainer: x];\n\t\t\t\t["value"; x];\n\t\t\t\t["additionalActions"; [\n\t\t\t\t\t["Don\'t allow anymore"; {($removeEquals propOf allowedDomains): x}]\n\t\t\t\t]]\n\t\t',kind:"string",waiting:false}],waiting:false},{name:"uiListView",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{name:"allowedDomains",kind:"name",waiting:false}],waiting:false}],waiting:false}],waiting:false},{name:"uiTitledPopupViewAsList",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"strings",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"manageInternetAccess",kind:"string",waiting:false}],waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"register",kind:"string",waiting:false},{name:"registerSubApp",kind:"name",waiting:false},{name:"popupSubApp",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"percentWidth",kind:"name",waiting:false},{num:90,kind:"num",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{kind:"parentheses",parentheses:[{name:"percentHeight",kind:"name",waiting:false},{num:90,kind:"num",waiting:false}],waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"center",kind:"name",waiting:false},{name:"calcitSetAnnotation",kind:"name"},{name:"uiRegisterForm",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"\n\t\t!if x {\n\t\t\t!relaunchApp\n\t\t}\n\t",kind:"string",waiting:false}],waiting:false}],waiting:false},{name:"uiTitledPopupViewAsList",kind:"name",waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{name:"strings",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"registrationDialogTitle",kind:"string",waiting:false}],waiting:false}],waiting:false},{kind:"dot",dot:1,waiting:false},{string:"account",kind:"string",waiting:false},{name:"registerSubApp",kind:"name",waiting:false},{name:"popupSubApp",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"do",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:'\n\t$highContrast ? String = 0.\n\t$highContrastRef = reference: $highContrast.\n\t$darkMode ? String = 0.\n\t$darkModeRef = reference: $darkMode.\n\t\n\tdarkModeRef listenVariable {\n\t\t"kalzit.darkModeSetting" storageSaveString x.\n\t\t\n\t\tdo: x switchFirst\n\t\t\t[{"1" eq x}; styleDarkModeOn];\n\t\t\t[{"0" eq x}; styleDarkModeOff];\n\t\t\t[{"-1" eq x}; styleDarkModeAuto]\n\t}.\n\t\n\thighContrastRef listenVariable {\n\t\t"kalzit.highContrastSetting" storageSaveString x.\n\t\t\n\t\tdo: x switchFirst\n\t\t\t[{"1" eq x}; styleHighContrastOn];\n\t\t\t[{"0" eq x}; styleHighContrastOff];\n\t\t\t[{"-1" eq x}; styleHighContrastAuto]\n\t}.\n\n\t$popupContent =\n\t\t(uiTitleToolbar: (strings: $accountDialogTitlePrefix) + (default: "Unknown"): storageLoadString: "calcitUserName");\n\t\t@center @(width "100% - 14px") uiContainer:\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t($timeoutCheckbox = @(percentWidth 100) {\n\t\t\t\t"kalzit.timeoutWanted" storageSaveString String: x.\n\t\t\t\t!if x timeoutContinue. !else timeoutPause.\n\t\t\t} uiCheckbox strings: $automaticTimeoutCheckbox);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(@center timeoutNow uiButton strings: "needBreak");\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(!uiVerticalSeparator);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(@center {openSubApp: "manageDomains"} uiButton strings: $manageInternetAccess);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(!uiVerticalSeparator);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(@center !uiPicker highContrastRef ["High contrast";1];["Standard (low) contrast";0];["System default contrast";\\1]);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(@center !uiPicker darkModeRef ["Dark mode";1];["Light mode";0];["System appearance";\\1]);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(!uiVerticalSeparator);\n\t\t\t(uiVerticalPxSpace: 14);\n\t\t\t(@center {\n\t\t\t\t$session = storageLoadString: "calcitSession".\n\t\t\t\t{\n\t\t\t\t\t!storageClear.\n\t\t\t\t\t!relaunchApp\n\t\t\t\t} loadLocalAsync "/api/logoutUser?session=" + session.\n\t\t\t} uiButton strings: $logoutButton).\n\t\t\t\n\thighContrastRef = (\\1 default Int): storageLoadString: "kalzit.highContrastSetting".\n\tdarkModeRef = (\\1 default Int): storageLoadString: "kalzit.darkModeSetting".\n\t\n\t!if ("1" eq storageLoadString: "kalzit.timeoutWanted") {\n\t\tuiCheck: timeoutCheckbox\n\t}.\n\t\n\t`return` popupContent.\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{kind:"parentheses",parentheses:[{string:"1",kind:"string",waiting:false},{name:"eq",kind:"name",waiting:false},{name:"storageLoadString",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"kalzit.timeoutWanted",kind:"string",waiting:false}],waiting:false},{name:"ifNot",kind:"name",waiting:false},{string:"\n\t!timeoutPause\n",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiAccountButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'@fit "#login" uiImageLink userOutlineImageUrl',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiUserConfigButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'@fit "#account" uiImageLink userImageUrl',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiUserButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t!ifElse (void eq storageLoadString: "calcitSession")\n\t\tuiAccountButton;\n\t\tuiUserConfigButton\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiAppsButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{string:'@fit "#apps" uiImageLink appsImageUrl',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{string:"uiHamburgerButton",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'@fit "#tools" uiImageLink menuImageUrl',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;GLang.packageManager.registerPrecompiledPackage(["ui_desktop_toolbar_overlay"],[{string:"uiDesktopToolbarOverlay",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"toolList",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$properToolsAreaWidth = "100% - " + (toolbarCmHeight +  0,9) + "cm".\n\n\t`Generate the toolbar overlay and make it only visible on the desktop`\n\t@(cssClass: "k-desktop_only") uiToolbarOverlay: \n\t\n\t\t`Add the app-specific tools (added using registerDesktopTool)`\n\t\t[@verticalCenter @dynamicSize @left @(width: properToolsAreaWidth) uiContainer:\n\t\t\t{@verticalCenter @dynamicSize do:x} each DesktopTool each getArray: toolList\n\t\t];\n\t\t[\n\t\t\t`Add the default navigation buttons (uiUserButton and uiAppsButton, at the right`\n\t\t\t@verticalCenter @right @(percentHeight 50) @(cmWidth toolbarCmHeight +  0,6) uiContainer:\n\t\t\t\t[@(cmWidth toolbarCmHeight % 2) !uiAppsButton];\n\t\t\t\t[@(cmWidth 0,3) uiContainer:void];\n\t\t\t\t[@(cmWidth toolbarCmHeight % 2) !uiUserButton];\n\t\t\t\t[@(cmWidth 0,3) uiContainer:void]\n\t\t]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);GLang.packageManager.registerPrecompiledPackage(["ui_mobile_toolbar_overlay"],[{string:"uiMobileToolbarOverlay",kind:"string",waiting:false},{special:"=",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"ModifiableList",kind:"name",waiting:false},{name:"calcitSetType",kind:"name"},{string:"toolList",kind:"string",waiting:false}],waiting:false},{name:"fun",kind:"name",waiting:false},{string:'\n\t$tools = getArray: toolList.\n\t$uiOnLeft = !ifElse ((1 eq length: tools) & "string" eq displayType: second: first: tools) {\n\t\t`We have exactly one tool, and it has a string representation - just show it as a button`\n\t\t$tool = first: tools.\n\t\t@verticalCenter (first: tool) uiButton second: tool.\n\t};{\n\t\t`Show the standard hamburger menu for multiple tools`\n\t\tapplyMobileTools: tools.\n\t\t@(cmWidth toolbarCmHeight * 0,75) !uiHamburgerButton\n\t}.\n\n\t@(cssClass: "k-mobile_only") uiToolbarOverlay:\n\t\t[\n\t\t\t@dynamicSize @(percentHeight 75) @(width: (toolbarCmHeight * 0,75) + "cm + 7px") @verticalCenter @left uiContainer:\n\t\t\t\t[uiHorizontalPxSpace: 7];\n\t\t\t\t[uiOnLeft]\n\t\t];\n\t\t[\n\t\t\t`Add the default navigation buttons (uiUserButton and uiAppsButton) at the right`\n\t\t\t@verticalCenter @right @(percentHeight 75) @(cmWidth: (toolbarCmHeight * 1,5) + 0,7) uiContainer:\n\t\t\t\t[@(cmWidth toolbarCmHeight * 0,75) !uiAppsButton];\n\t\t\t\t[@(cmWidth 0,4) uiContainer:void];\n\t\t\t\t[@(cmWidth toolbarCmHeight * 0,75) !uiUserButton];\n\t\t\t\t[uiHorizontalPxSpace: 7]\n\t\t]\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false}]);
;
;</script>
<style id="k-style_default">
:root{--kv-background_color:white;--kv-toolbar_height:1.4cm;--kv-below_toolbar_height:calc(100% - 1.4cm);--kv-black_accent_color:rgba(20,20,20,1);--kv-white_accent_color:rgba(240,240,240,1);--kv-twilight_accent_color:rgba(110,110,110,1);--kv-darker_twilight_accent_color:rgba(80,80,80,1);--kv-lighter_twilight_accent_color:rgba(140,140,140,1);--kv-light_accent_color:rgba(210,210,210,1);--kv-dark_accent_color:rgba(50,50,50,1);--kv-text_color_rgb:255,255,255;--standard-button-gradient:linear-gradient(rgba(200,200,200,0.3),rgba(0,0,0,0.6));--button-gradient:var(--standard-button-gradient);--button-on-dark-hover-gradient:linear-gradient(rgba(200,200,200,0.6),rgba(0,0,0,0.8));--button-hover-gradient:var(--button-on-dark-hover-gradient);--kv-border_color_alpha:1;--kv-text_color_alpha:1;--button-shadow-color:black;--white-select-arrow:url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23FFFFFF%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');--select-arrow:var(--white-select-arrow);--white-quickmenu-icon:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAKklEQVRIx2NgGAWMuKX+/4crwqOKiVIXDAMDRsFoShxNiaMpcTQlDisAADyjBhyr7pYOAAAAAElFTkSuQmCC");--quickmenu-icon:var(--white-quickmenu-icon);--small-button-border-radius:3px;--big-button-border-radius:4px;--default-roundness:10px;--parent-border-radius:0;--kv-loading_indicator_visibility:hidden}.calcitStandardBackground{--kv-text_color_rgb:255,255,255;--button-gradient:var(--standard-button-gradient);--button-hover-gradient:var(--button-on-dark-hover-gradient);--kv-border_color_alpha:1;--kv-text_color_alpha:1;--button-shadow-color:black;--select-arrow:var(--white-select-arrow);--quickmenu-icon:var(--white-quickmenu-icon)}html,textarea{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif;line-height:1.5}body{margin:7px}canvas{margin:auto}.k-checkbox_container{display:inline-block;position:relative;padding-left:calc(1.7rem + 7px);margin-bottom:12px;cursor:pointer;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}.k-checkbox_empty{padding-left:0;height:.7rem}.k-checkbox_container input{position:absolute;opacity:0;cursor:pointer;height:0;width:0}.k-checkbox_mark{position:absolute;top:0;left:0;width:1.7rem;background-image:var(--button-gradient)}.k-checkbox_container input:checked ~ .k-checkbox_mark{background-color:var(--kv-lighter_twilight_accent_color)}.k-checkbox_mark:after{content:"";position:absolute;display:none}.k-checkbox_container input:checked ~ .k-checkbox_mark:after{display:block}.k-checkbox_container .k-checkbox_mark:after{left:.5rem;top:.1rem;width:.5rem;height:1rem;border:solid white;border-width:0 .2rem .2rem 0;-webkit-transform:rotate(45deg);-ms-transform:rotate(45deg);transform:rotate(45deg)}code{font-family:Courier;display:inline-flex;overflow-x:scroll;overflow-y:hidden}div{display:inline-block;width:100%}iframe{border:0}a{color:rgba(var(--kv-text_color_rgb),var(--kv-text_color_alpha))}.k-loading_indicator{visibility:var(--kv-loading_indicator_visibility);width:100%;height:5px;animation:k-keyframes_loading_indicator 2s infinite;background-image:linear-gradient(to right,rgba(0,0,0,0.5),rgba(255,255,255,0.5));bottom:0;left:0;position:absolute;border-radius:2.5px}.k-loading_indicator_visible{--kv-loading_indicator_visibility:visible}@keyframes k-keyframes_loading_indicator{from{transform:translate(-100%)}to{transform:translate(100%)}}.k-popup{transform:translate(-50%,-50%);--parent-border-radius:var(--big-button-border-radius);border-radius:var(--parent-border-radius);box-shadow:0 0 15px black;overflow:hidden}.k-popup_animated_in .k-popup{animation:k-keyframes_popup_in .3s}.k-popup_animated_in .k-popup_background{animation:k-keyframes_fade_in .3s}.k-popup_animated_out .k-popup{animation:k-keyframes_popup_in .3s reverse both}.k-popup_animated_out .k-popup_background{animation:k-keyframes_fade_in .3s reverse both}@media(prefers-reduced-motion){.k-popup_animated_in .k-popup,.k-popup_animated_out .k-popup{animation-name:k-keyframes_fade_in;animation-duration:.2s}.k-popup_animated_in .k-popup_background,.k-popup_animated_out .k-popup_background{animation-duration:.2s}}@keyframes k-keyframes_popup_in{from{transform:translate(-50%,-50%) scale(0.75);opacity:0}to{transform:translate(-50%,-50%) scale(1);opacity:100%}}@keyframes k-keyframes_fade_in{from{opacity:0}to{opacity:100%}}input[type=range]{-webkit-appearance:none;appearance:none;width:100%;height:25px;background:#d3d3d3;outline:0;opacity:.7;-webkit-transition:.2s;transition:opacity .2s;border-radius:4px}input[type=range]:hover{opacity:1}input[type=range]::-webkit-slider-thumb{-webkit-appearance:none;appearance:none;width:25px;height:25px;background:orange;cursor:pointer;border-radius:4px}input[type=range]::-moz-range-thumb{width:25px;height:25px;background:orange;cursor:pointer;border-radius:4px}.calcitButton,.calcitPicker,.k-checkbox_mark,.calcitPickerIcon{background-color:transparent;color:rgba(var(--kv-text_color_rgb),var(--kv-text_color_alpha));height:1.7rem;border:1px solid rgba(var(--kv-text_color_rgb),var(--kv-text_color_alpha));border-radius:var(--small-button-border-radius);font-size:.9em;box-shadow:1px 1px 1px var(--button-shadow-color);padding:0}.calcitButton:hover,.calcitPicker:hover,.calcitPickerIcon:hover,.k-checkbox_container:hover,.calcitButton:focus,.calcitPicker:focus,.calcitPickerIcon:focus,.k-checkbox_container:focus{--button-gradient:var(--button-hover-gradient);cursor:pointer}.calcitButton:active,.calcitPicker:active,.k-checkbox_container:active{--button-gradient:linear-gradient(rgba(255,255,255,0.1),rgba(255,255,255,0.2))}.calcitButton{padding:.1cm;padding-top:0;padding-bottom:0;text-align:center;background-image:var(--button-gradient)}.calcitPicker,.calcitPickerIcon{-moz-appearance:none;-webkit-appearance:none;appearance:none}.calcitPicker{box-sizing:border-box;padding-right:30px;padding-left:5px;margin:0;background-image:var(--select-arrow),var(--button-gradient);background-repeat:no-repeat,repeat;background-position:right .7em top 50%,0 0;background-size:.65em auto,100%}.calcitPickerIcon{background-image:var(--quickmenu-icon),var(--button-gradient);background-repeat:no-repeat;background-position:center;width:20px;background-size:contain;color:transparent}@-moz-document url-prefix(){.calcitPickerIcon{color:rgba(var(--kv-text_color_rgb),var(--kv-text_color_alpha))}}textarea{font-size:1rem;resize:none;border-radius:var(--big-button-border-radius)}input[type=text],input[type=password]{border-width:2px;border-style:solid;border-radius:var(--big-button-border-radius);font-size:1rem;height:2rem}.k-toolbar{border-radius:var(--big-button-border-radius);border-top-left-radius:var(--parent-border-radius);border-top-right-radius:var(--parent-border-radius)}.k-toolbar p,.k-ellipsis{text-overflow:ellipsis;white-space:nowrap;overflow:hidden}@-moz-document url-prefix(){.k-ellipsis{overflow:clip}}:root{--kv-single_view_picker_overflow:unset}.k-single_view_picker{background-color:transparent;border-radius:var(--big-button-border-radius);overflow:var(--kv-single_view_picker_overflow)}@-moz-document url-prefix(){:root{--kv-single_view_picker_overflow:clip}}.calcitExtremeBackground{--button-shadow-color:black;--kv-text_color_rgb:0,0,0;--button-shadow-color:lightgray;--select-arrow:url('data:image/svg+xml;charset=US-ASCII,%3Csvg%20xmlns%3D%22http%3A%2F%2Fwww.w3.org%2F2000%2Fsvg%22%20width%3D%22292.4%22%20height%3D%22292.4%22%3E%3Cpath%20fill%3D%22%23000000%22%20d%3D%22M287%2069.4a17.6%2017.6%200%200%200-13-5.4H18.4c-5%200-9.3%201.8-12.9%205.4A17.6%2017.6%200%200%200%200%2082.2c0%205%201.8%209.3%205.4%2012.9l128%20127.9c3.6%203.6%207.8%205.4%2012.8%205.4s9.2-1.8%2012.8-5.4L287%2095c3.5-3.5%205.4-7.8%205.4-12.8%200-5-1.9-9.2-5.5-12.8z%22%2F%3E%3C%2Fsvg%3E');--quickmenu-icon:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAQAAADZc7J/AAAAJ0lEQVRIx2NgGAWMeOT+E6OKiVIXDAMDRsFoShxNiaMpcTQlDisAANbvAxyWjZyNAAAAAElFTkSuQmCC");--button-gradient:linear-gradient(rgba(255,255,255,0.5),rgba(100,100,100,0.4));--button-hover-gradient:linear-gradient(rgba(255,255,255,0.6),rgba(0,0,0,0.4))}.calcitStandardBackground{--button-gradient:var(--standard-button-gradient);--button-hover-gradient:var(--button-on-dark-hover-gradient)}code{background-color:#eee}.k-popup{background-color:white}.k-popup_background{background-color:rgba(200,200,200,0.6)}textarea{color:var(--kv-black_accent_color);border:1px solid var(--kv-lighter_twilight_accent_color);background-color:var(--kv-white_accent_color)}input[type=text],input[type=password]{border-color:lightgray;background-color:white;color:black}.k-toolbar{color:var(--kv-lighter_twilight_accent_color);background-color:var(--kv-lighter_twilight_accent_color);box-shadow:0 0 15px black}.k-single_view_picker:hover{background-color:var(--kv-light_accent_color)}.k-single_view_picker_select{background-color:var(--kv-lighter_twilight_accent_color)}.k-arrow_icon{background-image:var(--select-arrow);background-repeat:no-repeat;background-position:center;width:20px;background-size:contain;height:.9rem}.k-box_shadow{box-shadow:0 0 15px black}.k-closed{max-height:0}.k-closable{overflow:hidden;transition:max-height 1s ease-out}@media(min-width:1201px){.k-columns>*{width:20%}}@media(max-width:1200px){.k-columns>*{width:25%}}@media(max-width:1000px){.k-columns>*{width:calc(100% / 3)}}@media(max-width:800px){.k-columns>*{width:50%}}@media(max-width:400px){.k-columns>*{width:100%}}.k-horizontal_resize_cursor{cursor:col-resize}.k-desktop_only{display:inherit}.k-mobile_only{display:none}.width-tet-textfield{width:calc(85% - 21px)}.width-tet-button{width:15%}.k-large_popup{width:80%;height:80%}.k-small_popup{max-height:65%;max-width:450px;padding:.5em;width:initial;display:flex;flex-direction:column}@media(max-width:600px){.k-large_popup{width:100%;height:100%;--parent-border-radius:0}.k-small_popup{max-width:90%;width:90%;max-height:75%}.k-mobile_only{display:initial}.k-desktop_only{display:none}.width-tet-textfield{width:calc(80% - 21px)}.width-tet-button{width:20%}}.k-italic{font-style:italic}.k-bold{font-weight:bold}.k-center_text{text-align:center}.k-standard_font{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,Oxygen-Sans,Ubuntu,Cantarell,"Helvetica Neue",sans-serif}.k-no_highlight{-webkit-user-select:none;-khtml-user-select:none;-moz-user-select:none;-o-user-select:none;user-select:none}.k-image_button:hover,.k-image_button:focus{opacity:.75}.k-image_button:active{opacity:.5}.k-image_button{opacity:1;display:inline-block}.k-left_button,.k-right_button{--button-gradient:linear-gradient(rgba(225,225,225,0.7),rgba(0,0,0,0.5));background-color:transparent;background-image:var(--button-gradient);border:2px solid rgba(100,100,100,0.8);width:initial;padding:13px;padding-top:10px;padding-bottom:10px;box-shadow:1px 1px 3px black;color:rgba(255,255,255,0.8)}.k-left_button:hover,.k-right_button:hover{--button-gradient:linear-gradient(rgba(255,255,255,0.8),rgba(0,0,0,0.7))}.k-right_button{border-right-color:transparent;border-top-left-radius:var(--big-button-border-radius);border-bottom-left-radius:var(--big-button-border-radius)}.k-left_button{border-left-color:transparent;border-top-right-radius:var(--big-button-border-radius);border-bottom-right-radius:var(--big-button-border-radius)}.k-bottom{position:absolute;bottom:0}.k-top{position:absolute;top:0}.k-left{position:absolute;left:0}.k-right{position:absolute;right:0}.k-center{display:block;margin:0 auto}.k-horizontal_center{display:inline-block;left:50%;transform:translateX(-50%);position:absolute}.k-vertical_center{display:inline-block;top:50%;transform:translateY(-50%);position:absolute}.k-window_bottom{position:fixed;bottom:0}.k-window_top{position:fixed;top:0}.k-window_left{position:fixed;left:0}.k-window_right{position:fixed;right:0}.k-window_center{position:fixed;left:50%;top:50%;transform:translate(-50%,-50%)}.k-front{z-index:1}.k-relative{position:relative}.k-rounded{border-radius:var(--default-roundness)}.k-horizontal_scroller,.k-vertical_scroller{-webkit-overflow-scrolling:touch}.k-horizontal_scroller{white-space:nowrap;overflow-x:scroll;overflow-y:hidden;width:100%}.k-vertical_scroller{overflow-y:auto;flex-grow:1}:root{--kv-sidebar_content_width:25vw}.k-sidebar_content_wide{width:var(--kv-sidebar_content_width);max-width:50vw}.k-sidebar_mainview_wide{width:calc(100% - var(--kv-sidebar_content_width) - 14px);min-width:calc(50vw - 28px)}.k-sidebar_invisible_part{width:calc(var(--kv-sidebar_content_width) - 5px);max-width:calc(50vw - 5px)}.k-sidebar_hidden .k-sidebar_part{visibility:hidden;width:0}.k-sidebar_hidden .k-sidebar_mainview_wide{width:100%}@media(max-width:600px){.k-sidebar_mainview_wide{width:100%}.k-sidebar_part{display:none}}.k-dynamic_size{width:initial;height:initial}.k-dynamic_width{width:initial}.k-dynamic_height{height:initial}.k-fit{width:100%;height:100%;object-fit:contain}.k-ui_fit_container{display:flex;align-items:center;justify-content:center}.k-ui_fit_child{max-width:100%;max-height:100%}@keyframes k-animation_fade{from{opacity:1}to{opacity:0}}@keyframes k-animation_fade_reverse{from{opacity:0}to{opacity:1}}@keyframes k-animation_scale{from{scale:1}to{scale:0}}@keyframes k-animation_scale_reverse{from{scale:0}to{scale:1}}
</style><style id="k-style_dark" media="(prefers-color-scheme: dark)">
:root{--kv-background_color:#393939;--kv-black_accent_color:#393939}.calcitStandardBackground,.calcitExtremeBackground{--kv-text_color_rgb:255,255,255;--button-gradient:var(--standard-button-gradient);--button-shadow-color:black;--kv-background_color:#393939;--button-hover-gradient:var(--button-on-dark-hover-gradient);--select-arrow:var(--white-select-arrow);--quickmenu-icon:var(--white-quickmenu-icon)}.inverted{filter:invert()}body{background-color:#393939;color:white}code{background-color:#656565}.k-popup{background-color:var(--kv-black_accent_color)}.k-popup_background{background-color:rgba(100,100,100,0.6)}textarea{color:var(--kv-white_accent_color);border:1px solid var(--kv-lighter_twilight_accent_color);background-color:var(--kv-darker_twilight_accent_color)}input[type=text],input[type=password]{background-color:#323232;border-color:#727272;color:white}.k-toolbar{color:var(--kv-white_accent_color);background-color:var(--kv-twilight_accent_color);box-shadow:0 0 15px black}.k-single_view_picker:hover{background-image:linear-gradient(to right,var(--kv-light_accent_color),var(--kv-lighter_twilight_accent_color));color:var(--kv-darker_twilight_accent_color)}.k-single_view_picker_select{background-image:linear-gradient(to right,var(--kv-twilight_accent_color),var(--kv-darker_twilight_accent_color))}
</style><style id="k-style_highcontrast" media="(prefers-contrast: more)">
*{--button-gradient:linear-gradient(transparent,transparent) !important;box-shadow:none !important;border-width:2px !important}.k-toolbar{background-color:#0f0f0f;border-bottom:solid rgb(var(--kv-text_color_rgb))}input[type=text],input[type=password],textarea,.k-popup{border:solid rgb(var(--kv-text_color_rgb))}textarea{background-color:var(--kv-background_color)}.k-popup_background{background-color:white}.k-single_view_picker:hover{-webkit-filter:invert(100%);filter:invert(100%);background-color:var(--kv-background_color) !important;background-image:var(--kv-background_color) !important;color:inherit !important}.k-single_view_picker:hover img{filter:invert(100%)}.k-checkbox_container input:checked ~ .k-checkbox_mark{background-color:black}.k-bold{font-weight:bolder !important;text-decoration:underline}.k-loading_indicator{background-image:linear-gradient(white,white) !important}
</style><style id="k-style_highcontrast_dark" media="(prefers-contrast: more) and (prefers-color-scheme: dark)">
*{--kv-background_color:black}body{background-color:black}.k-popup_background{background-color:black}
</style>
</head><body>
<div id="playground" style="width: 100%; height: 100%;;" class="calcitExtremeBackground"></div>
<script>
	//Timeout
	var timeoutSince = parseInt(GLang.eval("storageLoadString: 'kalzit.timeoutSince'").value);
	var timeoutActive = false;
	var timeoutMinutes = parseInt(GLang.eval("storageLoadString: 'kalzit.timeoutMinutes'").value);
	
	if (timeoutSince) {
		//Timeout is set - check what to do now
		var diff = Date.now() - timeoutSince;
		if(diff < 1000 * 60 * 20) {
			//Twenty minutes are not up yet - do not allow using the app
			timeoutActive = true;
			GLang.eval("'kalzit.timeoutMinutes' storageSaveString 0");
		} else {
			//Timeout is over - reset minute count (allows 30 minutes of usage)
			Timeout.startTimer(timeoutMinutes);
		}
	} else {
		Timeout.startTimer(timeoutMinutes);
	}
	
	if (!timeoutActive){
		try {
			GLang.packageManager.installJs((function(){this.appId="home"}));GLang.packageManager.installJs((function(){this.standardApps=[{id:"reader",title:"Reader",icon:".doNotTouch/static/4cccd42135afb712aecd0edfd674c84bff3f52ce.png",dev:true},{id:"ide",title:"Development Tools",dev:true},{id:"music",title:"Music",color:"cyan",icon:".doNotTouch/static/d169a58213f3271df20a65271ac3f09a5f7aa605.png",dev:false},{id:"PhotoShaker",title:"PhotoShaker",color:"150",dev:true},{id:"images",title:"Images",color:"green",icon:".doNotTouch/static/0c0b8b3354e0a37df0898cce785f0847bb848335.png",dev:true},{id:"MusicShaker",title:"MusicShaker",color:"150",dev:true},{id:"todo",title:"TODOs",color:"magenta",icon:".doNotTouch/static/d5dee058c385c24ec553396d36b9a5b36759bdbb.png",dev:true},{id:"videos",title:"Videos",color:"128;0",icon:".doNotTouch/static/c0b6382ae8edd103eac100b7e1c434b321c182e2.png",dev:false},{id:"notes",title:"Notes",color:"blue",icon:".doNotTouch/static/7f952eb1fd23566c1519debbe15cdf634099b5ca.png",dev:false},{id:"files",title:"Files",icon:".doNotTouch/static/e1e549d3b0fd8fb56bd303768bd4ad6bf34d74a4.png",dev:false}];this.globalStringAssetMap={de:{hello:"Hallo Welt",registrationSuccess:"Dein Benutzer wurde erfolgreich erstellt! Du kannst dich nun anmelden.",registerButton:"Einen neuen Benutzer erstellen",loginSuccess:"Anmeldung erfolgreich!",username:"Name",password:"Passwort",optionsSeparator:"-- oder du kannst --",register:"Benutzer erstellen",login:"Anmelden",addButton:"Neu",removeButton:"Löschen",registrationDialogTitle:"Benutzer-Erstellung",loginDialogTitle:"Anmeldung",logoutButton:"Abmelden",accountDialogTitlePrefix:"Benutzer: ",automaticTimeoutCheckbox:"Automatische Auszeit nach insgesamt 30 Minuten Nutzung",menu:"Menü",search:"Suchen...",go:"Los!",pressGoHint:"Auf 'Los!' drücken, um aktuelle Suchergebnisse anzuzeigen",loginHint:"Du musst dich anmelden, um diese App zu nutzen.",openLogin:"Anmelde-Fenster öffnen",needBreak:"Ich brauche jetzt eine Auszeit",manageInternetAccess:"Internet-Zugriff verwalten",allowNotifications:"Benachrichtigungen erlauben",dontAllow:"Nicht erlauben",allow:"Erlauben",confirmDomainAccess:"Bitte bestätige, dass du auf die folgende Internetseite zugreifen möchtest: ",loginDetailsInvalid:"Deine Login-Informationen scheinen nicht korrekt zu sein. Um deinen Account zu schützen musst du dich neu anmelden.",timeoutInFiveMinutes:"Du hast die Kalzit Apps inzwischen für etwa 25 Minuten genutzt. In fünf Minuten startet eine automatische Auszeit von 20 Minuten, während der du die Apps nicht nutzen kannst.",timeoutInXMinutes:"Du hast die Kalzit Apps inzwischen für einige Zeit genutzt. In $x$ Minuten startet eine automatische Auszeit von 20 Minuten, während der du die Apps nicht nutzen kannst.",timeoutNow:"Deine Auszeit wird gleich beginnen - du kannst diese App noch für 30 Sekunden nutzen.",showPage:"Seite anzeigen",ok:"OK",copy:"Kopieren",showContactMail:"Kontakt E-Mail anzeigen",sendFeedbackAskQuestion:"Feedback senden / Frage stellen",enterSearchTerm:"Bitte gib einen Suchbegriff ein"},strings:{hello:"Hello World",registrationSuccess:"Success! Your user was created. You can now log in.",registerButton:"Register a new user",loginSuccess:"Success! Your are now logged in",username:"Name",password:"Password",optionsSeparator:"-- or you could --",register:"Register",login:"Login",addButton:"Add",removeButton:"Remove",registrationDialogTitle:"Registration",loginDialogTitle:"Login",logoutButton:"Logout",accountDialogTitlePrefix:"Account: ",automaticTimeoutCheckbox:"Enable time out after 30 minutes of usage",menu:"Menu",search:"Search...",go:"Go!",pressGoHint:"Press 'Go!' to see search results",loginHint:"You need to log in in order to use this app.",openLogin:"Open login window",needBreak:"I need a break right now",manageInternetAccess:"Manage internet access",allowNotifications:"Allow notifications",dontAllow:"Dont allow",allow:"Allow",confirmDomainAccess:"Please confirm that you want to access this domain: ",loginDetailsInvalid:"Your login details appear to be invalid - to protect your account security, you have to log in again",timeoutInFiveMinutes:"You have used the Kalzit apps for about 25 minutes now. In about five minutes you will automatically get a 20 minute timeout, during which you can not use the apps.",timeoutInXMinutes:"You have used the Kalzit apps for a while now. In about $x$ minutes you will automatically get a 20 minute timeout, during which you can not use the apps.",timeoutNow:"Your timeout will start soon - you can use this app for 30 more seconds.",showPage:"Show me that page!",ok:"OK",copy:"Copy",showContactMail:"Show contact E-Mail",sendFeedbackAskQuestion:"Send feedback / ask a question",enterSearchTerm:"Please enter a search term"}}}));GLang.evaluateTree([{name:"uiTitle",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{string:"Home",kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{kind:"parentheses",parentheses:[{kind:"parentheses",parentheses:[{num:2,kind:"num",waiting:false},{name:"eq",kind:"name",waiting:false},{name:"length",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"standardApps",kind:"name",waiting:false}],waiting:false},{special:"&",kind:"special",waiting:false},{kind:"parentheses",parentheses:[{name:"not",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"developerMode",kind:"name",waiting:false}],waiting:false}],waiting:false},{name:"if",kind:"name",waiting:false},{string:'\n\tlaunchAppName: "files"\n',kind:"string",waiting:false},{kind:"dot",dot:1,waiting:false},{name:"print",kind:"name",waiting:false},{name:"do",kind:"name",waiting:false},{special:":",kind:"special",waiting:false},{name:"uiHomeScreen",kind:"name",waiting:false}],new GLang.RuntimeEnvironment(GLang.defaultRuntimeEnvironment));

		} catch (error) {
			console.warn("Your app code crashed: ");
			console.log(error);
			console.log("---")
		}
		if(GLANG_DEBUG) {
			console.warn("Your app code should be running now!");
			//Start auto-refresh
			GLang.eval("!debugAutoRefresh");
		}
	} else GLang.eval("{} showMessageAsync 'Your app timeout is currently active - you can use the Kalzit apps again in 20 minutes (or less)'")
</script>
<noscript>
	<!-- show a little message to tell the user that JavaScript has to be enabled -->
	<div class="k-popup_background k-window_top k-window_left" style="width: 100%; height: 100%;"></div>
	<div class="k-popup k-small_popup k-window_center">
		Please enable JavaScript to use this app. Thanks :)
	</div>
</noscript></body></html>
=======
>>>>>>> Stashed changes
